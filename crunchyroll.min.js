!function i(r,o,a){function s(t,e){if(!o[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}n=o[t]={exports:{}};r[t][0].call(n.exports,function(e){return s(r[t][1][e]||e)},n,n.exports,i,r,o,a)}return o[t].exports}for(var l="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){"use strict";var o,l,i,r=function(e){for(var t=[],n=0;n<e.length;++n){var i=e.charCodeAt(n);i<128?t.push(i):(i<2048?t.push(192|i>>6):(i<65536?t.push(224|i>>12):(t.push(240|i>>18),t.push(128|63&i>>12)),t.push(128|63&i>>6)),t.push(128|63&i))}return t},u=function(e){for(var t=[],n=0;n<e.length;){var i=e[n++];i<128||(i<224?i=(31&i)<<6:(i<240?i=(15&i)<<12:(i=(7&i)<<18,i|=(63&e[n++])<<12),i|=(63&e[n++])<<6),i|=63&e[n++]),t.push(String.fromCharCode(i))}return t.join("")},d={};function c(e){for(var t=0,n=[],i=0|e.length/3;0<i--;){var r=(e[t]<<16)+(e[t+1]<<8)+e[t+2];t+=3,n.push(o.charAt(63&r>>18)),n.push(o.charAt(63&r>>12)),n.push(o.charAt(63&r>>6)),n.push(o.charAt(63&r))}return 2==e.length-t?(r=(e[t]<<16)+(e[t+1]<<8),n.push(o.charAt(63&r>>18)),n.push(o.charAt(63&r>>12)),n.push(o.charAt(63&r>>6)),n.push("=")):1==e.length-t&&(r=e[t]<<16,n.push(o.charAt(63&r>>18)),n.push(o.charAt(63&r>>12)),n.push("==")),n.join("")}function f(e){for(var t=0,n=[],i=0|e.length/4;0<i--;){var r=(l[e.charCodeAt(t)]<<18)+(l[e.charCodeAt(t+1)]<<12)+(l[e.charCodeAt(t+2)]<<6)+l[e.charCodeAt(t+3)];n.push(255&r>>16),n.push(255&r>>8),n.push(255&r),t+=4}return n&&("="==e.charAt(t-2)?(n.pop(),n.pop()):"="==e.charAt(t-1)&&n.pop()),n}o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=function(){for(var e=[],t=0;t<o.length;++t)e[o.charCodeAt(t)]=t;return e["=".charCodeAt(0)]=0,e}(),i={encode:function(e){for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t},decode:function(e){for(var t=0;t<s.length;++t)a[t]=String.fromCharCode(a[t]);return a.join("")}},d.decodeArray=function(e){e=f(e);return new Uint8Array(e)},d.encodeASCII=function(e){return c(i.encode(e))},d.decodeASCII=function(e){e=f(e);return i.decode(e)},d.encode=function(e){return c(r(e))},d.decode=function(e){e=f(e);return u(e)},void 0!==n&&(n.decode=d.decode,n.decodeArray=d.decodeArray,n.encode=d.encode,n.encodeASCII=d.encodeASCII)},{}],2:[function(e,t,n){"use strict";function a(e){var t=e;return c.hasOwnProperty(e)&&(t=c[e]),String.fromCharCode(t)}function s(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t}function l(e,t,n,i,r){this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=i||"black",this.flash=r||!1}function i(e,t,n,i,r,o){this.uchar=e||" ",this.penState=new l(t,n,i,r,o)}function r(){this.chars=[];for(var e=0;e<32;e++)this.chars.push(new i);this.pos=0,this.currPenState=new l}function o(){this.rows=[];for(var e=0;e<15;e++)this.rows.push(new r);this.currRow=14,this.nrRollUpRows=null,this.reset()}function u(e,t){this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new o,this.nonDisplayedMemory=new o,this.lastOutputScreen=new o,this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}function d(e,t,n){this.field=e||1,this.outputs=[t,n],this.channels=[new u(1,t),new u(2,n)],this.currChNr=-1,this.lastCmdA=null,this.lastCmdB=null,this.bufferedData=[],this.startTime=null,this.lastTime=null,this.dataCounters={padding:0,char:0,cmd:0,other:0}}var c,f,p,h,g,m,y;n=void 0===n?(void 0).cea608parser={}:n,c={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},f={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},p={17:2,18:4,21:6,22:8,23:10,19:13,20:15},h={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},g={25:2,26:4,29:6,30:8,31:10,27:13,28:15},m=["white","green","blue","cyan","red","yellow","magenta","black","transparent"],y={verboseFilter:{DATA:3,DEBUG:3,INFO:2,WARNING:2,TEXT:1,ERROR:0},time:null,verboseLevel:0,setTime:function(e){this.time=e},log:function(e,t){var n=this.verboseFilter[e];this.verboseLevel>=n&&console.log(this.time+" ["+e+"] "+t)}},l.prototype={reset:function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},setStyles:function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var i=t[n];e.hasOwnProperty(i)&&(this[i]=e[i])}},isDefault:function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},equals:function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},copy:function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},toString:function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}},i.prototype={reset:function(){this.uchar=" ",this.penState.reset()},setChar:function(e,t){this.uchar=e,this.penState.copy(t)},setPenState:function(e){this.penState.copy(e)},equals:function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},copy:function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},isEmpty:function(){return" "===this.uchar&&this.penState.isDefault()}},r.prototype={equals:function(e){for(var t=!0,n=0;n<32;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<32;t++)this.chars[t].copy(e.chars[t])},isEmpty:function(){for(var e=!0,t=0;t<32;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},setCursor:function(e){this.pos!==e&&(this.pos=e),this.pos<0?(y.log("ERROR","Negative cursor position "+this.pos),this.pos=0):32<this.pos&&(y.log("ERROR","Too large cursor position "+this.pos),this.pos=32)},moveCursor:function(e){var t=this.pos+e;if(1<e)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},backSpace:function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},insertChar:function(e){144<=e&&this.backSpace();var t=a(e);32<=this.pos?y.log("ERROR","Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},clearFromPos:function(e){for(var t=e;t<32;t++)this.chars[t].reset()},clear:function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},clearToEndOfRow:function(){this.clearFromPos(this.pos)},getTextString:function(){for(var e=[],t=!0,n=0;n<32;n++){var i=this.chars[n].uchar;" "!==i&&(t=!1),e.push(i)}return t?"":e.join("")},setPenStyles:function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}},o.prototype={reset:function(){for(var e=0;e<15;e++)this.rows[e].clear();this.currRow=14},equals:function(e){for(var t=!0,n=0;n<15;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},copy:function(e){for(var t=0;t<15;t++)this.rows[t].copy(e.rows[t])},isEmpty:function(){for(var e=!0,t=0;t<15;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},backSpace:function(){this.rows[this.currRow].backSpace()},clearToEndOfRow:function(){this.rows[this.currRow].clearToEndOfRow()},insertChar:function(e){this.rows[this.currRow].insertChar(e)},setPen:function(e){this.rows[this.currRow].setPenStyles(e)},moveCursor:function(e){this.rows[this.currRow].moveCursor(e)},setCursor:function(e){y.log("INFO","setCursor: "+e),this.rows[this.currRow].setCursor(e)},setPAC:function(e){y.log("INFO","pacData = "+JSON.stringify(e));var t,n=e.row-1,n=(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.currRow=n,this.rows[this.currRow]),n=(null!==e.indent&&(t=e.indent,t=Math.max(t-1,0),n.setCursor(e.indent),e.color=n.chars[t].penState.foreground),{foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1});this.setPen(n)},setBkgData:function(e){y.log("INFO","bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},setRollUpRows:function(e){this.nrRollUpRows=e},rollUp:function(){var e;null!==this.nrRollUpRows?(y.log("TEXT",this.getDisplayText()),e=this.currRow+1-this.nrRollUpRows,(e=this.rows.splice(e,1)[0]).clear(),this.rows.splice(this.currRow,0,e),y.log("INFO","Rolling up")):y.log("DEBUG","roll_up but nrRollUpRows not set yet")},getDisplayText:function(e){e=e||!1;for(var t=[],n="",i=0;i<15;i++){var r=this.rows[i].getTextString();r&&t.push(e?"Row "+(i+1)+': "'+r+'"':r.trim())}return n=0<t.length?e?"["+t.join(" | ")+"]":t.join("\n"):n},getTextAndFormat:function(){return this.rows}},u.prototype={modes:["MODE_ROLL-UP","MODE_POP-ON","MODE_PAINT-ON","MODE_TEXT"],reset:function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.lastCueEndTime=null},getHandler:function(){return this.outputFilter},setHandler:function(e){this.outputFilter=e},setPAC:function(e){this.writeScreen.setPAC(e)},setBkgData:function(e){this.writeScreen.setBkgData(e)},setMode:function(e){e!==this.mode&&(this.mode=e,y.log("INFO","MODE="+e),"MODE_POP-ON"==this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},insertChars:function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";y.log("INFO",n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(y.log("TEXT","DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},cc_RCL:function(){y.log("INFO","RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},cc_BS:function(){y.log("INFO","BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory)&&this.outputDataUpdate()},cc_AOF:function(){},cc_AON:function(){},cc_DER:function(){y.log("INFO","DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},cc_RU:function(e){y.log("INFO","RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},cc_FON:function(){y.log("INFO","FON - Flash On"),this.writeScreen.setPen({flash:!0})},cc_RDC:function(){y.log("INFO","RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},cc_TR:function(){y.log("INFO","TR"),this.setMode("MODE_TEXT")},cc_RTD:function(){y.log("INFO","RTD"),this.setMode("MODE_TEXT")},cc_EDM:function(){y.log("INFO","EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate()},cc_CR:function(){y.log("CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate()},cc_ENM:function(){y.log("INFO","ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},cc_EOC:function(){var e;y.log("INFO","EOC - End Of Caption"),"MODE_POP-ON"===this.mode&&(e=this.displayedMemory,this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,y.log("TEXT","DISP: "+this.displayedMemory.getDisplayText())),this.outputDataUpdate()},cc_TO:function(e){y.log("INFO","TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},cc_MIDROW:function(e){var t={flash:!1};t.underline=e%2==1,t.italics=46<=e,t.italics?t.foreground="white":(e=Math.floor(e/2)-16,t.foreground=["white","green","blue","cyan","red","yellow","magenta"][e]),y.log("INFO","MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},outputDataUpdate:function(){var e=y.time;null!==e&&this.outputFilter&&(this.outputFilter.updateData&&this.outputFilter.updateData(e,this.displayedMemory),null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.lastOutputScreen),this.cueStartTime=this.displayedMemory.isEmpty()?null:e):this.cueStartTime=e,this.lastOutputScreen.copy(this.displayedMemory))},cueSplitAtTime:function(e){!this.outputFilter||this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e)}},d.prototype={getHandler:function(e){return this.channels[e].getHandler()},setHandler:function(e,t){this.channels[e].setHandler(t)},addData:function(e,t){var n,i,r,o=!1;this.lastTime=e,y.setTime(e);for(var a=0;a<t.length;a+=2)i=127&t[a],r=127&t[a+1],16<=i&&i<=31&&i===this.lastCmdA&&r===this.lastCmdB?(this.lastCmdA=null,this.lastCmdB=null,y.log("DEBUG","Repeated command ("+s([i,r])+") is dropped")):0!=i||0!=r?(y.log("DATA","["+s([t[a],t[a+1]])+"] -> ("+s([i,r])+")"),(n=this.parseCmd(i,r)||this.parseMidrow(i,r)||this.parsePAC(i,r)||this.parseBackgroundAttributes(i,r))||(o=this.parseChars(i,r))&&(this.currChNr&&0<=this.currChNr?this.channels[this.currChNr-1].insertChars(o):y.log("WARNING","No channel found yet. TEXT-MODE?")),n?this.dataCounters.cmd+=2:o?this.dataCounters.char+=2:(this.dataCounters.other+=2,y.log("WARNING","Couldn't parse cleaned data "+s([i,r])+" orig: "+s([t[a],t[a+1]])))):this.dataCounters.padding+=2},parseCmd:function(e,t){var n,i;return((20===e||21===e||28===e||29===e)&&32<=t&&t<=47||(23===e||31===e)&&33<=t&&t<=35)&&(i=this.channels[(n=20===e||21===e||23===e?1:2)-1],20===e||21===e||28===e||29===e?32===t?i.cc_RCL():33===t?i.cc_BS():34===t?i.cc_AOF():35===t?i.cc_AON():36===t?i.cc_DER():37===t?i.cc_RU(2):38===t?i.cc_RU(3):39===t?i.cc_RU(4):40===t?i.cc_FON():41===t?i.cc_RDC():42===t?i.cc_TR():43===t?i.cc_RTD():44===t?i.cc_EDM():45===t?i.cc_CR():46===t?i.cc_ENM():47===t&&i.cc_EOC():i.cc_TO(t-32),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0)},parseMidrow:function(e,t){var n;return(17===e||25===e)&&32<=t&&t<=47&&((n=17===e?1:2)!==this.currChNr?(y.log("ERROR","Mismatch channel in midrow parsing"),!1):((n=this.channels[n-1]).insertChars([32]),n.cc_MIDROW(t),y.log("DEBUG","MIDROW ("+s([e,t])+")"),this.lastCmdA=e,this.lastCmdB=t,!0))},parsePAC:function(e,t){var n,i;return((17<=e&&e<=23||25<=e&&e<=31)&&64<=t&&t<=127||(16===e||24===e)&&64<=t&&t<=95)&&(n=e<=23?1:2,i=this.interpretPAC((64<=t&&t<=95?1==n?f:h:1==n?p:g)[e],t),this.channels[n-1].setPAC(i),this.lastCmdA=e,this.lastCmdB=t,this.currChNr=n,!0)},interpretPAC:function(e,t){e={color:null,italics:!1,indent:null,underline:!1,row:e};return e.underline=1==(1&(t=95<t?t-96:t-64)),t<=13?e.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(t/2)]:t<=15?(e.italics=!0,e.color="white"):e.indent=4*Math.floor((t-16)/2),e},parseChars:function(e,t){var n,i,r=null,o=null;return 17<=(i=25<=e?(r=2,e-8):(r=1,e))&&i<=19?(n=t,y.log("INFO","Special char '"+a(n=17===i?t+80:18===i?t+112:t+144)+"' in channel "+r),o=[n],this.lastCmdA=e,this.lastCmdB=t):32<=e&&e<=127&&(o=0===t?[e]:[e,t],this.lastCmdA=null,this.lastCmdB=null),o&&(i=s(o),y.log("DEBUG","Char codes =  "+i.join(","))),o},parseBackgroundAttributes:function(e,t){var n,i;return((16===e||24===e)&&32<=t&&t<=47||(23===e||31===e)&&45<=t&&t<=47)&&(n={},16===e||24===e?(i=Math.floor((t-32)/2),n.background=m[i],t%2==1&&(n.background=n.background+"_semi")):45===t?n.background="transparent":(n.foreground="black",47===t&&(n.underline=!0)),this.channels[(e<24?1:2)-1].setBkgData(n),this.lastCmdA=e,this.lastCmdB=t,!0)},reset:function(){for(var e=0;e<this.channels.length;e++)this.channels[e]&&this.channels[e].reset();this.lastCmdA=null,this.lastCmdB=null},cueSplitAtTime:function(e){for(var t=0;t<this.channels.length;t++)this.channels[t]&&this.channels[t].cueSplitAtTime(e)}},n.logger=y,n.PenState=l,n.CaptionScreen=o,n.Cea608Parser=d,n.findCea608Nalus=function(e,t,n){for(var i,r,o,a,s,l,u=t,d=[];u<t+n;){if(i=e.getUint32(u),6==(31&e.getUint8(u+4)))for(var c=u+5,f=-1;c<u+4+i-1;){for(var f=0,p=255;255===p;)f+=p=e.getUint8(c),c++;for(var h=0,p=255;255===p;)h+=p=e.getUint8(c),c++;o=h,a=e,s=c,l=void 0,(4!==(r=f)||o<8?null:(r=a.getUint8(s),o=a.getUint16(s+1),l=a.getUint32(s+3),a=a.getUint8(s+7),181==r&&49==o&&1195456820==l&&3==a))&&d.push([c,h]),c+=h}u+=i+4}return d},n.extractCea608DataFromRange=function(e,t){var n=t[0],i=[[],[]],r=31&e.getUint8(n+=8);n+=2;for(var o=0;o<r;o++){var a=e.getUint8(n),s=4&a,a=3&a,l=(n++,e.getUint8(n)),u=(n++,e.getUint8(n));n++,s&&(127&l)+(127&u)!=0&&(0==a?(i[0].push(l),i[0].push(u)):1==a&&(i[1].push(l),i[1].push(u)))}return i}},{}],3:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(A){void 0===(A=A||{}).escapeMode&&(A.escapeMode=!0),void 0===A.attributePrefix&&(A.attributePrefix="_"),A.arrayAccessForm=A.arrayAccessForm||"none",A.emptyNodeForm=A.emptyNodeForm||"text",void 0===A.enableToStringFunc&&(A.enableToStringFunc=!0),A.arrayAccessFormPaths=A.arrayAccessFormPaths||[],void 0===A.skipEmptyTextNodesForObj&&(A.skipEmptyTextNodesForObj=!0),void 0===A.stripWhitespaces&&(A.stripWhitespaces=!0),A.datetimeAccessFormPaths=A.datetimeAccessFormPaths||[],void 0===A.useDoubleQuotes&&(A.useDoubleQuotes=!1),A.xmlElementsFilter=A.xmlElementsFilter||[],A.jsonPropertiesFilter=A.jsonPropertiesFilter||[],void 0===A.keepCData&&(A.keepCData=!1),void 0===A.ignoreRoot&&(A.ignoreRoot=!1);var w=1,I=3,C=4,R=8,D=9;function N(e){var t=e.localName;return t=null!=(t=null==t?e.baseName:t)&&""!=t?t:e.nodeName}function l(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;"):e}function M(e,t,n,i){for(var r=0;r<e.length;r++){var o=e[r];if("string"==typeof o){if(o==i)break}else if(o instanceof RegExp){if(o.test(i))break}else if("function"==typeof o&&o(t,n,i))break}return r!=e.length}function O(e,t,n){"property"===A.arrayAccessForm&&(e[t]instanceof Array?e[t+"_asArray"]=e[t]:e[t+"_asArray"]=[e[t]]),!(e[t]instanceof Array)&&0<A.arrayAccessFormPaths.length&&M(A.arrayAccessFormPaths,e,t,n)&&(e[t]=[e[t]])}function x(e){var t=e.split(/[-T:+Z]/g),n=new Date(t[0],t[1]-1,t[2]),i=t[5].split(".");return n.setHours(t[3],t[4],i[0]),1<i.length&&n.setMilliseconds(i[1]),t[6]&&t[7]?(i=60*t[6]+Number(t[7]),i=0+("-"==(/\d\d-\d\d:\d\d$/.test(e)?"-":"+")?-1*i:i),n.setMinutes(n.getMinutes()-i-n.getTimezoneOffset())):-1!==e.indexOf("Z",e.length-1)&&(n=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()))),n}function s(e,t,n,i){var r="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=n)for(var o=0;o<n.length;o++){var a=n[o],s=e[a];A.escapeMode&&(s=l(s)),r+=" "+a.substr(A.attributePrefix.length)+"=",A.useDoubleQuotes?r+='"'+s+'"':r+="'"+s+"'"}return r+(i?"/>":">")}function u(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function d(e,t){return"property"==A.arrayAccessForm&&-1!==(n=t.toString()).indexOf(i="_asArray",n.length-i.length)||0==t.toString().indexOf(A.attributePrefix)||0==t.toString().indexOf("__")||e[t]instanceof Function;var n,i}function c(e){var t=0;if(e instanceof Object)for(var n in e)d(e,n)||t++;return t}function f(e){var t=[];if(e instanceof Object)for(var n in e)-1==n.toString().indexOf("__")&&0==n.toString().indexOf(A.attributePrefix)&&t.push(n);return t}function p(e){var t,n,i="";return e instanceof Object?i+=(n="",null!=(t=e).__cdata&&(n+="<![CDATA["+t.__cdata+"]]>"),null!=t.__text&&(A.escapeMode?n+=l(t.__text):n+=t.__text),n):null!=e&&(A.escapeMode?i+=l(e):i+=e),i}function h(e,t){return""===e?t:e+"."+t}function g(e,t){var n,i,r,o="";if(0<c(e))for(var a in e)d(e,a)||""!=t&&(i=e,n=h(t,r=a),0!=A.jsonPropertiesFilter.length)&&""!=n&&!M(A.jsonPropertiesFilter,i,r,n)||(r=f(i=e[a]),null==i?o+=s(i,a,r,!0):i instanceof Object?i instanceof Array?o+=function(e,t,n,i){var r="";if(0==e.length)r+=s(e,t,n,!0);else for(var o=0;o<e.length;o++)r=(r=(r+=s(e[o],t,f(e[o]),!1))+g(e[o],h(i,t)))+u(e[o],t);return r}(i,a,r,t):i instanceof Date?o=(o=(o+=s(i,a,r,!1))+i.toISOString())+u(i,a):0<c(i)||null!=i.__text||null!=i.__cdata?o=(o=(o+=s(i,a,r,!1))+g(i,h(t,a)))+u(i,a):o+=s(i,a,r,!0):o=(o=(o+=s(i,a,r,!1))+p(i))+u(i,a));return o+p(e)}this.parseXmlString=function(e){var t;if(window.ActiveXObject||window,void 0===e)return null;if(window.DOMParser){var n=new window.DOMParser;try{0<(t=n.parseFromString(e,"text/xml")).getElementsByTagNameNS("*","parsererror").length&&(t=null)}catch(e){t=null}}else 0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e);return t},this.asArray=function(e){return void 0===e||null==e?[]:e instanceof Array?e:[e]},this.toXmlDateTime=function(e){return e instanceof Date?e.toISOString():"number"==typeof e?new Date(e).toISOString():null},this.asDateTime=function(e){return"string"==typeof e?x(e):e},this.xml2json=function(e){return function e(t,n){if(t.nodeType==D){for(var i=new Object,r=t.childNodes,o=0;o<r.length;o++)(s=r[o]).nodeType==w&&(A.ignoreRoot?i=e(s):(i={})[c=N(s)]=e(s));return i}if(t.nodeType==w){(i=new Object).__cnt=0;for(var a=[],r=t.childNodes,o=0;o<r.length;o++){var s,l,u,d,c=N(s=r[o]);s.nodeType!=R&&(l=n+"."+c,b=i,S=c,s.nodeType==w&&0<A.xmlElementsFilter.length&&!M(A.xmlElementsFilter,b,S,l)||(i.__cnt++,null==i[c]?(u=e(s,l),"#text"==c&&!/[^\s]/.test(u)||((d={})[c]=u,a.push(d)),i[c]=u,O(i,c,l)):(null==i[c]||i[c]instanceof Array||(i[c]=[i[c]],O(i,c,l)),u=e(s,l),"#text"==c&&!/[^\s]/.test(u)||((d={})[c]=u,a.push(d)),i[c][i[c].length]=u)))}i.__children=a;for(var f=N(t),p=0;p<t.attributes.length;p++){var h=t.attributes[p];i.__cnt++;for(var g=h.value,m=0,y=A.matchers.length;m<y;m++){var v=A.matchers[m];v.test(h,f)&&(g=v.converter(h.value))}i[A.attributePrefix+h.name]=g}var _=t.prefix;return null!=_&&""!=_&&(i.__cnt++,i.__prefix=_),null!=i["#text"]&&(i.__text=i["#text"],i.__text instanceof Array&&(i.__text=i.__text.join("\n")),A.stripWhitespaces&&(i.__text=i.__text.trim()),delete i["#text"],"property"==A.arrayAccessForm&&delete i["#text_asArray"],i.__text=(_=i.__text,T=n+"."+(E=c),0<A.datetimeAccessFormPaths.length&&(T=T.split(".#")[0],M(A.datetimeAccessFormPaths,_,E,T))?x(_):_)),null!=i["#cdata-section"]&&(i.__cdata=i["#cdata-section"],delete i["#cdata-section"],"property"==A.arrayAccessForm)&&delete i["#cdata-section_asArray"],0==i.__cnt&&"text"==A.emptyNodeForm?i="":1==i.__cnt&&null!=i.__text?i=i.__text:1!=i.__cnt||null==i.__cdata||A.keepCData?1<i.__cnt&&null!=i.__text&&A.skipEmptyTextNodesForObj&&(A.stripWhitespaces&&""==i.__text||""==i.__text.trim())&&delete i.__text:i=i.__cdata,delete i.__cnt,!A.enableToStringFunc||null==i.__text&&null==i.__cdata||(i.toString=function(){return(null!=this.__text?this.__text:"")+(null!=this.__cdata?this.__cdata:"")}),i}var E,T,b,S;if(t.nodeType==I||t.nodeType==C)return t.nodeValue}(e)},this.xml_str2json=function(e){e=this.parseXmlString(e);return null!=e?this.xml2json(e):null},this.json2xml_str=function(e){return g(e,"")},this.json2xml=function(e){e=this.json2xml_str(e);return this.parseXmlString(e)},this.getVersion=function(){return"1.2.0"}},t.exports=n.default},{}],4:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e(5),o=i(e(124)),a=i(e(161)),s=i(e(102)),e=i(e(45));dashjs.Protection=a.default,dashjs.MetricsReporting=o.default,dashjs.MediaPlayerFactory=s.default,dashjs.Debug=e.default,n.default=dashjs,n.MediaPlayer=r.MediaPlayer,n.Protection=a.default,n.MetricsReporting=o.default,n.MediaPlayerFactory=s.default,n.Debug=e.default},{102:102,124:124,161:161,45:45,5:5}],5:[function(s,e,l){!function(e){"use strict";function t(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(l,"__esModule",{value:!0});var n=t(s(100)),i=t(s(47)),r=t(s(45)),o=s(50),e="undefined"!=typeof window&&window||e,a=e.dashjs;(a=a||(e.dashjs={})).MediaPlayer=n.default,a.FactoryMaker=i.default,a.Debug=r.default,a.Version=(0,o.getVersionString)(),l.default=a,l.MediaPlayer=n.default,l.FactoryMaker=i.default,l.Debug=r.default}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{100:100,45:45,47:47,50:50}],6:[function(e,t,n){"use strict";n.byteLength=function(e){var e=d(e),t=e[0],e=e[1];return 3*(t+e)/4-e},n.toByteArray=function(e){for(var t,n=d(e),i=n[0],n=n[1],r=new u(3*(i+n)/4-n),o=0,a=0<n?i-4:i,s=0;s<a;s+=4)t=l[e.charCodeAt(s)]<<18|l[e.charCodeAt(s+1)]<<12|l[e.charCodeAt(s+2)]<<6|l[e.charCodeAt(s+3)],r[o++]=t>>16&255,r[o++]=t>>8&255,r[o++]=255&t;return 2===n&&(t=l[e.charCodeAt(s)]<<2|l[e.charCodeAt(s+1)]>>4,r[o++]=255&t),1===n&&(t=l[e.charCodeAt(s)]<<10|l[e.charCodeAt(s+1)]<<4|l[e.charCodeAt(s+2)]>>2,r[o++]=t>>8&255,r[o++]=255&t),r},n.fromByteArray=function(e){for(var t,n=e.length,i=n%3,r=[],o=0,a=n-i;o<a;o+=16383)r.push(function(e,t,n){for(var i,r=[],o=t;o<n;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),r.push(s[(i=i)>>18&63]+s[i>>12&63]+s[i>>6&63]+s[63&i]);return r.join("")}(e,o,a<o+16383?a:o+16383));return 1==i?(t=e[n-1],r.push(s[t>>2]+s[t<<4&63]+"==")):2==i&&(t=(e[n-2]<<8)+e[n-1],r.push(s[t>>10]+s[t>>4&63]+s[t<<2&63]+"=")),r.join("")};for(var s=[],l=[],u="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=0,o=i.length;r<o;++r)s[r]=i[r],l[i.charCodeAt(r)]=r;function d(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");e=e.indexOf("=");return[e=-1===e?t:e,e===t?0:4-e%4]}l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},{}],7:[function(e,t,n){},{}],8:[function(e,t,n){"use strict";var A=e(6),o=e(13),i=(n.Buffer=c,n.SlowBuffer=function(e){return c.alloc(+(e=+e!=e?0:e))},n.INSPECT_MAX_BYTES=50,2147483647);function d(e){if(i<e)throw new RangeError('The value "'+e+'" is invalid for option "size"');e=new Uint8Array(e);return e.__proto__=c.prototype,e}function c(e,t,n){if("number"!=typeof e)return r(e,t,n);if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return s(e)}function r(e,t,n){if("string"==typeof e){var i=e,r=t;if(c.isEncoding(r="string"==typeof r&&""!==r?r:"utf8"))return(i=(a=d(o=0|h(i,r))).write(i,r))!==o?a.slice(0,i):a;throw new TypeError("Unknown encoding: "+r)}if(ArrayBuffer.isView(e))return f(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(D(e,ArrayBuffer)||e&&D(e.buffer,ArrayBuffer)){var o=e,i=t,a=n;if(i<0||o.byteLength<i)throw new RangeError('"offset" is outside of buffer bounds');if(o.byteLength<i+(a||0))throw new RangeError('"length" is outside of buffer bounds');return(o=void 0===i&&void 0===a?new Uint8Array(o):void 0===a?new Uint8Array(o,i):new Uint8Array(o,i,a)).__proto__=c.prototype,o}if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);var s,l,u=c.isBuffer(s=e)?(0!==(l=d(u=0|p(s.length))).length&&s.copy(l,0,0,u),l):void 0!==s.length?"number"!=typeof s.length||N(s.length)?d(0):f(s):"Buffer"===s.type&&Array.isArray(s.data)?f(s.data):void 0;if(u)return u;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function s(e){return a(e),d(e<0?0:0|p(e))}function f(e){for(var t=e.length<0?0:0|p(e.length),n=d(t),i=0;i<t;i+=1)n[i]=255&e[i];return n}function p(e){if(i<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function h(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||D(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,i=2<arguments.length&&!0===arguments[2];if(!i&&0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return I(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return C(e).length;default:if(r)return i?-1:I(e).length;t=(""+t).toLowerCase(),r=!0}}function l(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function u(e,t,n,i,r){if(0===e.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),(n=(n=N(n=+n)?r?0:e.length-1:n)<0?e.length+n:n)>=e.length){if(r)return-1;n=e.length-1}else if(n<0){if(!r)return-1;n=0}if("string"==typeof t&&(t=c.from(t,i)),c.isBuffer(t))return 0===t.length?-1:g(e,t,n,i,r);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?(r?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,n):g(e,[t],n,i,r);throw new TypeError("val must be string, number or Buffer")}function g(e,t,n,i,r){var o=1,a=e.length,s=t.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(e.length<2||t.length<2)return-1;a/=o=2,s/=2,n/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(r)for(var u=-1,d=n;d<a;d++)if(l(e,d)===l(t,-1===u?0:d-u)){if(d-(u=-1===u?d:u)+1===s)return u*o}else-1!==u&&(d-=d-u),u=-1;else for(d=n=a<n+s?a-s:n;0<=d;d--){for(var c=!0,f=0;f<s;f++)if(l(e,d+f)!==l(t,f)){c=!1;break}if(c)return d}return-1}function y(e,t,n,i){return R(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,i)}function w(e,t,n){n=Math.min(e.length,n);for(var i=[],r=t;r<n;){var o,a,s,l,u=e[r],d=null,c=239<u?4:223<u?3:191<u?2:1;if(r+c<=n)switch(c){case 1:u<128&&(d=u);break;case 2:128==(192&(o=e[r+1]))&&127<(l=(31&u)<<6|63&o)&&(d=l);break;case 3:o=e[r+1],a=e[r+2],128==(192&o)&&128==(192&a)&&2047<(l=(15&u)<<12|(63&o)<<6|63&a)&&(l<55296||57343<l)&&(d=l);break;case 4:o=e[r+1],a=e[r+2],s=e[r+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&65535<(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)&&l<1114112&&(d=l)}null===d?(d=65533,c=1):65535<d&&(i.push((d-=65536)>>>10&1023|55296),d=56320|1023&d),i.push(d),r+=c}var f=i,p=f.length;if(p<=m)return String.fromCharCode.apply(String,f);for(var h="",g=0;g<p;)h+=String.fromCharCode.apply(String,f.slice(g,g+=m));return h}n.kMaxLength=i,(c.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),c.poolSize=8192,c.from=r,c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,c.alloc=function(e,t,n){return t=t,n=n,a(e=e),e<=0||void 0===t?d(e):"string"==typeof n?d(e).fill(t,n):d(e).fill(t)},c.allocUnsafe=s,c.allocUnsafeSlow=s,c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(D(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),D(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,i=t.length,r=0,o=Math.min(n,i);r<o;++r)if(e[r]!==t[r]){n=e[r],i=t[r];break}return n<i?-1:i<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);if(void 0===t)for(r=t=0;r<e.length;++r)t+=e[r].length;for(var n=c.allocUnsafe(t),i=0,r=0;r<e.length;++r){var o=e[r];if(D(o,Uint8Array)&&(o=c.from(o)),!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},c.byteLength=h,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)l(this,t,t+1);return this},c.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)l(this,t,t+3),l(this,t+1,t+2);return this},c.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)l(this,t,t+7),l(this,t+1,t+6),l(this,t+2,t+5),l(this,t+3,t+4);return this},c.prototype.toLocaleString=c.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?w(this,0,e):function(e,t,n){var i,r=!1;if((t=void 0===t||t<0?0:t)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":var o=this,a=t,s=n,l=o.length;(!s||s<0||l<s)&&(s=l);for(var u="",d=a=!a||a<0?0:a;d<s;++d)u+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(o[d]);return u;case"utf8":case"utf-8":return w(this,t,n);case"ascii":var c=this,l=t,f=n,p="";f=Math.min(c.length,f);for(var h=l;h<f;++h)p+=String.fromCharCode(127&c[h]);return p;case"latin1":case"binary":var g=this,a=t,m=n,y="";m=Math.min(g.length,m);for(var v=a;v<m;++v)y+=String.fromCharCode(g[v]);return y;case"base64":return _=this,i=n,0===(E=t)&&i===_.length?A.fromByteArray(_):A.fromByteArray(_.slice(E,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var _=t,E=n,T=this.slice(_,E),b="",S=0;S<T.length;S+=2)b+=String.fromCharCode(T[S]+256*T[S+1]);return b;default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}.apply(this,arguments)},c.prototype.equals=function(e){if(c.isBuffer(e))return this===e||0===c.compare(this,e);throw new TypeError("Argument must be a Buffer")},c.prototype.inspect=function(){var e="",t=n.INSPECT_MAX_BYTES,e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim();return this.length>t&&(e+=" ... "),"<Buffer "+e+">"},c.prototype.compare=function(e,t,n,i,r){if(D(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===n&&(n=e?e.length:0),void 0===i&&(i=0),void 0===r&&(r=this.length),(t=void 0===t?0:t)<0||n>e.length||i<0||r>this.length)throw new RangeError("out of range index");if(r<=i&&n<=t)return 0;if(r<=i)return-1;if(n<=t)return 1;if(this===e)return 0;for(var o=(r>>>=0)-(i>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(i,r),u=e.slice(t,n),d=0;d<s;++d)if(l[d]!==u[d]){o=l[d],a=u[d];break}return o<a?-1:a<o?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return u(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return u(this,e,t,n,!1)},c.prototype.write=function(e,t,n,i){if(void 0===t)i="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)i=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var r=this.length-t;if((void 0===n||r<n)&&(n=r),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");i=i||"utf8";for(var o,a,s,l,u=!1;;)switch(i){case"hex":var d=this,c=e,f=t,p=n,h=(f=Number(f)||0,d.length-f);(!p||h<(p=Number(p)))&&(p=h),(h=c.length)/2<p&&(p=h/2);for(var g=0;g<p;++g){var m=parseInt(c.substr(2*g,2),16);if(N(m))return g;d[f+g]=m}return g;case"utf8":case"utf-8":return h=t,o=n,R(I(e,this.length-h),this,h,o);case"ascii":return y(this,e,t,n);case"latin1":case"binary":return y(this,e,t,n);case"base64":return o=t,s=n,R(C(e),this,o,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return s=t,l=n,R(function(e,t){for(var n,i,r=[],o=0;o<e.length&&!((t-=2)<0);++o)i=(n=e.charCodeAt(o))>>8,r.push(n%256),r.push(i);return r}(e,(a=this).length-s),a,s,l);default:if(u)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),u=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var m=4096;function v(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(n<e+t)throw new RangeError("Trying to access beyond buffer length")}function _(e,t,n,i,r,o){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r<t||t<o)throw new RangeError('"value" argument is out of bounds');if(n+i>e.length)throw new RangeError("Index out of range")}function E(e,t,n,i){if(n+i>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function T(e,t,n,i,r){return t=+t,n>>>=0,r||E(e,0,n,4),o.write(e,t,n,i,23,4),n+4}function b(e,t,n,i,r){return t=+t,n>>>=0,r||E(e,0,n,8),o.write(e,t,n,i,52,8),n+8}c.prototype.slice=function(e,t){var n=this.length,n=((e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e),this.subarray(e,t));return n.__proto__=c.prototype,n},c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||v(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return i},c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||v(e,t,this.length);for(var i=this[e+--t],r=1;0<t&&(r*=256);)i+=this[e+--t]*r;return i},c.prototype.readUInt8=function(e,t){return e>>>=0,t||v(e,1,this.length),this[e]},c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||v(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||v(e,t,this.length);for(var i=this[e],r=1,o=0;++o<t&&(r*=256);)i+=this[e+o]*r;return(r*=128)<=i&&(i-=Math.pow(2,8*t)),i},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||v(e,t,this.length);for(var i=t,r=1,o=this[e+--i];0<i&&(r*=256);)o+=this[e+--i]*r;return(r*=128)<=o&&(o-=Math.pow(2,8*t)),o},c.prototype.readInt8=function(e,t){return e>>>=0,t||v(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||v(e,2,this.length);t=this[e]|this[e+1]<<8;return 32768&t?4294901760|t:t},c.prototype.readInt16BE=function(e,t){e>>>=0,t||v(e,2,this.length);t=this[e+1]|this[e]<<8;return 32768&t?4294901760|t:t},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||v(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readFloatLE=function(e,t){return e>>>=0,t||v(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||v(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||v(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||v(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUIntLE=function(e,t,n,i){e=+e,t>>>=0,n>>>=0,i||_(this,e,t,n,Math.pow(2,8*n)-1,0);var r=1,o=0;for(this[t]=255&e;++o<n&&(r*=256);)this[t+o]=e/r&255;return t+n},c.prototype.writeUIntBE=function(e,t,n,i){e=+e,t>>>=0,n>>>=0,i||_(this,e,t,n,Math.pow(2,8*n)-1,0);var r=n-1,o=1;for(this[t+r]=255&e;0<=--r&&(o*=256);)this[t+r]=e/o&255;return t+n},c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeIntLE=function(e,t,n,i){e=+e,t>>>=0,i||_(this,e,t,n,(i=Math.pow(2,8*n-1))-1,-i);var r=0,o=1,a=0;for(this[t]=255&e;++r<n&&(o*=256);)e<0&&0===a&&0!==this[t+r-1]&&(a=1),this[t+r]=(e/o>>0)-a&255;return t+n},c.prototype.writeIntBE=function(e,t,n,i){e=+e,t>>>=0,i||_(this,e,t,n,(i=Math.pow(2,8*n-1))-1,-i);var r=n-1,o=1,a=0;for(this[t+r]=255&e;0<=--r&&(o*=256);)e<0&&0===a&&0!==this[t+r+1]&&(a=1),this[t+r]=(e/o>>0)-a&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,1,127,-128),this[t]=255&(e=e<0?255+e+1:e),t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||_(this,e,t,4,2147483647,-2147483648),this[t]=(e=e<0?4294967295+e+1:e)>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeFloatLE=function(e,t,n){return T(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return T(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return b(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return b(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,i){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n=n||0,i||0===i||(i=this.length),t>=e.length&&(t=e.length),(i=0<i&&i<n?n:i)===n)return 0;if(0===e.length||0===this.length)return 0;if((t=t||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length);var r=(i=e.length-t<i-n?e.length-t+n:i)-n;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,n,i);else if(this===e&&n<t&&t<i)for(var o=r-1;0<=o;--o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,i),t);return r},c.prototype.fill=function(e,t,n,i){if("string"==typeof e){if("string"==typeof t?(i=t,t=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i);var r;1===e.length&&(r=e.charCodeAt(0),"utf8"===i&&r<128||"latin1"===i)&&(e=r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");var o;if(!(n<=t))if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(o=t;o<n;++o)this[o]=e;else{var a=c.isBuffer(e)?e:c.from(e,i),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var S=/[^+/0-9A-Za-z-_]/g;function I(e,t){var n;t=t||1/0;for(var i=e.length,r=null,o=[],a=0;a<i;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!r){if(56319<n){-1<(t-=3)&&o.push(239,191,189);continue}if(a+1===i){-1<(t-=3)&&o.push(239,191,189);continue}r=n;continue}if(n<56320){-1<(t-=3)&&o.push(239,191,189),r=n;continue}n=65536+(r-55296<<10|n-56320)}else r&&-1<(t-=3)&&o.push(239,191,189);if(r=null,n<128){if(--t<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function C(e){return A.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(S,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function R(e,t,n,i){for(var r=0;r<i&&!(r+n>=t.length||r>=e.length);++r)t[r+n]=e[r];return r}function D(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function N(e){return e!=e}},{13:13,6:6}],9:[function(e,t,n){var r={parseBuffer:function(e){return new o(e).parse()},addBoxProcessor:function(e,t){"string"==typeof e&&"function"==typeof t&&(i.prototype._boxProcessors[e]=t)},createFile:function(){return new o},createBox:function(e,t,n){e=i.create(e);return t&&t.append(e,n),e},createFullBox:function(e,t,n){e=r.createBox(e,t,n);return e.version=0,e.flags=0,e},Utils:{}},o=(r.Utils.dataViewToString=function(e,t){t=t||"utf-8";if("undefined"!=typeof TextDecoder)return new TextDecoder(t).decode(e);var n=[],i=0;if("utf-8"===t)for(;i<e.byteLength;){var r=e.getUint8(i++);r<128||(r<224?r=(31&r)<<6:(r<240?r=(15&r)<<12:(r=(7&r)<<18,r|=(63&e.getUint8(i++))<<12),r|=(63&e.getUint8(i++))<<6),r|=63&e.getUint8(i++)),n.push(String.fromCharCode(r))}else for(;i<e.byteLength;)n.push(String.fromCharCode(e.getUint8(i++)));return n.join("")},r.Utils.utf8ToByteArray=function(e){var t,n;if("undefined"!=typeof TextEncoder)t=(new TextEncoder).encode(e);else for(t=[],n=0;n<e.length;++n){var i=e.charCodeAt(n);i<128?t.push(i):(i<2048?t.push(192|i>>6):(i<65536?t.push(224|i>>12):(t.push(240|i>>18),t.push(128|63&i>>12)),t.push(128|63&i>>6)),t.push(128|63&i))}return t},r.Utils.appendBox=function(e,t,n){if(t._offset=e._cursor.offset,t._root=e._root||e,t._raw=e._raw,t._parent=e,-1!==n)if(null!=n){var i,r=-1;if("number"==typeof n)r=n;else{if("string"==typeof n)i=n;else{if("object"!=typeof n||!n.type)return void e.boxes.push(t);i=n.type}for(var o=0;o<e.boxes.length;o++)if(i===e.boxes[o].type){r=o+1;break}}e.boxes.splice(r,0,t)}else e.boxes.push(t)},void 0!==n&&(n.parseBuffer=r.parseBuffer,n.addBoxProcessor=r.addBoxProcessor,n.createFile=r.createFile,n.createBox=r.createBox,n.createFullBox=r.createFullBox,n.Utils=r.Utils),r.Cursor=function(e){this.offset=void 0===e?0:e},function(e){this._cursor=new r.Cursor,this.boxes=[],e&&(this._raw=new DataView(e))}),i=(o.prototype.fetch=function(e){e=this.fetchAll(e,!0);return e.length?e[0]:null},o.prototype.fetchAll=function(e,t){var n=[];return o._sweep.call(this,e,n,t),n},o.prototype.parse=function(){for(this._cursor.offset=0,this.boxes=[];this._cursor.offset<this._raw.byteLength;){var e=i.parse(this);if(void 0===e.type)break;this.boxes.push(e)}return this},o._sweep=function(e,t,n){for(var i in this.type&&this.type==e&&t.push(this),this.boxes){if(t.length&&n)return;o._sweep.call(this.boxes[i],e,t,n)}},o.prototype.write=function(){for(var e=0,t=0;t<this.boxes.length;t++)e+=this.boxes[t].getLength(!1);var n=new Uint8Array(e);for(this._rawo=new DataView(n.buffer),this.bytes=n,t=this._cursor.offset=0;t<this.boxes.length;t++)this.boxes[t].write();return n.buffer},o.prototype.append=function(e,t){r.Utils.appendBox(this,e,t)},function(){this._cursor=new r.Cursor});i.parse=function(e){var t=new i;return t._offset=e._cursor.offset,t._root=e._root||e,t._raw=e._raw,t._parent=e,t._parseBox(),e._cursor.offset=t._raw.byteOffset+t._raw.byteLength,t},i.create=function(e){var t=new i;return t.type=e,t.boxes=[],t},i.prototype._boxContainers=["dinf","edts","mdia","meco","mfra","minf","moof","moov","mvex","stbl","strk","traf","trak","tref","udta","vttc","sinf","schi","encv","enca"],i.prototype._boxProcessors={},i.prototype._procField=function(e,t,n){this._parsing?this[e]=this._readField(t,n):this._writeField(t,n,this[e])},i.prototype._procFieldArray=function(e,t,n,i){var r;if(this._parsing)for(this[e]=[],r=0;r<t;r++)this[e][r]=this._readField(n,i);else for(r=0;r<this[e].length;r++)this._writeField(n,i,this[e][r])},i.prototype._procFullBox=function(){this._procField("version","uint",8),this._procField("flags","uint",24)},i.prototype._procEntries=function(e,t,n){var i;if(this._parsing)for(this[e]=[],i=0;i<t;i++)this[e].push({}),n.call(this,this[e][i]);else for(i=0;i<t;i++)n.call(this,this[e][i])},i.prototype._procSubEntries=function(e,t,n,i){var r;if(this._parsing)for(e[t]=[],r=0;r<n;r++)e[t].push({}),i.call(this,e[t][r]);else for(r=0;r<n;r++)i.call(this,e[t][r])},i.prototype._procEntryField=function(e,t,n,i){this._parsing?e[t]=this._readField(n,i):this._writeField(n,i,e[t])},i.prototype._procSubBoxes=function(e,t){var n;if(this._parsing)for(this[e]=[],n=0;n<t;n++)this[e].push(i.parse(this));else for(n=0;n<t;n++)this._rawo?this[e][n].write():this.size+=this[e][n].getLength()},i.prototype._readField=function(e,t){switch(e){case"uint":return this._readUint(t);case"int":return this._readInt(t);case"template":return this._readTemplate(t);case"string":return-1===t?this._readTerminatedString():this._readString(t);case"data":return this._readData(t);case"utf8":return this._readUTF8String();default:return-1}},i.prototype._readInt=function(e){var t=null,n=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:t=this._raw.getInt8(n);break;case 16:t=this._raw.getInt16(n);break;case 32:t=this._raw.getInt32(n);break;case 64:var i=this._raw.getInt32(n),r=this._raw.getInt32(4+n),t=i*Math.pow(2,32)+r}return this._cursor.offset+=e>>3,t},i.prototype._readUint=function(e){var t,n,i=null,r=this._cursor.offset-this._raw.byteOffset;switch(e){case 8:i=this._raw.getUint8(r);break;case 16:i=this._raw.getUint16(r);break;case 24:i=((t=this._raw.getUint16(r))<<8)+(n=this._raw.getUint8(2+r));break;case 32:i=this._raw.getUint32(r);break;case 64:t=this._raw.getUint32(r),n=this._raw.getUint32(4+r),i=t*Math.pow(2,32)+n}return this._cursor.offset+=e>>3,i},i.prototype._readString=function(e){for(var t="",n=0;n<e;n++){var i=this._readUint(8);t+=String.fromCharCode(i)}return t},i.prototype._readTemplate=function(e){return this._readUint(e/2)+this._readUint(e/2)/Math.pow(2,e/2)},i.prototype._readTerminatedString=function(){for(var e="";this._cursor.offset-this._offset<this._raw.byteLength;){var t=this._readUint(8);if(0===t)break;e+=String.fromCharCode(t)}return e},i.prototype._readData=function(e){var t,e=0<e?e:this._raw.byteLength-(this._cursor.offset-this._offset);return 0<e?(t=new Uint8Array(this._raw.buffer,this._cursor.offset,e),this._cursor.offset+=e,t):null},i.prototype._readUTF8String=function(){var e=this._raw.byteLength-(this._cursor.offset-this._offset),t=null;return 0<e&&(t=new DataView(this._raw.buffer,this._cursor.offset,e),this._cursor.offset+=e),t&&r.Utils.dataViewToString(t)},i.prototype._parseBox=function(){if(this._parsing=!0,this._cursor.offset=this._offset,this._offset+8>this._raw.buffer.byteLength)this._root._incomplete=!0;else{switch(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this.size){case 0:this._raw=new DataView(this._raw.buffer,this._offset,this._raw.byteLength-this._cursor.offset+8);break;case 1:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.largesize);break;default:this._offset+this.size>this._raw.buffer.byteLength?(this._incomplete=!0,this._root._incomplete=!0):this._raw=new DataView(this._raw.buffer,this._offset,this.size)}this._incomplete||(this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type)?this._parseContainerBox():this._data=this._readData())}},i.prototype._parseFullBox=function(){this.version=this._readUint(8),this.flags=this._readUint(24)},i.prototype._parseContainerBox=function(){for(this.boxes=[];this._cursor.offset-this._raw.byteOffset<this._raw.byteLength;)this.boxes.push(i.parse(this))},i.prototype.append=function(e,t){r.Utils.appendBox(this,e,t)},i.prototype.getLength=function(){if(this._parsing=!1,this._rawo=null,this.size=0,this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.size+=this.boxes[e].getLength();return this._data&&this._writeData(this._data),this.size},i.prototype.write=function(){switch(this._parsing=!1,this._cursor.offset=this._parent._cursor.offset,this.size){case 0:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.parent._rawo.byteLength-this._cursor.offset);break;case 1:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.largesize);break;default:this._rawo=new DataView(this._parent._rawo.buffer,this._cursor.offset,this.size)}if(this._procField("size","uint",32),this._procField("type","string",4),1===this.size&&this._procField("largesize","uint",64),"uuid"===this.type&&this._procFieldArray("usertype",16,"uint",8),this._boxProcessors[this.type]&&this._boxProcessors[this.type].call(this),-1!==this._boxContainers.indexOf(this.type))for(var e=0;e<this.boxes.length;e++)this.boxes[e].write();return this._data&&this._writeData(this._data),this._parent._cursor.offset+=this.size,this.size},i.prototype._writeInt=function(e,t){if(this._rawo){var n=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setInt8(n,t);break;case 16:this._rawo.setInt16(n,t);break;case 32:this._rawo.setInt32(n,t);break;case 64:var i=Math.floor(t/Math.pow(2,32)),r=t-i*Math.pow(2,32);this._rawo.setUint32(n,i),this._rawo.setUint32(4+n,r)}this._cursor.offset+=e>>3}else this.size+=e>>3},i.prototype._writeUint=function(e,t){if(this._rawo){var n,i,r=this._cursor.offset-this._rawo.byteOffset;switch(e){case 8:this._rawo.setUint8(r,t);break;case 16:this._rawo.setUint16(r,t);break;case 24:i=255&t,this._rawo.setUint16(r,n=(16776960&t)>>8),this._rawo.setUint8(2+r,i);break;case 32:this._rawo.setUint32(r,t);break;case 64:i=t-(n=Math.floor(t/Math.pow(2,32)))*Math.pow(2,32),this._rawo.setUint32(r,n),this._rawo.setUint32(4+r,i)}this._cursor.offset+=e>>3}else this.size+=e>>3},i.prototype._writeString=function(e,t){for(var n=0;n<e;n++)this._writeUint(8,t.charCodeAt(n))},i.prototype._writeTerminatedString=function(e){if(0!==e.length){for(var t=0;t<e.length;t++)this._writeUint(8,e.charCodeAt(t));this._writeUint(8,0)}},i.prototype._writeTemplate=function(e,t){var n=Math.floor(t),t=(t-n)*Math.pow(2,e/2);this._writeUint(e/2,n),this._writeUint(e/2,t)},i.prototype._writeData=function(e){if(e)if(this._rawo){if(e instanceof Array){for(var t=this._cursor.offset-this._rawo.byteOffset,n=0;n<e.length;n++)this._rawo.setInt8(t+n,e[n]);this._cursor.offset+=e.length}e instanceof Uint8Array&&(this._root.bytes.set(e,this._cursor.offset),this._cursor.offset+=e.length)}else this.size+=e.length},i.prototype._writeUTF8String=function(e){var t=r.Utils.utf8ToByteArray(e);if(this._rawo)for(var n=new DataView(this._rawo.buffer,this._cursor.offset,t.length),i=0;i<t.length;i++)n.setUint8(i,t[i]);else this.size+=t.length},i.prototype._writeField=function(e,t,n){switch(e){case"uint":this._writeUint(t,n);break;case"int":this._writeInt(t,n);break;case"template":this._writeTemplate(t,n);break;case"string":-1==t?this._writeTerminatedString(n):this._writeString(t,n);break;case"data":this._writeData(n);break;case"utf8":this._writeUTF8String(n)}},i.prototype._boxProcessors.avc1=i.prototype._boxProcessors.encv=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procField("pre_defined1","uint",16),this._procField("reserved2","uint",16),this._procFieldArray("pre_defined2",3,"uint",32),this._procField("width","uint",16),this._procField("height","uint",16),this._procField("horizresolution","template",32),this._procField("vertresolution","template",32),this._procField("reserved3","uint",32),this._procField("frame_count","uint",16),this._procFieldArray("compressorname",32,"uint",8),this._procField("depth","uint",16),this._procField("pre_defined3","int",16),this._procField("config","data",-1)},i.prototype._boxProcessors.dref=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},i.prototype._boxProcessors.elst=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"segment_duration","uint",1===this.version?64:32),this._procEntryField(e,"media_time","int",1===this.version?64:32),this._procEntryField(e,"media_rate_integer","int",16),this._procEntryField(e,"media_rate_fraction","int",16)})},i.prototype._boxProcessors.emsg=function(){this._procFullBox(),1==this.version?(this._procField("timescale","uint",32),this._procField("presentation_time","uint",64),this._procField("event_duration","uint",32),this._procField("id","uint",32),this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1)):(this._procField("scheme_id_uri","string",-1),this._procField("value","string",-1),this._procField("timescale","uint",32),this._procField("presentation_time_delta","uint",32),this._procField("event_duration","uint",32),this._procField("id","uint",32)),this._procField("message_data","data",-1)},i.prototype._boxProcessors.free=i.prototype._boxProcessors.skip=function(){this._procField("data","data",-1)},i.prototype._boxProcessors.frma=function(){this._procField("data_format","uint",32)},i.prototype._boxProcessors.ftyp=i.prototype._boxProcessors.styp=function(){this._procField("major_brand","string",4),this._procField("minor_version","uint",32);var e=-1;this._parsing&&(e=(this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset))/4),this._procFieldArray("compatible_brands",e,"string",4)},i.prototype._boxProcessors.hdlr=function(){this._procFullBox(),this._procField("pre_defined","uint",32),this._procField("handler_type","string",4),this._procFieldArray("reserved",3,"uint",32),this._procField("name","string",-1)},i.prototype._boxProcessors.mdat=function(){this._procField("data","data",-1)},i.prototype._boxProcessors.mdhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._parsing||"string"!=typeof this.language||(this.language=this.language.charCodeAt(0)-96<<10|this.language.charCodeAt(1)-96<<5|this.language.charCodeAt(2)-96),this._procField("language","uint",16),this._parsing&&(this.language=String.fromCharCode(96+(this.language>>10&31),96+(this.language>>5&31),96+(31&this.language))),this._procField("pre_defined","uint",16)},i.prototype._boxProcessors.mehd=function(){this._procFullBox(),this._procField("fragment_duration","uint",1==this.version?64:32)},i.prototype._boxProcessors.mfhd=function(){this._procFullBox(),this._procField("sequence_number","uint",32)},i.prototype._boxProcessors.mfro=function(){this._procFullBox(),this._procField("mfra_size","uint",32)},i.prototype._boxProcessors.mp4a=i.prototype._boxProcessors.enca=function(){this._procFieldArray("reserved1",6,"uint",8),this._procField("data_reference_index","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procField("channelcount","uint",16),this._procField("samplesize","uint",16),this._procField("pre_defined","uint",16),this._procField("reserved3","uint",16),this._procField("samplerate","template",32),this._procField("esds","data",-1)},i.prototype._boxProcessors.mvhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("timescale","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procField("rate","template",32),this._procField("volume","template",16),this._procField("reserved1","uint",16),this._procFieldArray("reserved2",2,"uint",32),this._procFieldArray("matrix",9,"template",32),this._procFieldArray("pre_defined",6,"uint",32),this._procField("next_track_ID","uint",32)},i.prototype._boxProcessors.payl=function(){this._procField("cue_text","utf8")},i.prototype._boxProcessors.pssh=function(){this._procFullBox(),this._procFieldArray("SystemID",16,"uint",8),this._procField("DataSize","uint",32),this._procFieldArray("Data",this.DataSize,"uint",8)},i.prototype._boxProcessors.schm=function(){this._procFullBox(),this._procField("scheme_type","uint",32),this._procField("scheme_version","uint",32),1&this.flags&&this._procField("scheme_uri","string",-1)},i.prototype._boxProcessors.sdtp=function(){this._procFullBox();var e=-1;this._parsing&&(e=this._raw.byteLength-(this._cursor.offset-this._raw.byteOffset)),this._procFieldArray("sample_dependency_table",e,"uint",8)},i.prototype._boxProcessors.sidx=function(){this._procFullBox(),this._procField("reference_ID","uint",32),this._procField("timescale","uint",32),this._procField("earliest_presentation_time","uint",1==this.version?64:32),this._procField("first_offset","uint",1==this.version?64:32),this._procField("reserved","uint",16),this._procField("reference_count","uint",16),this._procEntries("references",this.reference_count,function(e){this._parsing||(e.reference=(1&e.reference_type)<<31,e.reference|=2147483647&e.referenced_size,e.sap=(1&e.starts_with_SAP)<<31,e.sap|=(3&e.SAP_type)<<28,e.sap|=268435455&e.SAP_delta_time),this._procEntryField(e,"reference","uint",32),this._procEntryField(e,"subsegment_duration","uint",32),this._procEntryField(e,"sap","uint",32),this._parsing&&(e.reference_type=e.reference>>31&1,e.referenced_size=2147483647&e.reference,e.starts_with_SAP=e.sap>>31&1,e.SAP_type=e.sap>>28&7,e.SAP_delta_time=268435455&e.sap)})},i.prototype._boxProcessors.smhd=function(){this._procFullBox(),this._procField("balance","uint",16),this._procField("reserved","uint",16)},i.prototype._boxProcessors.ssix=function(){this._procFullBox(),this._procField("subsegment_count","uint",32),this._procEntries("subsegments",this.subsegment_count,function(e){this._procEntryField(e,"ranges_count","uint",32),this._procSubEntries(e,"ranges",e.ranges_count,function(e){this._procEntryField(e,"level","uint",8),this._procEntryField(e,"range_size","uint",24)})})},i.prototype._boxProcessors.stsd=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procSubBoxes("entries",this.entry_count)},i.prototype._boxProcessors.subs=function(){this._procFullBox(),this._procField("entry_count","uint",32),this._procEntries("entries",this.entry_count,function(e){this._procEntryField(e,"sample_delta","uint",32),this._procEntryField(e,"subsample_count","uint",16),this._procSubEntries(e,"subsamples",e.subsample_count,function(e){this._procEntryField(e,"subsample_size","uint",1===this.version?32:16),this._procEntryField(e,"subsample_priority","uint",8),this._procEntryField(e,"discardable","uint",8),this._procEntryField(e,"codec_specific_parameters","uint",32)})})},i.prototype._boxProcessors.tenc=function(){this._procFullBox(),this._procField("default_IsEncrypted","uint",24),this._procField("default_IV_size","uint",8),this._procFieldArray("default_KID",16,"uint",8)},i.prototype._boxProcessors.tfdt=function(){this._procFullBox(),this._procField("baseMediaDecodeTime","uint",1==this.version?64:32)},i.prototype._boxProcessors.tfhd=function(){this._procFullBox(),this._procField("track_ID","uint",32),1&this.flags&&this._procField("base_data_offset","uint",64),2&this.flags&&this._procField("sample_description_offset","uint",32),8&this.flags&&this._procField("default_sample_duration","uint",32),16&this.flags&&this._procField("default_sample_size","uint",32),32&this.flags&&this._procField("default_sample_flags","uint",32)},i.prototype._boxProcessors.tfra=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._parsing||(this.reserved=0,this.reserved|=(48&this.length_size_of_traf_num)<<4,this.reserved|=(12&this.length_size_of_trun_num)<<2,this.reserved|=3&this.length_size_of_sample_num),this._procField("reserved","uint",32),this._parsing&&(this.length_size_of_traf_num=(48&this.reserved)>>4,this.length_size_of_trun_num=(12&this.reserved)>>2,this.length_size_of_sample_num=3&this.reserved),this._procField("number_of_entry","uint",32),this._procEntries("entries",this.number_of_entry,function(e){this._procEntryField(e,"time","uint",1===this.version?64:32),this._procEntryField(e,"moof_offset","uint",1===this.version?64:32),this._procEntryField(e,"traf_number","uint",8*(this.length_size_of_traf_num+1)),this._procEntryField(e,"trun_number","uint",8*(this.length_size_of_trun_num+1)),this._procEntryField(e,"sample_number","uint",8*(this.length_size_of_sample_num+1))})},i.prototype._boxProcessors.tkhd=function(){this._procFullBox(),this._procField("creation_time","uint",1==this.version?64:32),this._procField("modification_time","uint",1==this.version?64:32),this._procField("track_ID","uint",32),this._procField("reserved1","uint",32),this._procField("duration","uint",1==this.version?64:32),this._procFieldArray("reserved2",2,"uint",32),this._procField("layer","uint",16),this._procField("alternate_group","uint",16),this._procField("volume","template",16),this._procField("reserved3","uint",16),this._procFieldArray("matrix",9,"template",32),this._procField("width","template",32),this._procField("height","template",32)},i.prototype._boxProcessors.trex=function(){this._procFullBox(),this._procField("track_ID","uint",32),this._procField("default_sample_description_index","uint",32),this._procField("default_sample_duration","uint",32),this._procField("default_sample_size","uint",32),this._procField("default_sample_flags","uint",32)},i.prototype._boxProcessors.trun=function(){this._procFullBox(),this._procField("sample_count","uint",32),1&this.flags&&this._procField("data_offset","int",32),4&this.flags&&this._procField("first_sample_flags","uint",32),this._procEntries("samples",this.sample_count,function(e){256&this.flags&&this._procEntryField(e,"sample_duration","uint",32),512&this.flags&&this._procEntryField(e,"sample_size","uint",32),1024&this.flags&&this._procEntryField(e,"sample_flags","uint",32),2048&this.flags&&this._procEntryField(e,"sample_composition_time_offset",1===this.version?"int":"uint",32)})},i.prototype._boxProcessors["url "]=i.prototype._boxProcessors["urn "]=function(){this._procFullBox(),"urn "===this.type&&this._procField("name","string",-1),this._procField("location","string",-1)},i.prototype._boxProcessors.vlab=function(){this._procField("source_label","utf8")},i.prototype._boxProcessors.vmhd=function(){this._procFullBox(),this._procField("graphicsmode","uint",16),this._procFieldArray("opcolor",3,"uint",16)},i.prototype._boxProcessors.vttC=function(){this._procField("config","utf8")},i.prototype._boxProcessors.vtte=function(){}},{}],10:[function(e,t,n){!function(e){function t(e){return Object.prototype.toString.call(e)}n.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},n.isBoolean=function(e){return"boolean"==typeof e},n.isNull=function(e){return null===e},n.isNullOrUndefined=function(e){return null==e},n.isNumber=function(e){return"number"==typeof e},n.isString=function(e){return"string"==typeof e},n.isSymbol=function(e){return"symbol"==typeof e},n.isUndefined=function(e){return void 0===e},n.isRegExp=function(e){return"[object RegExp]"===t(e)},n.isObject=function(e){return"object"==typeof e&&null!==e},n.isDate=function(e){return"[object Date]"===t(e)},n.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},n.isFunction=function(e){return"function"==typeof e},n.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},n.isBuffer=e.isBuffer}.call(this,{isBuffer:e(22)})},{22:22}],11:[function(e,t,n){var c=Object.create||function(e){function t(){}return t.prototype=e,new t},a=Object.keys||function(e){var t,n=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.push(t);return t},i=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function r(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=c(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((t.exports=r).EventEmitter=r).prototype._events=void 0,r.prototype._maxListeners=void 0;var o,s=10;try{var l={};Object.defineProperty&&Object.defineProperty(l,"x",{value:0}),o=0===l.x}catch(e){o=!1}function u(e){return void 0===e._maxListeners?r.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var r,o;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');return(r=e._events)?(r.newListener&&(e.emit("newListener",t,n.listener||n),r=e._events),o=r[t]):(r=e._events=c(null),e._eventsCount=0),o?("function"==typeof o?o=r[t]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),!o.warned&&(i=u(e))&&0<i&&o.length>i&&(o.warned=!0,(i=new Error("Possible EventEmitter memory leak detected. "+o.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.')).name="MaxListenersExceededWarning",i.emitter=e,i.type=t,i.count=o.length,"object"==typeof console)&&console.warn&&console.warn("%s: %s",i.name,i.message)):(o=r[t]=n,++e._eventsCount),e}function f(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function p(e,t,n){e={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},t=i.call(f,e);return t.listener=n,e.wrapFn=t}function h(e,t,n){e=e._events;if(e){e=e[t];if(e)if("function"==typeof e)return n?[e.listener||e]:[e];else if(n){var i=e;for(var r=new Array(i.length),o=0;o<r.length;++o)r[o]=i[o].listener||i[o];return r;return}else return G(e,e.length);else;}return[]}function g(e){var t=this._events;if(t){t=t[e];if("function"==typeof t)return 1;if(t)return t.length}return 0}function G(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}o?Object.defineProperty(r,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');s=e}}):r.defaultMaxListeners=s,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},r.prototype.getMaxListeners=function(){return u(this)},r.prototype.emit=function(e,t,n,L){var i,r,o,a,s,l,u="error"===e;if(l=this._events)u=u&&null==l.error;else if(!u)return!1;if(u){if((i=1<arguments.length?t:i)instanceof Error)throw i;u=new Error('Unhandled "error" event. ('+i+")");throw u.context=i,u}if(!(r=l[e]))return!1;var d="function"==typeof r;switch(o=arguments.length){case 1:var c=r,f=this;if(d)c.call(f);else for(var p=c.length,k=G(c,p),h=0;h<p;++h)k[h].call(f);break;case 2:var c=r,g=this,m=t;if(d)c.call(g,m);else for(var y=c.length,F=G(c,y),v=0;v<y;++v)F[v].call(g,m);break;case 3:var _=r,E=this,T=t,b=n;if(d)_.call(E,T,b);else for(var S=_.length,B=G(_,S),A=0;A<S;++A)B[A].call(E,T,b);break;case 4:var _=r,w=this,I=t,C=n,R=L;if(d)_.call(w,I,C,R);else for(var D=_.length,U=G(_,D),N=0;N<D;++N)U[N].call(w,I,C,R);break;default:for(a=new Array(o-1),s=1;s<o;s++)a[s-1]=arguments[s];var M=r,O=this,x=a;if(d)M.apply(O,x);else for(var j=M.length,H=G(M,j),P=0;P<j;++P)H[P].apply(O,x)}return!0},r.prototype.on=r.prototype.addListener=function(e,t){return d(this,e,t,!1)},r.prototype.prependListener=function(e,t){return d(this,e,t,!0)},r.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,p(this,e,t)),this},r.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,p(this,e,t)),this},r.prototype.removeListener=function(e,t){var n,i,r,o,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if((i=this._events)&&(n=i[e]))if(n===t||n.listener===t)0==--this._eventsCount?this._events=c(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;0<=o;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,r=o;break}if(r<0)return this;if(0===r)n.shift();else{var s=n;for(var l=r,u=l+1,d=s.length;u<d;l+=1,u+=1)s[l]=s[u];s.pop()}1===n.length&&(i[e]=n[0]),i.removeListener&&this.emit("removeListener",e,a||t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(n=this._events)if(n.removeListener){if(0===arguments.length){for(var i,r=a(n),o=0;o<r.length;++o)"removeListener"!==(i=r[o])&&this.removeAllListeners(i);this.removeAllListeners("removeListener"),this._events=c(null),this._eventsCount=0}else if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(o=t.length-1;0<=o;o--)this.removeListener(e,t[o])}else 0===arguments.length?(this._events=c(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=c(null):delete n[e]);return this},r.prototype.listeners=function(e){return h(this,e,!0)},r.prototype.rawListeners=function(e){return h(this,e,!1)},r.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},r.prototype.listenerCount=g,r.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],12:[function(e,t,n){"use strict";var u=Array.isArray,d=Object.keys,c=Object.prototype.hasOwnProperty;t.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){var i,r,o,a=u(t),s=u(n);if(a&&s){if((r=t.length)!=n.length)return!1;for(i=r;0!=i--;)if(!e(t[i],n[i]))return!1}else{if(a!=s)return!1;a=t instanceof Date,s=n instanceof Date;if(a!=s)return!1;if(a&&s)return t.getTime()==n.getTime();a=t instanceof RegExp,s=n instanceof RegExp;if(a!=s)return!1;if(a&&s)return t.toString()==n.toString();var l=d(t);if((r=l.length)!==d(n).length)return!1;for(i=r;0!=i--;)if(!c.call(n,l[i]))return!1;for(i=r;0!=i--;)if(!e(t[o=l[i]],n[o]))return!1}return!0}return t!=t&&n!=n}},{}],13:[function(e,t,n){n.read=function(e,t,n,i,r){var o,a,s=8*r-i-1,l=(1<<s)-1,u=l>>1,d=-7,c=n?r-1:0,f=n?-1:1,r=e[t+c];for(c+=f,o=r&(1<<-d)-1,r>>=-d,d+=s;0<d;o=256*o+e[t+c],c+=f,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=i;0<d;a=256*a+e[t+c],c+=f,d-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(r?-1:1);a+=Math.pow(2,i),o-=u}return(r?-1:1)*a*Math.pow(2,o-i)},n.write=function(e,t,n,i,r,o){var a,s,l=8*o-r-1,u=(1<<l)-1,d=u>>1,c=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,f=i?0:o-1,p=i?1:-1,o=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(i=Math.pow(2,-a))<1&&(a--,i*=2),2<=(t+=1<=a+d?c/i:c*Math.pow(2,1-d))*i&&(a++,i/=2),u<=a+d?(s=0,a=u):1<=a+d?(s=(t*i-1)*Math.pow(2,r),a+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,r),a=0));8<=r;e[n+f]=255&s,f+=p,s/=256,r-=8);for(a=a<<r|s,l+=r;0<l;e[n+f]=255&a,f+=p,a/=256,l-=8);e[n+f-p]|=128*o}},{}],14:[function(e,k,t){function f(e,t,n,i){var r,o=i&&"seq"===i.timeContainer,a=0,s=(i&&(a=o&&n?n.end:i.begin),t.begin=t.explicit_begin?t.explicit_begin+a:a,t.begin),l=null;for(r in t.sets)f(e,t.sets[r],l,t),s="seq"===t.timeContainer?t.sets[r].end:Math.max(s,t.sets[r].end),l=t.sets[r];if("contents"in t)for(var u in t.contents)f(e,t.contents[u],l,t),s="seq"===t.timeContainer?t.contents[u].end:Math.max(s,t.contents[u].end),l=t.contents[u];else s=o?t.begin:Number.POSITIVE_INFINITY;null!==t.explicit_end&&null!==t.explicit_dur?t.end=Math.min(t.begin+t.explicit_dur,a+t.explicit_end):null===t.explicit_end&&null!==t.explicit_dur?t.end=t.begin+t.explicit_dur:null!==t.explicit_end&&null===t.explicit_dur?t.end=a+t.explicit_end:t.end=s,delete t.explicit_begin,delete t.explicit_dur,delete t.explicit_end,e._registerEvent(t)}function p(e){this.node=e}function h(){this.events=[],this.head=null,this.body=null}function g(){this.styling=null,this.layout=null}function m(){this.styles={}}function y(){this.id=null,this.styleAttrs=null,this.styleRefs=null}function v(){this.regions={}}function n(e){this.kind=e}function i(e){this.id=e}function o(e){this.regionID=e}function a(e){this.styleAttrs=e}function s(e){this.sets=e}function l(e){this.contents=e}function u(e,t,n){this.explicit_begin=e,this.explicit_end=t,this.explicit_dur=n}function _(){n.call(this,"body")}function E(){n.call(this,"div")}function T(){n.call(this,"p")}function b(){n.call(this,"span")}function S(){n.call(this,"span")}function A(){n.call(this,"br")}function w(){}function I(){}function r(e){return e&&"xml:id"in e.attributes&&e.attributes["xml:id"].value||null}function d(e){return e&&"style"in e.attributes?e.attributes.style.value.split(" "):[]}function c(e,t){var n={};if(null!==e)for(var i in e.attributes){var r,o=e.attributes[i].uri+" "+e.attributes[i].local,a=B.byQName[o];void 0!==a&&(null!==(r=a.parse(e.attributes[i].value))?(n[o]=r,a===B.byName.zIndex&&M(t,"zIndex attribute present but not used by IMSC1 since regions do not overlap")):O(t,"Cannot parse styling attribute "+o+" --\x3e "+e.attributes[i].value))}return n}function C(e,t,n){for(var i in e.attributes)if(e.attributes[i].uri===t&&e.attributes[i].local===n)return e.attributes[i].value;return null}function R(e,t,n){var i,r=null;return null!==(i=/^(\d+(?:\.\d+)?)f$/.exec(n))?null!==t&&(r=parseFloat(i[1])/t):null!==(i=/^(\d+(?:\.\d+)?)t$/.exec(n))?null!==e&&(r=parseFloat(i[1])/e):null!==(i=/^(\d+(?:\.\d+)?)ms$/.exec(n))?r=parseFloat(i[1])/1e3:null!==(i=/^(\d+(?:\.\d+)?)s$/.exec(n))?r=parseFloat(i[1]):null!==(i=/^(\d+(?:\.\d+)?)h$/.exec(n))?r=3600*parseFloat(i[1]):null!==(i=/^(\d+(?:\.\d+)?)m$/.exec(n))?r=60*parseFloat(i[1]):null!==(i=/^(\d{2,}):(\d\d):(\d\d(?:\.\d+)?)$/.exec(n))?r=3600*parseInt(i[1])+60*parseInt(i[2])+parseFloat(i[3]):null!==(i=/^(\d{2,}):(\d\d):(\d\d)\:(\d{2,})$/.exec(n))&&null!==t&&(r=3600*parseInt(i[1])+60*parseInt(i[2])+parseInt(i[3])+(null===i[4]?0:parseInt(i[4])/t)),r}function D(e,t,n,i){for(var r=t.length-1;0<=r;r--){var o=t[r];o in e.styles?N(e.styles[o].styleAttrs,n):O(i,"Non-existant style id referenced")}}function N(e,t){for(var n in e)n in t||(t[n]=e[n])}function M(e,t){if(e&&e.warn&&e.warn(t))throw t}function O(e,t){if(e&&e.error&&e.error(t))throw t}function x(e,t){throw e&&e.fatal&&e.fatal(t),t}function P(e,t){for(var n,i=0,r=e.length-1;i<=r;){var o=e[n=Math.floor((i+r)/2)];if(o<t)i=n+1;else{if(!(t<o))return{found:!0,index:n};r=n-1}}return{found:!1,index:i}}var t=void 0===t?this.imscDoc={}:t,F="undefined"==typeof sax?e(40):sax,L="undefined"==typeof imscNames?e(18):imscNames,B="undefined"==typeof imscStyles?e(19):imscStyles,U="undefined"==typeof imscUtils?e(20):imscUtils;t.fromXML=function(e,o,a){var t,n,i=F.parser(!0,{xmlns:!0}),s=[],l=[],u=[],d=0,c=null,r=(i.onclosetag=function(e){if(s[0]instanceof m)for(var t in s[0].styles)!function e(t,n,i){for(;0<n.styleRefs.length;){var r=n.styleRefs.pop();r in t.styles?(e(t,t.styles[r],i),N(t.styles[r].styleAttrs,n.styleAttrs)):O(i,"Non-existant style id referenced")}}(s[0],s[0].styles[t],o);else if(s[0]instanceof T||s[0]instanceof b){if(1<s[0].contents.length){for(var n=[s[0].contents[0]],i=1;i<s[0].contents.length;i++)s[0].contents[i]instanceof S&&n[n.length-1]instanceof S?n[n.length-1].text+=s[0].contents[i].text:n.push(s[0].contents[i]);s[0].contents=n}s[0]instanceof b&&1===s[0].contents.length&&s[0].contents[0]instanceof S&&(s[0].text=s[0].contents[0].text,delete s[0].contents)}else s[0]instanceof p&&(s[0].node.uri===L.ns_tt&&"metadata"===s[0].node.local?d--:0<d&&a&&"onCloseTag"in a&&a.onCloseTag());u.shift(),l.shift(),s.shift()},i.ontext=function(e){var t;void 0!==s[0]&&(s[0]instanceof b||s[0]instanceof T?((t=new S).initFromText(c,s[0],e,u[0],o),s[0].contents.push(t)):s[0]instanceof p&&0<d&&a&&"onText"in a&&a.onText(e))},i.onopentag=function(e){var t,n=e.attributes["xml:space"],n=(u.unshift(n?n.value:0===u.length?"default":u[0]),e.attributes["xml:lang"]);if(l.unshift(n?n.value:0===l.length?"":l[0]),e.uri===L.ns_tt?"tt"===e.local?(null!==c&&x(o,"Two <tt> elements at ("+this.line+","+this.column+")"),(c=new h).initFromNode(e,o),s.unshift(c)):"head"===e.local?(s[0]instanceof h||x(o,"Parent of <head> element is not <tt> at ("+this.line+","+this.column+")"),null!==c.head&&x("Second <head> element at ("+this.line+","+this.column+")"),c.head=new g,s.unshift(c.head)):"styling"===e.local?(s[0]instanceof g||x(o,"Parent of <styling> element is not <head> at ("+this.line+","+this.column+")"),null!==c.head.styling&&x("Second <styling> element at ("+this.line+","+this.column+")"),c.head.styling=new m,s.unshift(c.head.styling)):"style"===e.local?s[0]instanceof m?((t=new y).initFromNode(e,o),t.id?c.head.styling.styles[t.id]=t:O(o,"<style> element missing @id attribute"),s.unshift(t)):s[0]instanceof w?((t=new y).initFromNode(e,o),N(t.styleAttrs,s[0].styleAttrs),s.unshift(t)):x(o,"Parent of <style> element is not <styling> or <region> at ("+this.line+","+this.column+")"):"layout"===e.local?(s[0]instanceof g||x(o,"Parent of <layout> element is not <head> at "+this.line+","+this.column+")"),null!==c.head.layout&&x(o,"Second <layout> element at "+this.line+","+this.column+")"),c.head.layout=new v,s.unshift(c.head.layout)):"region"===e.local?(s[0]instanceof v||x(o,"Parent of <region> element is not <layout> at "+this.line+","+this.column+")"),(n=new w).initFromNode(c,e,o),!n.id||n.id in c.head.layout.regions?O(o,"Ignoring <region> with duplicate or missing @id at "+this.line+","+this.column+")"):c.head.layout.regions[n.id]=n,s.unshift(n)):"body"===e.local?(s[0]instanceof h||x(o,"Parent of <body> element is not <tt> at "+this.line+","+this.column+")"),null!==c.body&&x(o,"Second <body> element at "+this.line+","+this.column+")"),(t=new _).initFromNode(c,e,o),c.body=t,s.unshift(t)):"div"===e.local?(s[0]instanceof E||s[0]instanceof _||x(o,"Parent of <div> element is not <body> or <div> at "+this.line+","+this.column+")"),(n=new E).initFromNode(c,s[0],e,o),s[0].contents.push(n),s.unshift(n)):"p"===e.local?(s[0]instanceof E||x(o,"Parent of <p> element is not <div> at "+this.line+","+this.column+")"),(t=new T).initFromNode(c,s[0],e,o),s[0].contents.push(t),s.unshift(t)):"span"===e.local?(s[0]instanceof b||s[0]instanceof T||x(o,"Parent of <span> element is not <span> or <p> at "+this.line+","+this.column+")"),(n=new b).initFromNode(c,s[0],e,u[0],o),s[0].contents.push(n),s.unshift(n)):"br"===e.local?(s[0]instanceof b||s[0]instanceof T||x(o,"Parent of <br> element is not <span> or <p> at "+this.line+","+this.column+")"),(t=new A).initFromNode(c,s[0],e,o),s[0].contents.push(t),s.unshift(t)):"set"===e.local?(s[0]instanceof b||s[0]instanceof T||s[0]instanceof E||s[0]instanceof _||s[0]instanceof w||s[0]instanceof A||x(o,"Parent of <set> element is not a content element or a region at "+this.line+","+this.column+")"),(n=new I).initFromNode(c,s[0],e,o),s[0].sets.push(n),s.unshift(n)):s.unshift(new p(e)):s.unshift(new p(e)),s[0]instanceof p)if(e.uri===L.ns_tt&&"metadata"===e.local)d++;else if(0<d&&a&&"onOpenTag"in a){var i,r=[];for(i in e.attributes)r[e.attributes[i].uri+" "+e.attributes[i].local]={uri:e.attributes[i].uri,local:e.attributes[i].local,value:e.attributes[i].value};a.onOpenTag(e.uri,e.local,r)}},i.write(e).close(),null!==c.head?delete c.head.styling:c.head=new g,null===c.head.layout&&(c.head.layout=new v),!1);for(t in c.head.layout.regions){r=!0;break}for(n in r||(i=w.prototype.createDefaultRegion(),c.head.layout.regions[i.id]=i),c.head.layout.regions)f(c,c.head.layout.regions[n],null,null);return c.body&&f(c,c.body,null,null),c},h.prototype.initFromNode=function(e,t){this.cellResolution=(a=t,o=C(e,L.ns_ttp,"cellResolution"),l=15,n=32,null!==o&&(null!==(o=/(\d+) (\d+)/.exec(o))?(n=parseInt(o[1]),l=parseInt(o[2])):M(a,"Malformed cellResolution value (using initial value instead)")),{w:n,h:l}),o=t,n=C(a=e,L.ns_ttp,"frameRate"),l=30,null!==n&&(null!==(i=/(\d+)/.exec(n))?l=parseInt(i[1]):M(o,"Malformed frame rate attribute (using initial value instead)")),s=C(a,L.ns_ttp,"frameRateMultiplier"),r=1,null!==s&&(null!==(i=/(\d+) (\d+)/.exec(s))?r=parseInt(i[1])/parseInt(i[2]):M(o,"Malformed frame rate multiplier attribute (using initial value instead)")),s=r*l,r=1,null===(l=C(a,L.ns_ttp,"tickRate"))?null!==n&&(r=s):null!==(i=/(\d+)/.exec(l))?r=parseInt(i[1]):M(o,"Malformed tick rate attribute (using initial value instead)");var n,i,r,o,a={effectiveFrameRate:s,tickRate:r},s=(this.effectiveFrameRate=a.effectiveFrameRate,this.tickRate=a.tickRate,this.aspectRatio=(n=t,l=C(e,L.ns_ittp,"aspectRatio"),(i=null)!==l&&(null!==(l=/(\d+) (\d+)/.exec(l))?(o=parseInt(l[1]),l=parseInt(l[2]),0!==o&&0!==l?i=o/l:O(n,"Illegal aspectRatio values (ignoring)")):O(n,"Malformed aspectRatio attribute (ignoring)")),i),C(e,L.ns_ttp,"timeBase")),l=(null!==s&&"media"!==s&&x(t,"Unsupported time base"),r=t,null===(a=C(e,L.ns_tts,"extent"))?null:2!==(a=a.split(" ")).length?(M(r,"Malformed extent (ignoring)"),null):(o=U.parseLength(a[0]),(a=U.parseLength(a[1]))&&o?{h:a,w:o}:(M(r,"Malformed extent values (ignoring)"),null)));null===l?this.pxDimensions={h:480,w:640}:("px"===l.h.unit&&"px"===l.w.unit||x(t,"Extent on TT must be in px or absent"),this.pxDimensions={h:l.h.value,w:l.w.value})},h.prototype._registerEvent=function(e){var t;e.end<=e.begin||((t=P(this.events,e.begin)).found||this.events.splice(t.index,0,e.begin),e.end===Number.POSITIVE_INFINITY)||(t=P(this.events,e.end)).found||this.events.splice(t.index,0,e.end)},h.prototype.getMediaTimeRange=function(){return[this.events[0],this.events[this.events.length-1]]},h.prototype.getMediaTimeEvents=function(){return this.events},y.prototype.initFromNode=function(e,t){this.id=r(e),this.styleAttrs=c(e,t),this.styleRefs=d(e)},i.prototype.initFromNode=function(e,t,n,i){this.id=r(n)},o.prototype.initFromNode=function(e,t,n,i){this.regionID=(n=n)&&"region"in n.attributes?n.attributes.region.value:""},a.prototype.initFromNode=function(e,t,n,i){this.styleAttrs=c(n,i),null!==e.head&&null!==e.head.styling&&D(e.head.styling,d(n),this.styleAttrs,i)},s.prototype.initFromNode=function(e,t,n,i){this.sets=[]},l.prototype.initFromNode=function(e,t,n,i){this.contents=[]},u.prototype.initFromNode=function(e,t,n,i){e=e,o=i,a=null,(r=n)&&"begin"in r.attributes&&null===(a=R(e.tickRate,e.effectiveFrameRate,r.attributes.begin.value))&&M(o,"Malformed begin value "+r.attributes.begin.value+" (using 0)"),s=null,r&&"dur"in r.attributes&&null===(s=R(e.tickRate,e.effectiveFrameRate,r.attributes.dur.value))&&M(o,"Malformed dur value "+r.attributes.dur.value+" (ignoring)"),l=null,r&&"end"in r.attributes&&null===(l=R(e.tickRate,e.effectiveFrameRate,r.attributes.end.value))&&M(o,"Malformed end value (ignoring)");var r,o,a,s,l,e={explicit_begin:a,explicit_end:l,explicit_dur:s};this.explicit_begin=e.explicit_begin,this.explicit_end=e.explicit_end,this.explicit_dur=e.explicit_dur,this.timeContainer=(r=i,(a=(o=n)&&"timeContainer"in o.attributes?o.attributes.timeContainer.value:null)&&"par"!==a?"seq"===a?"seq":(O(r,"Illegal value of timeContainer (assuming 'par')"),"par"):"par")},_.prototype.initFromNode=function(e,t,n){a.prototype.initFromNode.call(this,e,null,t,n),u.prototype.initFromNode.call(this,e,null,t,n),s.prototype.initFromNode.call(this,e,null,t,n),o.prototype.initFromNode.call(this,e,null,t,n),l.prototype.initFromNode.call(this,e,null,t,n)},E.prototype.initFromNode=function(e,t,n,i){a.prototype.initFromNode.call(this,e,t,n,i),u.prototype.initFromNode.call(this,e,t,n,i),s.prototype.initFromNode.call(this,e,t,n,i),o.prototype.initFromNode.call(this,e,t,n,i),l.prototype.initFromNode.call(this,e,t,n,i)},T.prototype.initFromNode=function(e,t,n,i){a.prototype.initFromNode.call(this,e,t,n,i),u.prototype.initFromNode.call(this,e,t,n,i),s.prototype.initFromNode.call(this,e,t,n,i),o.prototype.initFromNode.call(this,e,t,n,i),l.prototype.initFromNode.call(this,e,t,n,i)},b.prototype.initFromNode=function(e,t,n,i,r){a.prototype.initFromNode.call(this,e,t,n,r),u.prototype.initFromNode.call(this,e,t,n,r),s.prototype.initFromNode.call(this,e,t,n,r),o.prototype.initFromNode.call(this,e,t,n,r),l.prototype.initFromNode.call(this,e,t,n,r),this.space=i},S.prototype.initFromText=function(e,t,n,i,r){u.prototype.initFromNode.call(this,e,t,null,r),this.text=n,this.space=i},A.prototype.initFromNode=function(e,t,n,i){o.prototype.initFromNode.call(this,e,t,n,i),u.prototype.initFromNode.call(this,e,t,n,i)},w.prototype.createDefaultRegion=function(){var e=new w;return i.call(e,""),a.call(e,{}),s.call(e,[]),u.call(e,0,Number.POSITIVE_INFINITY,null),e},w.prototype.initFromNode=function(e,t,n){i.prototype.initFromNode.call(this,e,null,t,n),a.prototype.initFromNode.call(this,e,null,t,n),u.prototype.initFromNode.call(this,e,null,t,n),s.prototype.initFromNode.call(this,e,null,t,n),null!==e.head&&null!==e.head.styling&&D(e.head.styling,d(t),this.styleAttrs,n)},I.prototype.initFromNode=function(e,t,n,i){u.prototype.initFromNode.call(this,e,t,n,i);var r,o=c(n,i);for(r in this.qname=null,this.value=null,o){if(this.qname){O(i,"More than one style specified on set");break}this.qname=r,this.value=o[r]}}},{18:18,19:19,20:20,40:40}],15:[function(e,t,n){var n=void 0===n?this.imscHTML={}:n,w=("undefined"==typeof imscNames&&e(18),"undefined"==typeof imscStyles?e(19):imscStyles);function I(e,t){this.id=e,this.plist=t}function C(e,t){var n={before:null,after:null,start:null,end:null};return"tb"===t.bpd?(n.before=e.top,n.after=e.bottom,"lr"===t.ipd?(n.start=e.left,n.end=e.right):(n.start=e.right,n.end=e.left)):"lr"===t.bpd?(n.before=e.left,n.after=e.right,n.start=e.top,n.end=e.bottom):"rl"===t.bpd&&(n.before=e.right,n.after=e.left,n.start=e.top,n.end=e.bottom),n}function R(e,t,n,i){var r,o,a,s,l=t.style.backgroundColor||i;if(0===t.childElementCount)"span"===t.localName?0!==(i=t.getBoundingClientRect()).height&&0!==i.width&&(i=C(i,e),0!==n.length&&(r=i.before,s=i.after,o=n[n.length-1].before,s<(a=n[n.length-1].after)&&o<r||a<=s&&r<=o)?(a=Math.sign(i.after-i.before),s=Math.sign(i.end-i.start),a*(i.before-n[n.length-1].before)<0&&(n[n.length-1].before=i.before),0<a*(i.after-n[n.length-1].after)&&(n[n.length-1].after=i.after),s*(i.start-n[n.length-1].start)<0&&(n[n.length-1].start=i.start,n[n.length-1].start_elem=n[n.length-1].elements.length),0<s*(i.end-n[n.length-1].end)&&(n[n.length-1].end=i.end,n[n.length-1].end_elem=n[n.length-1].elements.length)):n.push({before:i.before,after:i.after,start:i.start,end:i.end,start_elem:0,end_elem:0,elements:[],text:"",br:!1}),n[n.length-1].text+=t.textContent,n[n.length-1].elements.push({node:t,bgcolor:l,before:i.before,after:i.after})):"br"===t.localName&&0!==n.length&&(n[n.length-1].br=!0);else for(var u=t.firstChild;u;)u.nodeType===Node.ELEMENT_NODE&&R(e,u,n,l),u=u.nextSibling}function i(e,t){this.qname=e,this.map=t}n.render=function(e,t,n,i,r,o,a,s,l){var u,d,i=i||t.clientHeight,r=r||t.clientWidth,c=(null!==e.aspectRatio&&(r<(u=i*e.aspectRatio)?i=Math.round(r/e.aspectRatio):r=u),document.createElement("div")),f=(c.style.position="relative",c.style.width=r+"px",c.style.height=i+"px",c.style.margin="auto",c.style.top=0,c.style.bottom=0,c.style.left=0,c.style.right=0,c.style.zIndex=0,{h:i,w:r,regionH:null,regionW:null,imgResolver:n,displayForcedOnlyMode:o||!1,isd:e,errorHandler:a,previousISDState:s,enableRollUp:l||!1,currentISDState:{},flg:null,lp:null,mra:null,ipd:null,bpd:null});for(d in t.appendChild(c),e.contents)!function e(t,n,i){var r;if("region"===i.kind?(r=document.createElement("div")).style.position="absolute":"body"===i.kind||"div"===i.kind?r=document.createElement("div"):"p"===i.kind?r=document.createElement("p"):"span"===i.kind?r=document.createElement("span"):"br"===i.kind&&(r=document.createElement("br")),r){for(var o in r.style.margin="0",D){var o=D[o],a=i.styleAttrs[o.qname];void 0!==a&&null!==o.map&&o.map(t,r,i,a)}var s,l=r;if("region"===i.kind&&("lrtb"===(f=i.styleAttrs[w.byName.writingMode.qname])||"lr"===f?(t.ipd="lr",t.bpd="tb"):"rltb"===f||"rl"===f?(t.ipd="rl",t.bpd="tb"):"tblr"===f?(t.ipd="tb",t.bpd="lr"):"tbrl"!==f&&"tb"!==f||(t.ipd="tb",t.bpd="rl")),(f=i.styleAttrs[w.byName.linePadding.qname])&&0<f&&(p=Math.ceil(f*t.h)+"px","tb"===t.bpd?(l.style.paddingLeft=p,l.style.paddingRight=p):(l.style.paddingTop=p,l.style.paddingBottom=p),t.lp=f),(p=i.styleAttrs[w.byName.multiRowAlign.qname])&&"auto"!==p&&((f=document.createElement("span")).style.display="inline-block",f.style.textAlign=p,r.appendChild(f),l=f,t.mra=p),i.styleAttrs[w.byName.fillLineGap.qname]&&(t.flg=!0),"span"===i.kind&&i.text)if(t.lp||t.mra||t.flg)for(var u="",d=0;d<i.text.length;d++){u+=i.text.charAt(d);var c=i.text.charCodeAt(d);(c<55296||56319<c||d===i.text.length)&&((c=document.createElement("span")).textContent=u,r.appendChild(c),u="")}else r.textContent=i.text;for(s in n.appendChild(r),i.contents)e(t,l,i.contents[s]);var f=[];if((t.lp||t.mra||t.flg)&&"p"===i.kind&&(R(t,l,f,null),t.mra&&(function(e){for(var t=0;t<e.length-1;t++){var n,i=e[t].elements.length;0!==i&&!1===e[t].br&&(n=document.createElement("br"),(i=e[t].elements[i-1].node).parentElement.insertBefore(n,i.nextSibling))}}(f),t.mra=null),t.lp&&(function(e,t,n){for(var i in e){var r=e[i].elements.length,o=e[i].elements[e[i].start_elem],i=e[i].elements[e[i].end_elem],a=Math.ceil(t)+"px",s="-"+Math.ceil(t)+"px";0!==r&&("lr"===n.ipd?(o.node.style.borderLeftColor=o.bgcolor||"#00000000",o.node.style.borderLeftStyle="solid",o.node.style.borderLeftWidth=a,o.node.style.marginLeft=s):"rl"===n.ipd?(o.node.style.borderRightColor=o.bgcolor||"#00000000",o.node.style.borderRightStyle="solid",o.node.style.borderRightWidth=a,o.node.style.marginRight=s):"tb"===n.ipd&&(o.node.style.borderTopColor=o.bgcolor||"#00000000",o.node.style.borderTopStyle="solid",o.node.style.borderTopWidth=a,o.node.style.marginTop=s),"lr"===n.ipd?(i.node.style.borderRightColor=i.bgcolor||"#00000000",i.node.style.borderRightStyle="solid",i.node.style.borderRightWidth=a,i.node.style.marginRight=s):"rl"===n.ipd?(i.node.style.borderLeftColor=i.bgcolor||"#00000000",i.node.style.borderLeftStyle="solid",i.node.style.borderLeftWidth=a,i.node.style.marginLeft=s):"tb"===n.ipd&&(i.node.style.borderBottomColor=i.bgcolor||"#00000000",i.node.style.borderBottomStyle="solid",i.node.style.borderBottomWidth=a,i.node.style.marginBottom=s))}}(f,t.lp*t.h,t),t.lp=null),t.flg)){for(var p=C(l.getBoundingClientRect(),t),h=f,g=p.before,m=p.after,y=t,v=Math.sign(m-g),_=0;_<=h.length;_++){var E,T,b=0===_?g:_===h.length?m:(h[_].before+h[_-1].after)/2;if(0<_)for(var S=0;S<h[_-1].elements.length;S++)null!==h[_-1].elements[S].bgcolor&&v*((T=h[_-1].elements[S]).after-b)<0&&(E=Math.ceil(Math.abs(b-T.after))+"px",T.node.style.backgroundColor=T.bgcolor,"lr"===y.bpd?T.node.style.paddingRight=E:"rl"===y.bpd?T.node.style.paddingLeft=E:"tb"===y.bpd&&(T.node.style.paddingBottom=E));if(_<h.length)for(var A=0;A<h[_].elements.length;A++)null!==(T=h[_].elements[A]).bgcolor&&0<v*(T.before-b)&&(E=Math.ceil(Math.abs(T.before-b))+"px",T.node.style.backgroundColor=T.bgcolor,"lr"===y.bpd?T.node.style.paddingLeft=E:"rl"===y.bpd?T.node.style.paddingRight=E:"tb"===y.bpd&&(T.node.style.paddingTop=E))}t.flg=null}"region"===i.kind&&(R(t,l,f),"tb"===t.bpd)&&t.enableRollUp&&0<i.contents.length&&"after"===i.styleAttrs[w.byName.displayAlign.qname]&&(n=new I(""===i.id?"_":i.id,f),t.currentISDState[n.id]=n,t.previousISDState)&&n.id in t.previousISDState&&0<t.previousISDState[n.id].plist.length&&1<n.plist.length&&n.plist[n.plist.length-2].text===t.previousISDState[n.id].plist[t.previousISDState[n.id].plist.length-1].text&&(p=r.firstElementChild,f=n.plist[n.plist.length-1].after-n.plist[n.plist.length-1].before,p.style.bottom="-"+f+"px",p.style.transition="transform 0.4s",p.style.position="relative",p.style.transform="translateY(-"+f+"px)")}else if(n=t.errorHandler,p="Error processing ISD element kind: "+i.kind,n&&n.error&&n.error(p))throw p}(f,c,e.contents[d]);return f.currentISDState};var r,D=[new i("http://www.w3.org/ns/ttml#styling backgroundColor",function(e,t,n,i){0!==i[3]&&(t.style.backgroundColor="rgba("+i[0].toString()+","+i[1].toString()+","+i[2].toString()+","+(i[3]/255).toString()+")")}),new i("http://www.w3.org/ns/ttml#styling color",function(e,t,n,i){t.style.color="rgba("+i[0].toString()+","+i[1].toString()+","+i[2].toString()+","+(i[3]/255).toString()+")"}),new i("http://www.w3.org/ns/ttml#styling direction",function(e,t,n,i){t.style.direction=i}),new i("http://www.w3.org/ns/ttml#styling display",function(e,t,n,i){}),new i("http://www.w3.org/ns/ttml#styling displayAlign",function(e,t,n,i){t.style.display="flex",t.style.flexDirection="column","before"===i?t.style.justifyContent="flex-start":"center"===i?t.style.justifyContent="center":"after"===i&&(t.style.justifyContent="flex-end")}),new i("http://www.w3.org/ns/ttml#styling extent",function(e,t,n,i){e.regionH=i.h*e.h,e.regionW=i.w*e.w;var i=0,r=0,n=n.styleAttrs["http://www.w3.org/ns/ttml#styling padding"];n&&(i=(n[0]+n[2])*e.h,r=(n[1]+n[3])*e.w),t.style.height=e.regionH-i+"px",t.style.width=e.regionW-r+"px"}),new i("http://www.w3.org/ns/ttml#styling fontFamily",function(e,t,n,i){var r,o=[];for(r in i)"monospaceSerif"===i[r]?(o.push("Courier New"),o.push('"Liberation Mono"'),o.push("Courier"),o.push("monospace")):"proportionalSansSerif"===i[r]?(o.push("Arial"),o.push("Helvetica"),o.push('"Liberation Sans"'),o.push("sans-serif")):"monospace"===i[r]?o.push("monospace"):"sansSerif"===i[r]?o.push("sans-serif"):"serif"===i[r]?o.push("serif"):"monospaceSansSerif"===i[r]?(o.push("Consolas"),o.push("monospace")):"proportionalSerif"===i[r]?o.push("serif"):o.push(i[r]);t.style.fontFamily=o.join(",")}),new i("http://www.w3.org/ns/ttml#styling fontSize",function(e,t,n,i){t.style.fontSize=i*e.h+"px"}),new i("http://www.w3.org/ns/ttml#styling fontStyle",function(e,t,n,i){t.style.fontStyle=i}),new i("http://www.w3.org/ns/ttml#styling fontWeight",function(e,t,n,i){t.style.fontWeight=i}),new i("http://www.w3.org/ns/ttml#styling lineHeight",function(e,t,n,i){t.style.lineHeight="normal"===i?"normal":i*e.h+"px"}),new i("http://www.w3.org/ns/ttml#styling opacity",function(e,t,n,i){t.style.opacity=i}),new i("http://www.w3.org/ns/ttml#styling origin",function(e,t,n,i){t.style.top=i.h*e.h+"px",t.style.left=i.w*e.w+"px"}),new i("http://www.w3.org/ns/ttml#styling overflow",function(e,t,n,i){t.style.overflow=i}),new i("http://www.w3.org/ns/ttml#styling padding",function(e,t,n,i){var r=[];r[0]=i[0]*e.h+"px",r[1]=i[3]*e.w+"px",r[2]=i[2]*e.h+"px",r[3]=i[1]*e.w+"px",t.style.padding=r.join(" ")}),new i("http://www.w3.org/ns/ttml#styling showBackground",null),new i("http://www.w3.org/ns/ttml#styling textAlign",function(e,t,n,i){n=n.styleAttrs[w.byName.direction.qname];t.style.textAlign="start"===i?"rtl"===n?"right":"left":"end"===i?"rtl"===n?"left":"right":i}),new i("http://www.w3.org/ns/ttml#styling textDecoration",function(e,t,n,i){t.style.textDecoration=i.join(" ").replace("lineThrough","line-through")}),new i("http://www.w3.org/ns/ttml#styling textOutline",function(e,t,n,i){t.style.textShadow="none"===i?"":"rgba("+i.color[0].toString()+","+i.color[1].toString()+","+i.color[2].toString()+","+(i.color[3]/255).toString()+") 0px 0px "+i.thickness*e.h+"px"}),new i("http://www.w3.org/ns/ttml#styling unicodeBidi",function(e,t,n,i){t.style.unicodeBidi="bidiOverride"===i?"bidi-override":i}),new i("http://www.w3.org/ns/ttml#styling visibility",function(e,t,n,i){t.style.visibility=i}),new i("http://www.w3.org/ns/ttml#styling wrapOption",function(e,t,n,i){"wrap"===i?"preserve"===n.space?t.style.whiteSpace="pre-wrap":t.style.whiteSpace="normal":"preserve"===n.space?t.style.whiteSpace="pre":t.style.whiteSpace="noWrap"}),new i("http://www.w3.org/ns/ttml#styling writingMode",function(e,t,n,i){"lrtb"===i||"lr"===i||"rltb"===i||"rl"===i?t.style.writingMode="horizontal-tb":"tblr"===i?t.style.writingMode="vertical-lr":"tbrl"!==i&&"tb"!==i||(t.style.writingMode="vertical-rl")}),new i("http://www.w3.org/ns/ttml#styling zIndex",function(e,t,n,i){t.style.zIndex=i}),new i("http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt backgroundImage",function(e,t,n,i){var r;null!==e.imgResolver&&null!==i&&(r=document.createElement("img"),(i=e.imgResolver(i,r))&&(r.src=i),r.height=e.regionH,r.width=e.regionW,t.appendChild(r))}),new i("http://www.w3.org/ns/ttml/profile/imsc1#styling forcedDisplay",function(e,t,n,i){e.displayForcedOnlyMode&&!1===i&&(t.style.visibility="hidden")})];for(r in D)D[r].qname,D[r]},{18:18,19:19}],16:[function(e,t,n){function s(e){this.contents=[],this.aspectRatio=e.aspectRatio}function P(e){for(var t in this.kind=e.kind||"region",e.id&&(this.id=e.id),this.styleAttrs={},e.styleAttrs)this.styleAttrs[t]=e.styleAttrs[t];"text"in e?this.text=e.text:"br"!==e.kind&&(this.contents=[]),"space"in e&&(this.space=e.space)}var L,n=void 0===n?this.imscISD={}:n;"undefined"==typeof imscNames&&e(18),L="undefined"==typeof imscStyles?e(19):imscStyles,n.generateISD=function(e,t,n){var i,r=new s(e),o={};for(i in e.head.layout.regions){var a=function e(t,n,i,r,o,a,s,l,u){if(n<s.begin||n>=s.end)return null;var d="regionID"in s&&""!==s.regionID?s.regionID:a;if(null!==o&&d!==i.id&&(!("contents"in s)||"contents"in s&&0===s.contents.length||""!==d))return null;var c,f=new P(s);for(c in s.sets)n<s.sets[c].begin||n>=s.sets[c].end||(f.styleAttrs[s.sets[c].qname]=s.sets[c].value);var p,h,g,m,y,v,_,E={};for(h in f.styleAttrs)E[h]=!0,h!==L.byName.writingMode.qname||L.byName.direction.qname in f.styleAttrs||("lrtb"===(g=f.styleAttrs[h])||"lr"===g?f.styleAttrs[L.byName.direction.qname]="ltr":"rltb"!==g&&"rl"!==g||(f.styleAttrs[L.byName.direction.qname]="rtl"));if(null!==o)for(var T in L.all){var b,S,A;(T=L.all[T]).qname===L.byName.textDecoration.qname?(b=o.styleAttrs[T.qname],A=[],void 0===(S=f.styleAttrs[T.qname])?A=b:-1===S.indexOf("none")?((-1===S.indexOf("noUnderline")&&-1!==b.indexOf("underline")||-1!==S.indexOf("underline"))&&A.push("underline"),(-1===S.indexOf("noLineThrough")&&-1!==b.indexOf("lineThrough")||-1!==S.indexOf("lineThrough"))&&A.push("lineThrough"),(-1===S.indexOf("noOverline")&&-1!==b.indexOf("overline")||-1!==S.indexOf("overline"))&&A.push("overline")):A.push("none"),f.styleAttrs[T.qname]=A):T.inherit&&T.qname in o.styleAttrs&&!(T.qname in f.styleAttrs)&&(f.styleAttrs[T.qname]=o.styleAttrs[T.qname])}for(m in L.all){var w=L.all[m];w.qname in f.styleAttrs||("region"===f.kind||!1===w.inherit&&null!==w.initial)&&(f.styleAttrs[w.qname]=w.parse(w.initial),E[w.qname]=!0)}for(y in L.all){var I=L.all[y];if(I.qname in E&&null!==I.compute){var C=I.compute(t,o,f,f.styleAttrs[I.qname],u);if(null!==C)f.styleAttrs[I.qname]=C;else{R=C=void 0,C=l;var R="Style '"+I.qname+"' on element '"+f.kind+"' cannot be computed";if(C&&C.error&&C.error(R))throw R}}}if("none"===f.styleAttrs[L.byName.display.qname])return null;for(v in null===o?p=null===r?[]:[r]:"contents"in s&&(p=s.contents),p){var D=e(t,n,i,r,f,d,p[v],l,u);null!==D&&f.contents.push(D.element)}for(_ in f.styleAttrs)-1===L.byQName[_].applies.indexOf(f.kind)&&delete f.styleAttrs[_];if("span"===f.kind&&f.text&&"default"===f.space&&(a=f.text.replace(/\s+/g," "),f.text=a),"p"===f.kind){var N=[];!function e(t,n){if("contents"in t)for(var i in t.contents)e(t.contents[i],n);else n.push(t)}(f,N);for(var M=0,O="after_br",x=0;;)if("after_br"===O)M>=N.length||"br"===N[M].kind?(O="before_br",x=M,M--):("preserve"!==N[M].space&&(N[M].text=N[M].text.replace(/^\s+/g,"")),0<N[M].text.length?(O="looking_br",M++):N.splice(M,1));else if("before_br"===O)if(M<0||"br"===N[M].kind){if(O="after_br",(M=x+1)>=N.length)break}else if("preserve"!==N[M].space&&(N[M].text=N[M].text.replace(/\s+$/g,"")),0<N[M].text.length){if(O="after_br",(M=x+1)>=N.length)break}else N.splice(M,1),M--;else M>=N.length||"br"===N[M].kind?(O="before_br",x=M,M--):M++;!function e(t){if("br"!==t.kind){if("text"in t)return 0===t.text.length;if("contents"in t){for(var n=t.contents.length;n--;)e(t.contents[n])&&t.contents.splice(n,1);return 0===t.contents.length}}}(f)}return"div"===f.kind&&L.byName.backgroundImage.qname in f.styleAttrs||"br"===f.kind||"contents"in f&&0<f.contents.length||"span"===f.kind&&null!==f.text||"region"===f.kind&&"always"===f.styleAttrs[L.byName.showBackground.qname]?{region_id:d,element:f}:null}(e,t,e.head.layout.regions[i],e.body,null,"",e.head.layout.regions[i],n,o);null!==a&&r.contents.push(a.element)}return r}},{18:18,19:19}],17:[function(e,t,n){n.generateISD=e(16).generateISD,n.fromXML=e(14).fromXML,n.renderHTML=e(15).render},{14:14,15:15,16:16}],18:[function(e,t,n){(n=void 0===n?this.imscNames={}:n).ns_tt="http://www.w3.org/ns/ttml",n.ns_tts="http://www.w3.org/ns/ttml#styling",n.ns_ttp="http://www.w3.org/ns/ttml#parameter",n.ns_xml="http://www.w3.org/XML/1998/namespace",n.ns_itts="http://www.w3.org/ns/ttml/profile/imsc1#styling",n.ns_ittp="http://www.w3.org/ns/ttml/profile/imsc1#parameter",n.ns_smpte="http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt",n.ns_ebutts="urn:ebu:tt:style"},{}],19:[function(e,t,n){var i,r,l=void 0===n?this.imscStyles={}:n,n="undefined"==typeof imscNames?e(18):imscNames,o="undefined"==typeof imscUtils?e(20):imscUtils;function a(e,t,n,i,r,o,a,s){this.name=t,this.ns=e,this.qname=e+" "+t,this.inherit=r,this.animatable=o,this.initial=n,this.applies=i,this.parse=a,this.compute=s}for(i in l.all=[new a(n.ns_tts,"backgroundColor","transparent",["body","div","p","region","span"],!1,!0,o.parseColor,null),new a(n.ns_tts,"color","white",["span"],!0,!0,o.parseColor,null),new a(n.ns_tts,"direction","ltr",["p","span"],!0,!0,function(e){return e},null),new a(n.ns_tts,"display","auto",["body","div","p","region","span"],!1,!0,function(e){return e},null),new a(n.ns_tts,"displayAlign","before",["region"],!1,!0,function(e){return e},null),new a(n.ns_tts,"extent","auto",["tt","region"],!1,!0,function(e){var t;return"auto"===e?e:2===(e=e.split(" ")).length&&(t=o.parseLength(e[0]),e=o.parseLength(e[1]))&&t?{h:e,w:t}:null},function(e,t,n,i,r){var o,a;if("auto"===i)o=1;else if("%"===i.h.unit)o=i.h.value/100;else{if("px"!==i.h.unit)return null;o=i.h.value/e.pxDimensions.h}if("auto"===i)a=1;else if("%"===i.w.unit)a=i.w.value/100;else{if("px"!==i.w.unit)return null;a=i.w.value/e.pxDimensions.w}return{h:o,w:a}}),new a(n.ns_tts,"fontFamily","default",["span"],!0,!0,function(e){var t,n=e.split(","),i=[];for(t in n)"'"!==n[t].charAt(0)&&'"'!==n[t].charAt(0)&&"default"===n[t]?i.push("monospaceSerif"):i.push(n[t]);return i},null),new a(n.ns_tts,"fontSize","1c",["span"],!0,!0,o.parseLength,function(e,t,n,i,r){var o;if("%"===i.unit)o=null!==t?t.styleAttrs[l.byName.fontSize.qname]*i.value/100:i.value/100/e.cellResolution.h;else if("em"===i.unit)o=null!==t?t.styleAttrs[l.byName.fontSize.qname]*i.value:i.value/e.cellResolution.h;else if("c"===i.unit)o=i.value/e.cellResolution.h;else{if("px"!==i.unit)return null;o=i.value/e.pxDimensions.h}return o}),new a(n.ns_tts,"fontStyle","normal",["span"],!0,!0,function(e){return e},null),new a(n.ns_tts,"fontWeight","normal",["span"],!0,!0,function(e){return e},null),new a(n.ns_tts,"lineHeight","normal",["p"],!0,!0,function(e){return"normal"===e?e:o.parseLength(e)},function(e,t,n,i,r){var o;if("normal"===i)o=i;else if("%"===i.unit)o=n.styleAttrs[l.byName.fontSize.qname]*i.value/100;else if("em"===i.unit)o=n.styleAttrs[l.byName.fontSize.qname]*i.value;else if("c"===i.unit)o=i.value/e.cellResolution.h;else{if("px"!==i.unit)return null;o=i.value/e.pxDimensions.h}return o}),new a(n.ns_tts,"opacity",1,["region"],!1,!0,parseFloat,null),new a(n.ns_tts,"origin","auto",["region"],!1,!0,function(e){var t;return"auto"===e?e:2===(e=e.split(" ")).length&&(t=o.parseLength(e[0]),e=o.parseLength(e[1]))&&t?{h:e,w:t}:null},function(e,t,n,i,r){var o,a;if("auto"===i)o=0;else if("%"===i.h.unit)o=i.h.value/100;else{if("px"!==i.h.unit)return null;o=i.h.value/e.pxDimensions.h}if("auto"===i)a=0;else if("%"===i.w.unit)a=i.w.value/100;else{if("px"!==i.w.unit)return null;a=i.w.value/e.pxDimensions.w}return{h:o,w:a}}),new a(n.ns_tts,"overflow","hidden",["region"],!1,!0,function(e){return e},null),new a(n.ns_tts,"padding","0px",["region"],!1,!0,function(e){var t=e.split(" ");if(4<t.length)return null;var n,i=[];for(n in t){var r=o.parseLength(t[n]);if(!r)return null;i.push(r)}return i},function(e,t,n,i,r){var o;if(1===i.length)o=[i[0],i[0],i[0],i[0]];else if(2===i.length)o=[i[0],i[1],i[0],i[1]];else if(3===i.length)o=[i[0],i[1],i[2],i[1]];else{if(4!==i.length)return null;o=[i[0],i[1],i[2],i[3]]}i=n.styleAttrs[l.byName.writingMode.qname];if("lrtb"===i||"lr"===i)o=[o[0],o[3],o[2],o[1]];else if("rltb"===i||"rl"===i)o=[o[0],o[1],o[2],o[3]];else if("tblr"===i)o=[o[3],o[0],o[1],o[2]];else{if("tbrl"!==i&&"tb"!==i)return null;o=[o[3],o[2],o[1],o[0]]}var a,s=[];for(a in o)if(0===o[a].value)s[a]=0;else if("%"===o[a].unit)s[a]="0"===a||"2"===a?n.styleAttrs[l.byName.extent.qname].h*o[a].value/100:n.styleAttrs[l.byName.extent.qname].w*o[a].value/100;else if("em"===o[a].unit)s[a]=n.styleAttrs[l.byName.fontSize.qname]*o[a].value;else if("c"===o[a].unit)s[a]=o[a].value/e.cellResolution.h;else{if("px"!==o[a].unit)return null;s[a]="0"===a||"2"===a?o[a].value/e.pxDimensions.h:o[a].value/e.pxDimensions.w}return s}),new a(n.ns_tts,"showBackground","always",["region"],!1,!0,function(e){return e},null),new a(n.ns_tts,"textAlign","start",["p"],!0,!0,function(e){return e},function(e,t,n,i,r){return"left"===i?"start":"right"===i?"end":i}),new a(n.ns_tts,"textDecoration","none",["span"],!0,!0,function(e){return e.split(" ")},null),new a(n.ns_tts,"textOutline","none",["span"],!0,!0,function(e){var t,n;return"none"===e?e:(t={},!(0===(e=e.split(" ")).length||2<e.length)&&(n=o.parseColor(e[0]),null!==(t.color=n)&&e.shift(),1===e.length)&&(n=o.parseLength(e[0]))?(t.thickness=n,t):null)},function(e,t,n,i,r){if("none"===i)return i;var o={};if(null===i.color?o.color=n.styleAttrs[l.byName.color.qname]:o.color=i.color,"%"===i.thickness.unit)o.thickness=n.styleAttrs[l.byName.fontSize.qname]*i.thickness.value/100;else if("em"===i.thickness.unit)o.thickness=n.styleAttrs[l.byName.fontSize.qname]*i.thickness.value;else if("c"===i.thickness.unit)o.thickness=i.thickness.value/e.cellResolution.h;else{if("px"!==i.thickness.unit)return null;o.thickness=i.thickness.value/e.pxDimensions.h}return o}),new a(n.ns_tts,"unicodeBidi","normal",["span","p"],!1,!0,function(e){return e},null),new a(n.ns_tts,"visibility","visible",["body","div","p","region","span"],!0,!0,function(e){return e},null),new a(n.ns_tts,"wrapOption","wrap",["span"],!0,!0,function(e){return e},null),new a(n.ns_tts,"writingMode","lrtb",["region"],!1,!0,function(e){return e},null),new a(n.ns_tts,"zIndex","auto",["region"],!1,!0,function(e){var t;return"auto"===e?t=e:(t=parseInt(e),isNaN(t)&&(t=null)),t},null),new a(n.ns_ebutts,"linePadding","0c",["p"],!0,!1,o.parseLength,function(e,t,n,i,r){return"c"===i.unit?i.value/e.cellResolution.h:null}),new a(n.ns_ebutts,"multiRowAlign","auto",["p"],!0,!1,function(e){return e},null),new a(n.ns_smpte,"backgroundImage",null,["div"],!1,!1,function(e){return e},null),new a(n.ns_itts,"forcedDisplay","false",["body","div","p","region","span"],!0,!0,function(e){return"true"===e},null),new a(n.ns_itts,"fillLineGap","false",["p"],!0,!0,function(e){return"true"===e},null)],l.byQName={},l.all)l.byQName[l.all[i].qname]=l.all[i];for(r in l.byName={},l.all)l.byName[l.all[r].name]=l.all[r]},{18:18,20:20}],20:[function(e,t,n){var i,r,o,a,s;n=void 0===n?this.imscUtils={}:n,i=/#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})?/,r=/rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,o=/rgba\(\s*(\d+),\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/,a={transparent:[0,0,0,0],black:[0,0,0,255],silver:[192,192,192,255],gray:[128,128,128,255],white:[255,255,255,255],maroon:[128,0,0,255],red:[255,0,0,255],purple:[128,0,128,255],fuchsia:[255,0,255,255],magenta:[255,0,255,255],green:[0,128,0,255],lime:[0,255,0,255],olive:[128,128,0,255],yellow:[255,255,0,255],navy:[0,0,128,255],blue:[0,0,255,255],teal:[0,128,128,255],aqua:[0,255,255,255],cyan:[0,255,255,255]},n.parseColor=function(e){var t=null,n=a[e.toLowerCase()];return void 0!==n?t=n:null!==(n=i.exec(e))?t=[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16),void 0!==n[4]?parseInt(n[4],16):255]:null!==(n=r.exec(e))?t=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3]),255]:null!==(n=o.exec(e))&&(t=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3]),parseInt(n[4])]),t},s=/^((?:\+|\-)?\d*(?:\.\d+)?)(px|em|c|%)$/,n.parseLength=function(e){var t=null;return t=null!==(e=s.exec(e))?{value:parseFloat(e[1]),unit:e[2]}:t}},{}],21:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){function n(){}e.super_=t,n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],22:[function(e,t,n){function i(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(i(e)||"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&i(e.slice(0,0))||!!e._isBuffer)}},{}],23:[function(e,t,n){var i={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==i.call(e)}},{}],24:[function(e,t,n){!function(s){"use strict";!s.version||0===s.version.indexOf("v0.")||0===s.version.indexOf("v1.")&&0!==s.version.indexOf("v1.8.")?t.exports={nextTick:function(e,t,n,i){if("function"!=typeof e)throw new TypeError('"callback" argument must be a function');var r,o,a=arguments.length;switch(a){case 0:case 1:return s.nextTick(e);case 2:return s.nextTick(function(){e.call(null,t)});case 3:return s.nextTick(function(){e.call(null,t,n)});case 4:return s.nextTick(function(){e.call(null,t,n,i)});default:for(r=new Array(a-1),o=0;o<r.length;)r[o++]=arguments[o];return s.nextTick(function(){e.apply(null,r)})}}}:t.exports=s}.call(this,e(25))},{25:25}],25:[function(e,t,n){var i,r,t=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(i===setTimeout)return setTimeout(t,0);if((i===o||!i)&&setTimeout)return(i=setTimeout)(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}var l,u=[],d=!1,c=-1;function f(){d&&l&&(d=!1,l.length?u=l.concat(u):c=-1,u.length)&&p()}function p(){if(!d){var e=s(f);d=!0;for(var t=u.length;t;){for(l=u,u=[];++c<t;)l&&l[c].run();c=-1,t=u.length}l=null,d=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return(r=clearTimeout)(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function g(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||d||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=g,t.addListener=g,t.once=g,t.off=g,t.removeListener=g,t.removeAllListeners=g,t.emit=g,t.prependListener=g,t.prependOnceListener=g,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],26:[function(e,t,n){t.exports=e(27)},{27:27}],27:[function(e,t,n){"use strict";var i=e(24),r=Object.keys||function(e){var t,n=[];for(t in e)n.push(t);return n},t=(t.exports=d,e(10)),o=(t.inherits=e(21),e(29)),a=e(31);t.inherits(d,o);for(var s=r(a.prototype),l=0;l<s.length;l++){var u=s[l];d.prototype[u]||(d.prototype[u]=a.prototype[u])}function d(e){if(!(this instanceof d))return new d(e);o.call(this,e),a.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",c)}function c(){this.allowHalfOpen||this._writableState.ended||i.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),d.prototype._destroy=function(e,t){this.push(null),this.end(),i.nextTick(t,e)}},{10:10,21:21,24:24,29:29,31:31}],28:[function(e,t,n){"use strict";t.exports=r;var i=e(30),t=e(10);function r(e){if(!(this instanceof r))return new r(e);i.call(this,e)}t.inherits=e(21),t.inherits(r,i),r.prototype._transform=function(e,t,n){n(null,e)}},{10:10,21:21,30:30}],29:[function(N,M,e){!function(m,e){"use strict";var y=N(24);M.exports=r;var o,v=N(23);function _(e,t){return e.listeners(t).length}r.ReadableState=i,N(11).EventEmitter;var a,n=N(34),c=N(39).Buffer,f=e.Uint8Array||function(){},e=N(10),t=(e.inherits=N(21),N(7)),E=void 0,E=t&&t.debuglog?t.debuglog("stream"):function(){},s=N(32),t=N(33),l=(e.inherits(r,n),["error","close","destroy","pause","resume"]);function i(e,t){e=e||{};var t=t instanceof(o=o||N(27)),n=(this.objectMode=!!e.objectMode,t&&(this.objectMode=this.objectMode||!!e.readableObjectMode),e.highWaterMark),i=e.readableHighWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:t&&(i||0===i)?i:r,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new s,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=e.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,e.encoding&&(a=a||N(42).StringDecoder,this.decoder=new a(e.encoding),this.encoding=e.encoding)}function r(e){if(o=o||N(27),!(this instanceof r))return new r(e);this._readableState=new i(e,this),this.readable=!0,e&&("function"==typeof e.read&&(this._read=e.read),"function"==typeof e.destroy)&&(this._destroy=e.destroy),n.call(this)}function u(e,t,n,i,r){var o,a,s,l,u,d=e._readableState;return null===t?(d.reading=!1,s=e,(l=d).ended||(l.decoder&&(u=l.decoder.end())&&u.length&&(l.buffer.push(u),l.length+=l.objectMode?1:u.length),l.ended=!0,h(s))):(r||(u=d,s=l=t,o=a=c.isBuffer(s)||s instanceof f||"string"==typeof l||void 0===l||u.objectMode?a:new TypeError("Invalid non-string/buffer chunk")),o?e.emit("error",o):d.objectMode||t&&0<t.length?("string"==typeof t||d.objectMode||Object.getPrototypeOf(t)===c.prototype||(r=t,t=c.from(r)),i?d.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):p(e,d,t,!0):d.ended?e.emit("error",new Error("stream.push() after EOF")):(d.reading=!1,!d.decoder||n||(t=d.decoder.write(t),d.objectMode)||0!==t.length?p(e,d,t,!1):T(e,d))):i||(d.reading=!1)),!d.ended&&(d.needReadable||d.length<d.highWaterMark||0===d.length)}function p(e,t,n,i){t.flowing&&0===t.length&&!t.sync?(e.emit("data",n),e.read(0)):(t.length+=t.objectMode?1:n.length,i?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&h(e)),T(e,t)}Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),r.prototype.destroy=t.destroy,r.prototype._undestroy=t.undestroy,r.prototype._destroy=function(e,t){this.push(null),t(e)},r.prototype.push=function(e,t){var n,i=this._readableState;return i.objectMode?n=!0:"string"==typeof e&&((t=t||i.defaultEncoding)!==i.encoding&&(e=c.from(e,t),t=""),n=!0),u(this,e,t,!1,n)},r.prototype.unshift=function(e){return u(this,e,null,!0,!1)},r.prototype.isPaused=function(){return!1===this._readableState.flowing},r.prototype.setEncoding=function(e){return a=a||N(42).StringDecoder,this._readableState.decoder=new a(e),this._readableState.encoding=e,this};function d(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?(t.flowing&&t.length?t.buffer.head.data:t).length:(e>t.highWaterMark&&(t.highWaterMark=(8388608<=(n=e)?n=8388608:(n--,n=(n=(n=(n=(n|=n>>>1)|n>>>2)|n>>>4)|n>>>8)|n>>>16,n++),n)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0));var n}function h(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(E("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?y.nextTick(g,e):g(e))}function g(e){E("emit readable"),e.emit("readable"),w(e)}function T(e,t){t.readingMore||(t.readingMore=!0,y.nextTick(b,e,t))}function b(e,t){for(var n=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(E("maybeReadMore read 0"),e.read(0),n!==t.length);)n=t.length;t.readingMore=!1}function S(e){E("readable nexttick read 0"),e.read(0)}function A(e,t){t.reading||(E("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),w(e),t.flowing&&!t.reading&&e.read(0)}function w(e){var t=e._readableState;for(E("flow",t.flowing);t.flowing&&null!==e.read(););}function I(e,t){return 0===t.length?null:(t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):(e=e,n=t.buffer,t=t.decoder,e<n.head.data.length?(i=n.head.data.slice(0,e),n.head.data=n.head.data.slice(e)):i=e===n.head.data.length?n.shift():(t?function(e,t){var n=t.head,i=1,r=n.data;for(e-=r.length;n=n.next;){var o=n.data,a=e>o.length?o.length:e;if(a===o.length?r+=o:r+=o.slice(0,e),0==(e-=a)){a===o.length?(++i,n.next?t.head=n.next:t.head=t.tail=null):(t.head=n).data=o.slice(a);break}++i}return t.length-=i,r}:function(e,t){var n=c.allocUnsafe(e),i=t.head,r=1;for(i.data.copy(n),e-=i.data.length;i=i.next;){var o=i.data,a=e>o.length?o.length:e;if(o.copy(n,n.length-e,0,a),0==(e-=a)){a===o.length?(++r,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i).data=o.slice(a);break}++r}return t.length-=r,n})(e,n),r=i),r);var n,i,r}function C(e){var t=e._readableState;if(0<t.length)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,y.nextTick(R,t,e))}function R(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}r.prototype.read=function(e){E("read",e),e=parseInt(e,10);var t,n=this._readableState,i=e;return 0!==e&&(n.emittedReadable=!1),0===e&&n.needReadable&&(n.length>=n.highWaterMark||n.ended)?(E("read: emitReadable",n.length,n.ended),(0===n.length&&n.ended?C:h)(this),null):0===(e=d(e,n))&&n.ended?(0===n.length&&C(this),null):(t=n.needReadable,E("need readable",t),(0===n.length||n.length-e<n.highWaterMark)&&E("length less than watermark",t=!0),n.ended||n.reading?E("reading or ended",t=!1):t&&(E("do read"),n.reading=!0,n.sync=!0,0===n.length&&(n.needReadable=!0),this._read(n.highWaterMark),n.sync=!1,n.reading||(e=d(i,n))),null===(t=0<e?I(e,n):null)?(n.needReadable=!0,e=0):n.length-=e,0===n.length&&(n.ended||(n.needReadable=!0),i!==e)&&n.ended&&C(this),null!==t&&this.emit("data",t),t)},r.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},r.prototype.pipe=function(i,e){var r=this,o=this._readableState;switch(o.pipesCount){case 0:o.pipes=i;break;case 1:o.pipes=[o.pipes,i];break;default:o.pipes.push(i)}o.pipesCount+=1,E("pipe count=%d opts=%j",o.pipesCount,e);e=e&&!1===e.end||i===m.stdout||i===m.stderr?g:a;function a(){E("onend"),i.end()}o.endEmitted?y.nextTick(e):r.once("end",e),i.on("unpipe",function e(t,n){E("onunpipe"),t===r&&n&&!1===n.hasUnpiped&&(n.hasUnpiped=!0,E("cleanup"),i.removeListener("close",p),i.removeListener("finish",h),i.removeListener("drain",l),i.removeListener("error",f),i.removeListener("unpipe",e),r.removeListener("end",a),r.removeListener("end",g),r.removeListener("data",c),u=!0,!o.awaitDrain||i._writableState&&!i._writableState.needDrain||l())});t=r;var t,n,s,l=function(){var e=t._readableState;E("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&_(t,"data")&&(e.flowing=!0,w(t))},u=(i.on("drain",l),!1),d=!1;function c(e){E("ondata"),(d=!1)!==i.write(e)||d||((1===o.pipesCount&&o.pipes===i||1<o.pipesCount&&-1!==D(o.pipes,i))&&!u&&(E("false write response, pause",r._readableState.awaitDrain),r._readableState.awaitDrain++,d=!0),r.pause())}function f(e){E("onerror",e),g(),i.removeListener("error",f),0===_(i,"error")&&i.emit("error",e)}function p(){i.removeListener("finish",h),g()}function h(){E("onfinish"),i.removeListener("close",p),g()}function g(){E("unpipe"),r.unpipe(i)}return r.on("data",c),e="error",s=f,"function"==typeof(n=i).prependListener?n.prependListener(e,s):n._events&&n._events[e]?v(n._events[e])?n._events[e].unshift(s):n._events[e]=[s,n._events[e]]:n.on(e,s),i.once("close",p),i.once("finish",h),i.emit("pipe",r),o.flowing||(E("pipe resume"),r.resume()),i},r.prototype.unpipe=function(e){var t=this._readableState,n={hasUnpiped:!1};if(0!==t.pipesCount)if(1===t.pipesCount)e&&e!==t.pipes||(e=e||t.pipes,t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,n));else if(e){var i=D(t.pipes,e);-1!==i&&(t.pipes.splice(i,1),--t.pipesCount,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,n))}else{var r=t.pipes,o=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var a=0;a<o;a++)r[a].emit("unpipe",this,n)}return this},r.prototype.addListener=r.prototype.on=function(e,t){t=n.prototype.on.call(this,e,t);return"data"===e?!1!==this._readableState.flowing&&this.resume():"readable"!==e||(e=this._readableState).endEmitted||e.readableListening||(e.readableListening=e.needReadable=!0,e.emittedReadable=!1,e.reading?e.length&&h(this):y.nextTick(S,this)),t},r.prototype.resume=function(){var e=this._readableState;return e.flowing||(E("resume"),e.flowing=!0,(e=e).resumeScheduled)||(e.resumeScheduled=!0,y.nextTick(A,this,e)),this},r.prototype.pause=function(){return E("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(E("pause"),this._readableState.flowing=!1,this.emit("pause")),this},r.prototype.wrap=function(t){var e,n=this,i=this._readableState,r=!1;for(e in t.on("end",function(){var e;E("wrapped end"),i.decoder&&!i.ended&&(e=i.decoder.end())&&e.length&&n.push(e),n.push(null)}),t.on("data",function(e){E("wrapped data"),i.decoder&&(e=i.decoder.write(e)),i.objectMode&&null==e||(i.objectMode||e&&e.length)&&!n.push(e)&&(r=!0,t.pause())}),t)void 0===this[e]&&"function"==typeof t[e]&&(this[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e));for(var o=0;o<l.length;o++)t.on(l[o],this.emit.bind(this,l[o]));return this._read=function(e){E("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(r.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),r._fromList=I}.call(this,N(25),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{10:10,11:11,21:21,23:23,24:24,25:25,27:27,32:32,33:33,34:34,39:39,42:42,7:7}],30:[function(e,t,n){"use strict";t.exports=r;var i=e(27),t=e(10);function r(e){if(!(this instanceof r))return new r(e);i.call(this,e),this._transformState={afterTransform:function(e,t){var n=this._transformState,i=(n.transforming=!1,n.writecb);if(!i)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,(n.writecb=null)!=t&&this.push(t),i(e);n=this._readableState;n.reading=!1,(n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush)&&(this._flush=e.flush),this.on("prefinish",o)}function o(){var n=this;"function"==typeof this._flush?this._flush(function(e,t){a(n,e,t)}):a(this,null,null)}function a(e,t,n){if(t)return e.emit("error",t);if(null!=n&&e.push(n),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");e.push(null)}t.inherits=e(21),t.inherits(r,i),r.prototype.push=function(e,t){return this._transformState.needTransform=!1,i.prototype.push.call(this,e,t)},r.prototype._transform=function(e,t,n){throw new Error("_transform() is not implemented")},r.prototype._write=function(e,t,n){var i=this._transformState;i.writecb=n,i.writechunk=e,i.writeencoding=t,!i.transforming&&(n=this._readableState,i.needTransform||n.needReadable||n.length<n.highWaterMark)&&this._read(n.highWaterMark)},r.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},r.prototype._destroy=function(e,t){var n=this;i.prototype._destroy.call(this,e,function(e){t(e),n.emit("close")})}},{10:10,21:21,27:27}],31:[function(T,u,e){!function(e,t,n){"use strict";var p=T(24);function d(r){var o=this;this.next=null,this.entry=null,this.finish=function(){var e=o,t=r,n=e.entry;for(e.entry=null;n;){var i=n.callback;t.pendingcb--,i(void 0),n=n.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}}u.exports=s;var o,i,c=!e.browser&&-1<["v0.10","v0.9."].indexOf(e.version.slice(0,5))?n:p.nextTick,e=(s.WritableState=a,T(10)),n=(e.inherits=T(21),{deprecate:T(44)}),r=T(34),h=T(39).Buffer,g=t.Uint8Array||function(){},t=T(33);function m(){}function a(e,u){o=o||T(27),e=e||{};var t=u instanceof o,n=(this.objectMode=!!e.objectMode,t&&(this.objectMode=this.objectMode||!!e.writableObjectMode),e.highWaterMark),i=e.writableHighWaterMark,r=this.objectMode?16:16384,n=(this.highWaterMark=n||0===n?n:t&&(i||0===i)?i:r,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,(this.destroyed=!1)===e.decodeStrings);this.decodeStrings=!n,this.defaultEncoding=e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){var t,n,i,r,o,a,s,l;e=e,a=(t=u)._writableState,s=a.sync,l=a.writecb,(o=a).writing=!1,o.writecb=null,o.length-=o.writelen,o.writelen=0,e?(o=t,i=s,e=e,r=l,--(n=a).pendingcb,i?(p.nextTick(r,e),p.nextTick(E,o,n),o._writableState.errorEmitted=!0,o.emit("error",e)):(r(e),o._writableState.errorEmitted=!0,o.emit("error",e),E(o,n))):((i=_(a))||a.corked||a.bufferProcessing||!a.bufferedRequest||v(t,a),s?c(f,t,a,i,l):f(t,a,i,l))},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}function s(e){if(o=o||T(27),!(i.call(s,this)||this instanceof o))return new s(e);this._writableState=new a(e,this),this.writable=!0,e&&("function"==typeof e.write&&(this._write=e.write),"function"==typeof e.writev&&(this._writev=e.writev),"function"==typeof e.destroy&&(this._destroy=e.destroy),"function"==typeof e.final)&&(this._final=e.final),r.call(this)}function y(e,t,n,i,r,o,a){t.writelen=i,t.writecb=a,t.writing=!0,t.sync=!0,n?e._writev(r,t.onwrite):e._write(r,o,t.onwrite),t.sync=!1}function f(e,t,n,i){n||(n=e,0===t.length&&t.needDrain&&(t.needDrain=!1,n.emit("drain"))),t.pendingcb--,i(),E(e,t)}function v(e,t){t.bufferProcessing=!0;var n=t.bufferedRequest;if(e._writev&&n&&n.next){var i=t.bufferedRequestCount,r=new Array(i),i=t.corkedRequestsFree;i.entry=n;for(var o=0,a=!0;n;)(r[o]=n).isBuf||(a=!1),n=n.next,o+=1;r.allBuffers=a,y(e,t,!0,t.length,r,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,i.next?(t.corkedRequestsFree=i.next,i.next=null):t.corkedRequestsFree=new d(t),t.bufferedRequestCount=0}else{for(;n;){var s=n.chunk,l=n.encoding,u=n.callback;if(y(e,t,!1,t.objectMode?1:s.length,s,l,u),n=n.next,t.bufferedRequestCount--,t.writing)break}null===n&&(t.lastBufferedRequest=null)}t.bufferedRequest=n,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function l(t,n){t._final(function(e){n.pendingcb--,e&&t.emit("error",e),n.prefinished=!0,t.emit("prefinish"),E(t,n)})}function E(e,t){var n,i,r=_(t);return r&&(n=e,(i=t).prefinished||i.finalCalled||("function"==typeof n._final?(i.pendingcb++,i.finalCalled=!0,p.nextTick(l,n,i)):(i.prefinished=!0,n.emit("prefinish"))),0===t.pendingcb)&&(t.finished=!0,e.emit("finish")),r}e.inherits(s,r),a.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t};try{Object.defineProperty(a.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(i=Function.prototype[Symbol.hasInstance],Object.defineProperty(s,Symbol.hasInstance,{value:function(e){return!!i.call(this,e)||this===s&&e&&e._writableState instanceof a}})):i=function(e){return e instanceof this},s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},s.prototype.write=function(e,t,n){var i,r,o,a,s,l,u,d=this._writableState,c=!1,f=!d.objectMode&&(f=e,h.isBuffer(f)||f instanceof g);return f&&!h.isBuffer(e)&&(r=e,e=h.from(r)),"function"==typeof t&&(n=t,t=null),t=f?"buffer":t||d.defaultEncoding,"function"!=typeof n&&(n=m),d.ended?(r=n,o=new Error("write after end"),this.emit("error",o),p.nextTick(r,o)):(f||(r=d,o=n,a=!(s=!0),null===(i=e)?a=new TypeError("May not write null values to stream"):"string"==typeof i||void 0===i||r.objectMode||(a=new TypeError("Invalid non-string/buffer chunk")),a&&(this.emit("error",a),p.nextTick(o,a),s=!1),s))&&(d.pendingcb++,i=this,r=d,o=e,a=t,s=n,(d=f)||(u=o,l=a,u=r.objectMode||!1===r.decodeStrings||"string"!=typeof u?u:h.from(u,l),o!==u&&(d=!0,a="buffer",o=u)),l=r.objectMode?1:o.length,r.length+=l,(u=r.length<r.highWaterMark)||(r.needDrain=!0),r.writing||r.corked?(e=r.lastBufferedRequest,r.lastBufferedRequest={chunk:o,encoding:a,isBuf:d,callback:s,next:null},e?e.next=r.lastBufferedRequest:r.bufferedRequest=r.lastBufferedRequest,r.bufferedRequestCount+=1):y(i,r,!1,l,o,a,s),c=u),c},s.prototype.cork=function(){this._writableState.corked++},s.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},s.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase()))return this._writableState.defaultEncoding=e,this;throw new TypeError("Unknown encoding: "+e)},Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),s.prototype._write=function(e,t,n){n(new Error("_write() is not implemented"))},s.prototype._writev=null,s.prototype.end=function(e,t,n){var i=this._writableState;"function"==typeof e?(n=e,t=e=null):"function"==typeof t&&(n=t,t=null),null!=e&&this.write(e,t),i.corked&&(i.corked=1,this.uncork()),i.ending||i.finished||(e=this,t=n,(n=i).ending=!0,E(e,n),t&&(n.finished?p.nextTick(t):e.once("finish",t)),n.ended=!0,e.writable=!1)},Object.defineProperty(s.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),s.prototype.destroy=t.destroy,s.prototype._undestroy=t.undestroy,s.prototype._destroy=function(e,t){this.end(),t(e)}}.call(this,T(25),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},T(43).setImmediate)},{10:10,21:21,24:24,25:25,27:27,33:33,34:34,39:39,43:43,44:44}],32:[function(e,t,n){"use strict";var o=e(39).Buffer,i=e(7);function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.head=null,this.tail=null,this.length=0}t.exports=(r.prototype.push=function(e){e={data:e,next:null};0<this.length?this.tail.next=e:this.head=e,this.tail=e,++this.length},r.prototype.unshift=function(e){e={data:e,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},r.prototype.shift=function(){var e;if(0!==this.length)return e=this.head.data,1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e},r.prototype.clear=function(){this.head=this.tail=null,this.length=0},r.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;t=t.next;)n+=e+t.data;return n},r.prototype.concat=function(e){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var t,n=o.allocUnsafe(e>>>0),i=this.head,r=0;i;)t=r,i.data.copy(n,t),r+=i.data.length,i=i.next;return n},r),i&&i.inspect&&i.inspect.custom&&(t.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e})},{39:39,7:7}],33:[function(e,t,n){"use strict";var o=e(24);function a(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var n=this,i=this._readableState&&this._readableState.destroyed,r=this._writableState&&this._writableState.destroyed;return i||r?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||o.nextTick(a,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,function(e){!t&&e?(o.nextTick(a,n,e),n._writableState&&(n._writableState.errorEmitted=!0)):t&&t(e)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{24:24}],34:[function(e,t,n){t.exports=e(11).EventEmitter},{11:11}],35:[function(e,t,n){t.exports=e(36).PassThrough},{36:36}],36:[function(e,t,n){(((n=t.exports=e(29)).Stream=n).Readable=n).Writable=e(31),n.Duplex=e(27),n.Transform=e(30),n.PassThrough=e(28)},{27:27,28:28,29:29,30:30,31:31}],37:[function(e,t,n){t.exports=e(36).Transform},{36:36}],38:[function(e,t,n){t.exports=e(31)},{31:31}],39:[function(e,t,n){var i=e(8),r=i.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=i:(o(i,n),n.Buffer=a),o(r,a),a.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},a.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");e=r(e);return void 0!==t?"string"==typeof n?e.fill(t,n):e.fill(t):e.fill(0),e},a.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},a.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return i.SlowBuffer(e)}},{8:8}],40:[function(g,e,m){!function(n){var _=void 0===m?this.sax={}:m;_.parser=function(e,t){return new a(e,t)},_.SAXParser=a,_.SAXStream=o,_.createStream=function(e,t){return new o(e,t)},_.MAX_BUFFER_LENGTH=65536;var i,E=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function a(e,t){if(!(this instanceof a))return new a(e,t);for(var n=this,i=n,r=0,o=E.length;r<o;r++)i[E[r]]="";n.q=n.c="",n.bufferCheckPosition=_.MAX_BUFFER_LENGTH,n.opt=t||{},n.opt.lowercase=n.opt.lowercase||n.opt.lowercasetags,n.looseCase=n.opt.lowercase?"toLowerCase":"toUpperCase",n.tags=[],n.closed=n.closedRoot=n.sawRoot=!1,n.tag=n.error=null,n.strict=!!e,n.noscript=!(!e&&!n.opt.noscript),n.state=D.BEGIN,n.strictEntities=n.opt.strictEntities,n.ENTITIES=n.strictEntities?Object.create(_.XML_ENTITIES):Object.create(_.ENTITIES),n.attribList=[],n.opt.xmlns&&(n.ns=Object.create(h)),n.trackPosition=!1!==n.opt.position,n.trackPosition&&(n.position=n.line=n.column=0),c(n,"onready")}_.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n}),a.prototype={end:function(){P(this)},write:function(e){var t=this;if(this.error)throw this.error;if(t.closed)return x(t,"Cannot write after close. Assign an onready handler.");if(null===e)return P(t);"object"==typeof e&&(e=e.toString());for(var n,i,r,o,a,s,l,u=0,d="";d=j(e,u++),t.c=d;)switch(t.trackPosition&&(t.position++,"\n"===d?(t.line++,t.column=0):t.column++),t.state){case D.BEGIN:if(t.state=D.BEGIN_WHITESPACE,"\ufeff"===d)continue;U(t,d);continue;case D.BEGIN_WHITESPACE:U(t,d);continue;case D.TEXT:if(t.sawRoot&&!t.closedRoot){for(var c=u-1;d&&"<"!==d&&"&"!==d;)(d=j(e,u++))&&t.trackPosition&&(t.position++,"\n"===d?(t.line++,t.column=0):t.column++);t.textNode+=e.substring(c,u-1)}"<"!==d||t.sawRoot&&t.closedRoot&&!t.strict?(!R(A,d)||t.sawRoot&&!t.closedRoot||L(t,"Text data outside of root node."),"&"===d?t.state=D.TEXT_ENTITY:t.textNode+=d):(t.state=D.OPEN_WAKA,t.startTagPosition=t.position);continue;case D.SCRIPT:"<"===d?t.state=D.SCRIPT_ENDING:t.script+=d;continue;case D.SCRIPT_ENDING:"/"===d?t.state=D.CLOSE_TAG:(t.script+="<"+d,t.state=D.SCRIPT);continue;case D.OPEN_WAKA:"!"===d?(t.state=D.SGML_DECL,t.sgmlDecl=""):C(A,d)||(C(w,d)?(t.state=D.OPEN_TAG,t.tagName=d):"/"===d?(t.state=D.CLOSE_TAG,t.tagName=""):"?"===d?(t.state=D.PROC_INST,t.procInstName=t.procInstBody=""):(L(t,"Unencoded <"),t.startTagPosition+1<t.position&&(c=t.position-t.startTagPosition,d=new Array(c).join(" ")+d),t.textNode+="<"+d,t.state=D.TEXT));continue;case D.SGML_DECL:(t.sgmlDecl+d).toUpperCase()===S?(N(t,"onopencdata"),t.state=D.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+d==="--"?(t.state=D.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+d).toUpperCase()===H?(t.state=D.DOCTYPE,(t.doctype||t.sawRoot)&&L(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===d?(N(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=D.TEXT):(C(T,d)&&(t.state=D.SGML_DECL_QUOTED),t.sgmlDecl+=d);continue;case D.SGML_DECL_QUOTED:d===t.q&&(t.state=D.SGML_DECL,t.q=""),t.sgmlDecl+=d;continue;case D.DOCTYPE:">"===d?(t.state=D.TEXT,N(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=d,"["===d?t.state=D.DOCTYPE_DTD:C(T,d)&&(t.state=D.DOCTYPE_QUOTED,t.q=d));continue;case D.DOCTYPE_QUOTED:t.doctype+=d,d===t.q&&(t.q="",t.state=D.DOCTYPE);continue;case D.DOCTYPE_DTD:t.doctype+=d,"]"===d?t.state=D.DOCTYPE:C(T,d)&&(t.state=D.DOCTYPE_DTD_QUOTED,t.q=d);continue;case D.DOCTYPE_DTD_QUOTED:t.doctype+=d,d===t.q&&(t.state=D.DOCTYPE_DTD,t.q="");continue;case D.COMMENT:"-"===d?t.state=D.COMMENT_ENDING:t.comment+=d;continue;case D.COMMENT_ENDING:"-"===d?(t.state=D.COMMENT_ENDED,t.comment=O(t.opt,t.comment),t.comment&&N(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+d,t.state=D.COMMENT);continue;case D.COMMENT_ENDED:">"!==d?(L(t,"Malformed comment"),t.comment+="--"+d,t.state=D.COMMENT):t.state=D.TEXT;continue;case D.CDATA:"]"===d?t.state=D.CDATA_ENDING:t.cdata+=d;continue;case D.CDATA_ENDING:"]"===d?t.state=D.CDATA_ENDING_2:(t.cdata+="]"+d,t.state=D.CDATA);continue;case D.CDATA_ENDING_2:">"===d?(t.cdata&&N(t,"oncdata",t.cdata),N(t,"onclosecdata"),t.cdata="",t.state=D.TEXT):"]"===d?t.cdata+="]":(t.cdata+="]]"+d,t.state=D.CDATA);continue;case D.PROC_INST:"?"===d?t.state=D.PROC_INST_ENDING:C(A,d)?t.state=D.PROC_INST_BODY:t.procInstName+=d;continue;case D.PROC_INST_BODY:if(!t.procInstBody&&C(A,d))continue;"?"===d?t.state=D.PROC_INST_ENDING:t.procInstBody+=d;continue;case D.PROC_INST_ENDING:">"===d?(N(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=D.TEXT):(t.procInstBody+="?"+d,t.state=D.PROC_INST_BODY);continue;case D.OPEN_TAG:C(I,d)?t.tagName+=d:(l=s=void 0,(a=t).strict||(a.tagName=a.tagName[a.looseCase]()),s=a.tags[a.tags.length-1]||a,l=a.tag={name:a.tagName,attributes:{}},a.opt.xmlns&&(l.ns=s.ns),a.attribList.length=0,N(a,"onopentagstart",l),">"===d?F(t):"/"===d?t.state=D.OPEN_TAG_SLASH:(R(A,d)&&L(t,"Invalid character in tag name"),t.state=D.ATTRIB));continue;case D.OPEN_TAG_SLASH:">"===d?(F(t,!0),B(t)):(L(t,"Forward-slash in opening tag not followed by >"),t.state=D.ATTRIB);continue;case D.ATTRIB:if(C(A,d))continue;">"===d?F(t):"/"===d?t.state=D.OPEN_TAG_SLASH:C(w,d)?(t.attribName=d,t.attribValue="",t.state=D.ATTRIB_NAME):L(t,"Invalid attribute name");continue;case D.ATTRIB_NAME:"="===d?t.state=D.ATTRIB_VALUE:">"===d?(L(t,"Attribute without value"),t.attribValue=t.attribName,k(t),F(t)):C(A,d)?t.state=D.ATTRIB_NAME_SAW_WHITE:C(I,d)?t.attribName+=d:L(t,"Invalid attribute name");continue;case D.ATTRIB_NAME_SAW_WHITE:if("="===d)t.state=D.ATTRIB_VALUE;else{if(C(A,d))continue;L(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",N(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",">"===d?F(t):C(w,d)?(t.attribName=d,t.state=D.ATTRIB_NAME):(L(t,"Invalid attribute name"),t.state=D.ATTRIB)}continue;case D.ATTRIB_VALUE:if(C(A,d))continue;C(T,d)?(t.q=d,t.state=D.ATTRIB_VALUE_QUOTED):(L(t,"Unquoted attribute value"),t.state=D.ATTRIB_VALUE_UNQUOTED,t.attribValue=d);continue;case D.ATTRIB_VALUE_QUOTED:if(d!==t.q){"&"===d?t.state=D.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=d;continue}k(t),t.q="",t.state=D.ATTRIB_VALUE_CLOSED;continue;case D.ATTRIB_VALUE_CLOSED:C(A,d)?t.state=D.ATTRIB:">"===d?F(t):"/"===d?t.state=D.OPEN_TAG_SLASH:C(w,d)?(L(t,"No whitespace between attributes"),t.attribName=d,t.attribValue="",t.state=D.ATTRIB_NAME):L(t,"Invalid attribute name");continue;case D.ATTRIB_VALUE_UNQUOTED:if(R(b,d)){"&"===d?t.state=D.ATTRIB_VALUE_ENTITY_U:t.attribValue+=d;continue}k(t),">"===d?F(t):t.state=D.ATTRIB;continue;case D.CLOSE_TAG:if(t.tagName)">"===d?B(t):C(I,d)?t.tagName+=d:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=D.SCRIPT):(R(A,d)&&L(t,"Invalid tagname in closing tag"),t.state=D.CLOSE_TAG_SAW_WHITE);else{if(C(A,d))continue;R(w,d)?t.script?(t.script+="</"+d,t.state=D.SCRIPT):L(t,"Invalid tagname in closing tag."):t.tagName=d}continue;case D.CLOSE_TAG_SAW_WHITE:if(C(A,d))continue;">"===d?B(t):L(t,"Invalid characters in closing tag");continue;case D.TEXT_ENTITY:case D.ATTRIB_VALUE_ENTITY_Q:case D.ATTRIB_VALUE_ENTITY_U:switch(t.state){case D.TEXT_ENTITY:n=D.TEXT,i="textNode";break;case D.ATTRIB_VALUE_ENTITY_Q:n=D.ATTRIB_VALUE_QUOTED,i="attribValue";break;case D.ATTRIB_VALUE_ENTITY_U:n=D.ATTRIB_VALUE_UNQUOTED,i="attribValue"}";"===d?(t[i]+=(o=l=a=s=void 0,a=(r=t).entity,l=a.toLowerCase(),o="",r.ENTITIES[a]||r.ENTITIES[l]||("#"===(a=l).charAt(0)&&(o="x"===a.charAt(1)?(a=a.slice(2),(s=parseInt(a,16)).toString(16)):(a=a.slice(1),(s=parseInt(a,10)).toString(10))),a=a.replace(/^0+/,""),o.toLowerCase()!==a?(L(r,"Invalid character entity"),"&"+r.entity+";"):String.fromCodePoint(s))),t.entity="",t.state=n):C(t.entity.length?K:G,d)?t.entity+=d:(L(t,"Invalid character in entity name"),t[i]+="&"+t.entity+d,t.entity="",t.state=n);continue;default:throw new Error(t,"Unknown state: "+t.state)}if(t.position>=t.bufferCheckPosition){for(var f=t,p=Math.max(_.MAX_BUFFER_LENGTH,10),h=0,g=0,m=E.length;g<m;g++){var y=f[E[g]].length;if(p<y)switch(E[g]){case"textNode":M(f);break;case"cdata":N(f,"oncdata",f.cdata),f.cdata="";break;case"script":N(f,"onscript",f.script),f.script="";break;default:x(f,"Max buffer length exceeded: "+E[g])}h=Math.max(h,y)}var v=_.MAX_BUFFER_LENGTH-h;f.bufferCheckPosition=v+f.position}return t},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;M(e=this),""!==e.cdata&&(N(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(N(e,"onscript",e.script),e.script="")}};try{i=g(41).Stream}catch(e){i=function(){}}var r=_.EVENTS.filter(function(e){return"error"!==e&&"end"!==e});function o(e,t){if(!(this instanceof o))return new o(e,t);i.apply(this),this._parser=new a(e,t),this.writable=!0,this.readable=!0;var n=this;this._parser.onend=function(){n.emit("end")},this._parser.onerror=function(e){n.emit("error",e),n._parser.error=null},this._decoder=null,r.forEach(function(t){Object.defineProperty(n,"on"+t,{get:function(){return n._parser["on"+t]},set:function(e){if(!e)return n.removeAllListeners(t),n._parser["on"+t]=e;n.on(t,e)},enumerable:!0,configurable:!1})})}(o.prototype=Object.create(i.prototype,{constructor:{value:o}})).write=function(e){var t;return"function"==typeof n&&"function"==typeof n.isBuffer&&n.isBuffer(e)&&(this._decoder||(t=g(42).StringDecoder,this._decoder=new t("utf8")),e=this._decoder.write(e)),this._parser.write(e.toString()),this.emit("data",e),!0},o.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},o.prototype.on=function(t,e){var n=this;return n._parser["on"+t]||-1===r.indexOf(t)||(n._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),n.emit.apply(n,e)}),i.prototype.on.call(n,t,e)};var T="'\"",b=(A="\r\n\t ")+">",S="[CDATA[",H="DOCTYPE",s="http://www.w3.org/XML/1998/namespace",l="http://www.w3.org/2000/xmlns/",h={xml:s,xmlns:l},A=e(A),w=(e("0124356789"),e("abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"),/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/),I=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/,G=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,K=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040\.\d-]/;function e(e){return e.split("").reduce(function(e,t){return e[t]=!0,e},{})}function C(e,t){return"[object RegExp]"===Object.prototype.toString.call(e)?t.match(e):e[t]}function R(e,t){return!C(e,t)}var u,d,t,T=e(T),b=e(b),D=0;for(t in _.STATE={BEGIN:D++,BEGIN_WHITESPACE:D++,TEXT:D++,TEXT_ENTITY:D++,OPEN_WAKA:D++,SGML_DECL:D++,SGML_DECL_QUOTED:D++,DOCTYPE:D++,DOCTYPE_QUOTED:D++,DOCTYPE_DTD:D++,DOCTYPE_DTD_QUOTED:D++,COMMENT_STARTING:D++,COMMENT:D++,COMMENT_ENDING:D++,COMMENT_ENDED:D++,CDATA:D++,CDATA_ENDING:D++,CDATA_ENDING_2:D++,PROC_INST:D++,PROC_INST_BODY:D++,PROC_INST_ENDING:D++,OPEN_TAG:D++,OPEN_TAG_SLASH:D++,ATTRIB:D++,ATTRIB_NAME:D++,ATTRIB_NAME_SAW_WHITE:D++,ATTRIB_VALUE:D++,ATTRIB_VALUE_QUOTED:D++,ATTRIB_VALUE_CLOSED:D++,ATTRIB_VALUE_UNQUOTED:D++,ATTRIB_VALUE_ENTITY_Q:D++,ATTRIB_VALUE_ENTITY_U:D++,CLOSE_TAG:D++,CLOSE_TAG_SAW_WHITE:D++,SCRIPT:D++,SCRIPT_ENDING:D++},_.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},_.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(_.ENTITIES).forEach(function(e){var t=_.ENTITIES[e],t="number"==typeof t?String.fromCharCode(t):t;_.ENTITIES[e]=t}),_.STATE)_.STATE[_.STATE[t]]=t;function c(e,t,n){e[t]&&e[t](n)}function N(e,t,n){e.textNode&&M(e),c(e,t,n)}function M(e){e.textNode=O(e.opt,e.textNode),e.textNode&&c(e,"ontext",e.textNode),e.textNode=""}function O(e,t){return e.trim&&(t=t.trim()),t=e.normalize?t.replace(/\s+/g," "):t}function x(e,t){return M(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,c(e,"onerror",t),e}function P(e){return e.sawRoot&&!e.closedRoot&&L(e,"Unclosed root tag"),e.state!==D.BEGIN&&e.state!==D.BEGIN_WHITESPACE&&e.state!==D.TEXT&&x(e,"Unexpected end"),M(e),e.c="",e.closed=!0,c(e,"onend"),a.call(e,e.strict,e.opt),e}function L(e,t){if("object"!=typeof e||!(e instanceof a))throw new Error("bad call to strictFail");e.strict&&x(e,t)}function f(e,t){var n=e.indexOf(":")<0?["",e]:e.split(":"),i=n[0],n=n[1];return t&&"xmlns"===e&&(i="xmlns",n=""),{prefix:i,local:n}}function k(e){var t,n,i;e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName)||(e.opt.xmlns?(n=(t=f(e.attribName,!0)).prefix,t=t.local,"xmlns"===n&&("xml"===t&&e.attribValue!==s?L(e,"xml: prefix must be bound to "+s+"\nActual: "+e.attribValue):"xmlns"===t&&e.attribValue!==l?L(e,"xmlns: prefix must be bound to "+l+"\nActual: "+e.attribValue):(n=e.tag,i=e.tags[e.tags.length-1]||e,n.ns===i.ns&&(n.ns=Object.create(i.ns)),n.ns[t]=e.attribValue)),e.attribList.push([e.attribName,e.attribValue])):(e.tag.attributes[e.attribName]=e.attribValue,N(e,"onattribute",{name:e.attribName,value:e.attribValue}))),e.attribName=e.attribValue=""}function F(t,e){if(t.opt.xmlns){var n=t.tag,i=f(t.tagName),i=(n.prefix=i.prefix,n.local=i.local,n.uri=n.ns[i.prefix]||"",n.prefix&&!n.uri&&(L(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),n.uri=i.prefix),t.tags[t.tags.length-1]||t);n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach(function(e){N(t,"onopennamespace",{prefix:e,uri:n.ns[e]})});for(var r=0,o=t.attribList.length;r<o;r++){var a=t.attribList[r],s=a[0],a=a[1],l=f(s,!0),u=l.prefix,l=l.local,d=""!==u&&n.ns[u]||"",a={name:s,value:a,prefix:u,local:l,uri:d};u&&"xmlns"!==u&&!d&&(L(t,"Unbound namespace prefix: "+JSON.stringify(u)),a.uri=u),t.tag.attributes[s]=a,N(t,"onattribute",a)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),N(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=D.TEXT:t.state=D.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function B(n){if(!n.tagName)return L(n,"Weird empty close tag."),n.textNode+="</>",n.state=D.TEXT;if(n.script){if("script"!==n.tagName)return n.script+="</"+n.tagName+">",n.tagName="",n.state=D.SCRIPT;N(n,"onscript",n.script),n.script=""}for(var e=n.tags.length,t=n.tagName,i=t=n.strict?t:t[n.looseCase]();e--&&n.tags[e].name!==i;)L(n,"Unexpected close tag");if(e<0)return L(n,"Unmatched closing tag: "+n.tagName),n.textNode+="</"+n.tagName+">",n.state=D.TEXT;n.tagName=t;for(var r=n.tags.length;r-- >e;){var o,a=n.tag=n.tags.pop();n.tagName=n.tag.name,N(n,"onclosetag",n.tagName);for(o in a.ns)o,a.ns[o];var s=n.tags[n.tags.length-1]||n;n.opt.xmlns&&a.ns!==s.ns&&Object.keys(a.ns).forEach(function(e){var t=a.ns[e];N(n,"onclosenamespace",{prefix:e,uri:t})})}0===e&&(n.closedRoot=!0),n.tagName=n.attribValue=n.attribName="",n.attribList.length=0,n.state=D.TEXT}function U(e,t){"<"===t?(e.state=D.OPEN_WAKA,e.startTagPosition=e.position):R(A,t)&&(L(e,"Non-whitespace before first tag."),e.textNode=t,e.state=D.TEXT)}function j(e,t){var n="";return n=t<e.length?e.charAt(t):n}function p(){var e,t=[],n=-1,i=arguments.length;if(!i)return"";for(var r="";++n<i;){var o=Number(arguments[n]);if(!isFinite(o)||o<0||1114111<o||d(o)!==o)throw RangeError("Invalid code point: "+o);o<=65535?t.push(o):(e=55296+((o-=65536)>>10),t.push(e,o%1024+56320)),(n+1===i||16384<t.length)&&(r+=u.apply(null,t),t.length=0)}return r}D=_.STATE,String.fromCodePoint||(u=String.fromCharCode,d=Math.floor,Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:p,configurable:!0,writable:!0}):String.fromCodePoint=p)}.call(this,g(8).Buffer)},{41:41,42:42,8:8}],41:[function(e,t,n){t.exports=i;var d=e(11).EventEmitter;function i(){d.call(this)}e(21)(i,d),i.Readable=e(36),i.Writable=e(38),i.Duplex=e(26),i.Transform=e(37),i.PassThrough=e(35),(i.Stream=i).prototype.pipe=function(t,e){var n=this;function i(e){t.writable&&!1===t.write(e)&&n.pause&&n.pause()}function r(){n.readable&&n.resume&&n.resume()}n.on("data",i),t.on("drain",r),t._isStdio||e&&!1===e.end||(n.on("end",a),n.on("close",s));var o=!1;function a(){o||(o=!0,t.end())}function s(){o||(o=!0,"function"==typeof t.destroy&&t.destroy())}function l(e){if(u(),0===d.listenerCount(this,"error"))throw e}function u(){n.removeListener("data",i),t.removeListener("drain",r),n.removeListener("end",a),n.removeListener("close",s),n.removeListener("error",l),t.removeListener("error",l),n.removeListener("end",u),n.removeListener("close",u),t.removeListener("close",u)}return n.on("error",l),t.on("error",l),n.on("end",u),n.on("close",u),t.on("close",u),t.emit("pipe",n),t}},{11:11,21:21,26:26,35:35,36:36,37:37,38:38}],42:[function(e,t,n){"use strict";var i=e(39).Buffer,r=i.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"==typeof t||i.isEncoding!==r&&r(e))return t||e;throw new Error("Unknown encoding: "+e)}(e),this.encoding){case"utf16le":this.text=l,this.end=u,t=4;break;case"utf8":this.fillLast=a,t=4;break;case"base64":this.text=d,this.end=c,t=3;break;default:return this.write=f,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(t)}function s(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function a(e){var t,n=this.lastTotal-this.lastNeed,i=(t=this,128!=(192&(i=e)[0])?(t.lastNeed=0,"ï¿½"):1<t.lastNeed&&1<i.length?128!=(192&i[1])?(t.lastNeed=1,"ï¿½"):2<t.lastNeed&&2<i.length&&128!=(192&i[2])?(t.lastNeed=2,"ï¿½"):void 0:void 0);return void 0!==i?i:this.lastNeed<=e.length?(e.copy(this.lastChar,n,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,n,0,e.length),void(this.lastNeed-=e.length))}function l(e,t){if((e.length-t)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1);t=e.toString("utf16le",t);if(t){var n=t.charCodeAt(t.length-1);if(55296<=n&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],t.slice(0,-1)}return t}function u(e){var t,e=e&&e.length?this.write(e):"";return this.lastNeed?(t=this.lastTotal-this.lastNeed,e+this.lastChar.toString("utf16le",0,t)):e}function d(e,t){var n=(e.length-t)%3;return 0==n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1==n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function c(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function f(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}(n.StringDecoder=o).prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){e=e&&e.length?this.write(e):"";return this.lastNeed?e+"ï¿½":e},o.prototype.text=function(e,t){n=this,o=t;var n,i,r,o=(r=(a=e).length-1)<o?0:0<=(i=s(a[r]))?(0<i&&(n.lastNeed=i-1),i):--r<o||-2===i?0:0<=(i=s(a[r]))?(0<i&&(n.lastNeed=i-2),i):!(--r<o||-2===i)&&0<=(i=s(a[r]))?(0<i&&(2===i?i=0:n.lastNeed=i-3),i):0;if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=o;var a=e.length-(o-this.lastNeed);return e.copy(this.lastChar,0,a),e.toString("utf8",t,a)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{39:39}],43:[function(l,e,u){!function(e,t){var i=l(25).nextTick,n=Function.prototype.apply,r=Array.prototype.slice,o={},a=0;function s(e,t){this._id=e,this._clearFn=t}u.setTimeout=function(){return new s(n.call(setTimeout,window,arguments),clearTimeout)},u.setInterval=function(){return new s(n.call(setInterval,window,arguments),clearInterval)},u.clearTimeout=u.clearInterval=function(e){e.close()},s.prototype.unref=s.prototype.ref=function(){},s.prototype.close=function(){this._clearFn.call(window,this._id)},u.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},u.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},u._unrefActive=u.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},u.setImmediate="function"==typeof e?e:function(e){var t=a++,n=!(arguments.length<2)&&r.call(arguments,1);return o[t]=!0,i(function(){o[t]&&(n?e.apply(null,n):e.call(null),u.clearImmediate(t))}),t},u.clearImmediate="function"==typeof t?t:function(e){delete o[e]}}.call(this,l(43).setImmediate,l(43).clearImmediate)},{25:25,43:43}],44:[function(e,t,n){!function(n){function i(e){try{if(!n.localStorage)return}catch(e){return}var t=n.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}t.exports=function(e,t){var n;return i("noDeprecation")?e:(n=!1,function(){if(!n){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),n=!0}return e.apply(this,arguments)})}}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(46)),p=i(e(54)),e=i(e(47));function o(e){e=e||{};var t=this.context,s=(0,r.default)(t).getInstance(),l=e.settings,u=[],d=void 0,c=void 0,f=void 0;function n(e){return(e&&e.bind?e:window.console.log).bind(window.console)}function i(e,t){var n,i="";d&&(n=(new Date).getTime(),i+="["+(n-f)+"]"),c&&t&&t.getClassName&&(i+="["+t.getClassName()+"]",t.getType)&&(i+="["+t.getType()+"]"),0<i.length&&(i+=" ");for(var r=arguments.length,o=Array(2<r?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];Array.apply(null,o).forEach(function(e){i+=e+" "}),u[e]&&l.get().debug.logLevel>=e&&u[e](i),s.trigger(p.default.LOG,{message:i,level:e})}return t={getLogger:function(e){return{fatal:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.apply(void 0,[1,this].concat(t))}.bind(e),error:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.apply(void 0,[2,this].concat(t))}.bind(e),warn:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.apply(void 0,[3,this].concat(t))}.bind(e),info:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.apply(void 0,[4,this].concat(t))}.bind(e),debug:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];i.apply(void 0,[5,this].concat(t))}.bind(e)}},setLogTimestampVisible:function(e){d=e},setCalleeNameVisible:function(e){c=e}},c=d=!0,f=(new Date).getTime(),"undefined"!=typeof window&&window.console&&(u[1]=n(window.console.error),u[2]=n(window.console.error),u[3]=n(window.console.warn),u[4]=n(window.console.info),u[5]=n(window.console.debug)),t}o.__dashjs_factory_name="Debug";var a=e.default.getSingletonFactory(o);a.LOG_LEVEL_NONE=0,a.LOG_LEVEL_FATAL=1,a.LOG_LEVEL_ERROR=2,a.LOG_LEVEL_WARNING=3,a.LOG_LEVEL_INFO=4,a.LOG_LEVEL_DEBUG=5,e.default.updateSingletonFactory(o.__dashjs_factory_name,a),n.default=a,t.exports=n.default},{46:46,47:47,54:54}],46:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(47),e=e&&e.__esModule?e:{default:e};function i(){var o={};function a(e,n,i){var r=-1;return o[e]&&o[e].some(function(e,t){if(e&&e.callback===n&&(!i||i===e.scope))return r=t,!0}),r}return{on:function(n,e,t){var i,r=arguments.length<=3||void 0===arguments[3]?0:arguments[3];if(!n)throw new Error("event type cannot be null or undefined");if(!e||"function"!=typeof e)throw new Error("listener must be a function: "+e);0<=a(n,e,t)||(o[n]=o[n]||[],i={callback:e,scope:t,priority:r},o[n].some(function(e,t){if(e&&r>e.priority)return o[n].splice(t,0,i),!0}))||o[n].push(i)},off:function(e,t,n){e&&t&&o[e]&&((t=a(e,t,n))<0||(o[e][t]=null))},trigger:function(e,t){if(e&&o[e]){if((t=t||{}).hasOwnProperty("type"))throw new Error("'type' is a reserved word for event dispatching");t.type=e,o[e]=o[e].filter(function(e){return e}),o[e].forEach(function(e){return e&&e.callback.call(e.scope,t)})}},reset:function(){o={}}}}i.__dashjs_factory_name="EventBus";var r=e.default.getSingletonFactory(i);r.EVENT_PRIORITY_LOW=0,r.EVENT_PRIORITY_HIGH=5e3,e.default.updateSingletonFactory(i.__dashjs_factory_name,r),n.default=r,t.exports=n.default},{47:47}],47:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});l=void 0,o=[],i={},r={};var l,o,i,r,a=l={extend:function(e,t,n,i){!i[e]&&t&&(i[e]={instance:t,override:n})},getSingletonInstance:s,setSingletonInstance:function(e,t,n){for(var i in o){var r=o[i];if(r.context===e&&r.name===t)return void(o[i].instance=n)}o.push({name:t,context:e,instance:n})},getSingletonFactory:function(n){var e=u(n.__dashjs_factory_name,i);return e||(i[n.__dashjs_factory_name]=e=function(e){var t=void 0;return void 0===e&&(e={}),{getInstance:function(){return(t=t||s(e,n.__dashjs_factory_name))||(t=c(n,e,arguments),o.push({name:n.__dashjs_factory_name,context:e,instance:t})),t}}}),e},getSingletonFactoryByName:function(e){return i[e]},updateSingletonFactory:function(e,t){d(e,t,i)},getClassFactory:function(t){var e=u(t.__dashjs_factory_name,r);return e||(r[t.__dashjs_factory_name]=e=function(e){return void 0===e&&(e={}),{create:function(){return c(t,e,arguments)}}}),e},getClassFactoryByName:function(e){return r[e]},updateClassFactory:function(e,t){d(e,t,r)}};function s(e,t){for(var n in o){n=o[n];if(n.context===e&&n.name===t)return n.instance}return null}function u(e,t){return t[e]}function d(e,t,n){e in n&&(n[e]=t)}function c(e,t,n){var i=void 0,r=e.__dashjs_factory_name,o=t[r];if(o){var a,s=o.instance;if(!o.override)return s.apply({context:t,factory:l},n);for(a in i=e.apply({context:t},n),s=s.apply({context:t,factory:l,parent:i},n))i.hasOwnProperty(a)&&(i[a]=s[a])}else i=e.apply({context:t},n);return i.getClassName=function(){return r},i}n.default=a,t.exports=n.default},{}],48:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(47)),a=i(e(49)),s=i(e(45)),l=i(e(108)),u=e(242);function d(){var e,t={debug:{logLevel:s.default.LOG_LEVEL_WARNING},streaming:{metricsMaxListDepth:1e3,abandonLoadTimeout:1e4,liveDelayFragmentCount:NaN,liveDelay:null,scheduleWhilePaused:!0,fastSwitchEnabled:!1,bufferPruningInterval:10,bufferToKeep:20,bufferAheadToKeep:80,jumpGaps:!0,smallGapLimit:1.5,stableBufferTime:12,bufferTimeAtTopQuality:30,bufferTimeAtTopQualityLongForm:60,longFormContentDurationThreshold:600,wallclockTimeUpdateInterval:50,lowLatencyEnabled:!1,keepProtectionMediaKeys:!1,useManifestDateHeaderTimeSource:!0,useSuggestedPresentationDelay:!0,useAppendWindowEnd:!0,manifestUpdateRetryInterval:100,liveCatchUpMinDrift:.02,liveCatchUpMaxDrift:0,liveCatchUpPlaybackRate:.5,lastBitrateCachingInfo:{enabled:!0,ttl:36e4},lastMediaSettingsCachingInfo:{enabled:!0,ttl:36e4},cacheLoadThresholds:{video:50,audio:5},retryIntervals:(r(e={},u.HTTPRequest.MPD_TYPE,500),r(e,u.HTTPRequest.XLINK_EXPANSION_TYPE,500),r(e,u.HTTPRequest.MEDIA_SEGMENT_TYPE,1e3),r(e,u.HTTPRequest.INIT_SEGMENT_TYPE,1e3),r(e,u.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,1e3),r(e,u.HTTPRequest.INDEX_SEGMENT_TYPE,1e3),r(e,u.HTTPRequest.OTHER_TYPE,1e3),e),retryAttempts:(r(e={},u.HTTPRequest.MPD_TYPE,3),r(e,u.HTTPRequest.XLINK_EXPANSION_TYPE,1),r(e,u.HTTPRequest.MEDIA_SEGMENT_TYPE,3),r(e,u.HTTPRequest.INIT_SEGMENT_TYPE,3),r(e,u.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,3),r(e,u.HTTPRequest.INDEX_SEGMENT_TYPE,3),r(e,u.HTTPRequest.OTHER_TYPE,3),e),abr:{movingAverageMethod:l.default.MOVING_AVERAGE_SLIDING_WINDOW,ABRStrategy:l.default.ABR_STRATEGY_DYNAMIC,bandwidthSafetyFactor:.9,useDefaultABRRules:!0,useBufferOccupancyABR:!1,useDeadTimeLatency:!0,limitBitrateByPortal:!1,usePixelRatioInLimitBitrateByPortal:!1,maxBitrate:{audio:-1,video:-1},minBitrate:{audio:-1,video:-1},maxRepresentationRatio:{audio:1,video:1},initialBitrate:{audio:-1,video:-1},initialRepresentationRatio:{audio:-1,video:-1},autoSwitchBitrate:{audio:!0,video:!0}},cmcd:{enabled:!1,sid:null,cid:null,did:null}}},n=a.default.clone(t);return{get:function(){return n},update:function(e){"object"==typeof e&&!function e(t,n,i){for(var r in t)t.hasOwnProperty(r)&&n.hasOwnProperty(r)&&("object"==typeof t[r]&&null!==t[r]?e(t[r],n[r],i.slice()+r+"."):n[r]=a.default.clone(t[r]))}(e,n,"")},reset:function(){n=a.default.clone(t)}}}d.__dashjs_factory_name="Settings";e=o.default.getSingletonFactory(d);n.default=e,t.exports=n.default},{108:108,242:242,45:45,47:47,49:49}],49:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0});i(a,[{key:"mixin",value:function(e,t,n){var i,r={};if(e)for(var o in t)t.hasOwnProperty(o)&&(i=t[o],o in e&&(e[o]===i||o in r&&r[o]===i)||("object"==typeof e[o]&&null!==e[o]?e[o]=a.mixin(e[o],i,n):e[o]=n(i)));return e}},{key:"clone",value:function(e){if(!e||"object"!=typeof e)return e;var t=void 0;if(e instanceof Array)for(var t=[],n=0,i=e.length;n<i;++n)n in e&&t.push(a.clone(e[n]));else t={};return a.mixin(t,e,a.clone)}},{key:"addAditionalQueryParameterToUrl",value:function(e,t){try{var n=t&&0!==t.length?(i=new URL(e),t.forEach(function(e){e.key&&e.value&&i.searchParams.set(e.key,e.value)}),{v:i.href}):{v:e};if("object"==typeof n)return n.v}catch(t){return e}var i}},{key:"generateUuid",value:function(){var n=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=(n+16*Math.random())%16|0;return n=Math.floor(n/16),("x"==e?t:3&t|8).toString(16)})}},{key:"generateHashCode",value:function(e){var t=0;if(0!==e.length)for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return t}}]);var r=a;function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function")}n.default=r,t.exports=n.default},{}],50:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getVersionString=function(){return i};var i="3.1.0"},{}],51:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(52);function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");(function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n,i=!1,s=(null===r&&(r=Function.prototype),Object.getOwnPropertyDescriptor(r,o));if(void 0!==s)return"value"in s?s.value:void 0===(s=s.get)?void 0:s.call(a);s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=a,i=!0}})(Object.getPrototypeOf(i.prototype),"constructor",this).call(this),this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE=10,this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE=11,this.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE=12,this.SEGMENTS_UPDATE_FAILED_ERROR_CODE=13,this.SEGMENTS_UNAVAILABLE_ERROR_CODE=14,this.SEGMENT_BASE_LOADER_ERROR_CODE=15,this.TIME_SYNC_FAILED_ERROR_CODE=16,this.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE=17,this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE=18,this.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE=19,this.APPEND_ERROR_CODE=20,this.REMOVE_ERROR_CODE=21,this.DATA_UPDATE_FAILED_ERROR_CODE=22,this.CAPABILITY_MEDIASOURCE_ERROR_CODE=23,this.CAPABILITY_MEDIAKEYS_ERROR_CODE=24,this.DOWNLOAD_ERROR_ID_MANIFEST_CODE=25,this.DOWNLOAD_ERROR_ID_SIDX_CODE=26,this.DOWNLOAD_ERROR_ID_CONTENT_CODE=27,this.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE=28,this.DOWNLOAD_ERROR_ID_XLINK_CODE=29,this.MANIFEST_ERROR_ID_CODEC_CODE=30,this.MANIFEST_ERROR_ID_PARSE_CODE=31,this.MANIFEST_ERROR_ID_NOSTREAMS_CODE=32,this.TIMED_TEXT_ERROR_ID_PARSE_CODE=33,this.MANIFEST_ERROR_ID_MULTIPLEXED_CODE=34,this.MEDIASOURCE_TYPE_UNSUPPORTED_CODE=35,this.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE="parsing failed for ",this.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading manifest: ",this.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE="Failed loading Xlink element: ",this.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE="Segments update failed",this.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE="no segments are available yet",this.SEGMENT_BASE_LOADER_ERROR_MESSAGE="error loading segments",this.TIME_SYNC_FAILED_ERROR_MESSAGE="Failed to synchronize time",this.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE="request is null",this.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE="Failed to resolve a valid URL",this.APPEND_ERROR_MESSAGE="chunk is not defined",this.REMOVE_ERROR_MESSAGE="buffer is not defined",this.DATA_UPDATE_FAILED_ERROR_MESSAGE="Data update failed",this.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE="mediasource is not supported",this.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE="mediakeys is not supported",this.TIMED_TEXT_ERROR_MESSAGE_PARSE="parsing error :",this.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE="Error creating source buffer of type : "}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,(e&&e.__esModule?e:{default:e}).default);e=new i;n.default=e,t.exports=n.default},{52:52}],52:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0});i(o.prototype,[{key:"extend",value:function(e,t){if(e){var n,i=!!t&&t.override,r=!!t&&t.publicOnly;for(n in e)!e.hasOwnProperty(n)||this[n]&&!i||r&&-1===e[n].indexOf("public_")||(this[n]=e[n])}}}]);var r=o;function o(){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function")}n.default=r,t.exports=n.default},{}],53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(55),i=r,e=(e&&e.__esModule?e:{default:e}).default;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");(function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n,i=!1,s=(null===r&&(r=Function.prototype),Object.getOwnPropertyDescriptor(r,o));if(void 0!==s)return"value"in s?s.value:void 0===(s=s.get)?void 0:s.call(a);s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=a,i=!0}})(Object.getPrototypeOf(r.prototype),"constructor",this).call(this),this.BUFFERING_COMPLETED="bufferingCompleted",this.BUFFER_CLEARED="bufferCleared",this.BUFFER_LEVEL_UPDATED="bufferLevelUpdated",this.BYTES_APPENDED="bytesAppended",this.BYTES_APPENDED_END_FRAGMENT="bytesAppendedEndFragment",this.CHECK_FOR_EXISTENCE_COMPLETED="checkForExistenceCompleted",this.CURRENT_TRACK_CHANGED="currentTrackChanged",this.DATA_UPDATE_COMPLETED="dataUpdateCompleted",this.DATA_UPDATE_STARTED="dataUpdateStarted",this.INITIALIZATION_LOADED="initializationLoaded",this.INIT_FRAGMENT_LOADED="initFragmentLoaded",this.INIT_REQUESTED="initRequested",this.INTERNAL_MANIFEST_LOADED="internalManifestLoaded",this.ORIGINAL_MANIFEST_LOADED="originalManifestLoaded",this.LIVE_EDGE_SEARCH_COMPLETED="liveEdgeSearchCompleted",this.LOADING_COMPLETED="loadingCompleted",this.LOADING_PROGRESS="loadingProgress",this.LOADING_DATA_PROGRESS="loadingDataProgress",this.LOADING_ABANDONED="loadingAborted",this.MANIFEST_UPDATED="manifestUpdated",this.MEDIA_FRAGMENT_LOADED="mediaFragmentLoaded",this.QUOTA_EXCEEDED="quotaExceeded",this.REPRESENTATION_UPDATE_STARTED="representationUpdateStarted",this.REPRESENTATION_UPDATE_COMPLETED="representationUpdateCompleted",this.SEGMENTS_LOADED="segmentsLoaded",this.SERVICE_LOCATION_BLACKLIST_ADD="serviceLocationBlacklistAdd",this.SERVICE_LOCATION_BLACKLIST_CHANGED="serviceLocationBlacklistChanged",this.SOURCEBUFFER_REMOVE_COMPLETED="sourceBufferRemoveCompleted",this.STREAMS_COMPOSED="streamsComposed",this.STREAM_BUFFERING_COMPLETED="streamBufferingCompleted",this.STREAM_COMPLETED="streamCompleted",this.TEXT_TRACKS_QUEUE_INITIALIZED="textTracksQueueInitialized",this.TIMED_TEXT_REQUESTED="timedTextRequested",this.TIME_SYNCHRONIZATION_COMPLETED="timeSynchronizationComplete",this.URL_RESOLUTION_FAILED="urlResolutionFailed",this.VIDEO_CHUNK_RECEIVED="videoChunkReceived",this.WALLCLOCK_TIME_UPDATED="wallclockTimeUpdated",this.XLINK_ELEMENT_LOADED="xlinkElementLoaded",this.XLINK_READY="xlinkReady",this.SEGMENTBASE_INIT_REQUEST_NEEDED="segmentBaseInitRequestNeeded",this.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED="segmentBaseSegmentsListRequestNeeded"}i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e),n.default=r,t.exports=n.default},{55:55}],54:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(53);function i(){var e=this;if(!(e instanceof i))throw new TypeError("Cannot call a class as a function");(function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n,i=!1,s=(null===r&&(r=Function.prototype),Object.getOwnPropertyDescriptor(r,o));if(void 0!==s)return"value"in s?s.value:void 0===(s=s.get)?void 0:s.call(a);s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=a,i=!0}})(Object.getPrototypeOf(i.prototype),"constructor",this).apply(this,arguments)}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,(e&&e.__esModule?e:{default:e}).default);e=new i;n.default=e,t.exports=n.default},{53:53}],55:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0});i(o.prototype,[{key:"extend",value:function(e,t){if(e){var n,i=!!t&&t.override,r=!!t&&t.publicOnly;for(n in e)!e.hasOwnProperty(n)||this[n]&&!i||r&&-1===e[n].indexOf("public_")||(this[n]=e[n])}}}]);var r=o;function o(){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function")}n.default=r,t.exports=n.default},{}],56:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var p=i(e(61)),h=i(e(93)),g=i(e(89)),m=i(e(95)),I=i(e(88)),C=i(e(86)),r=i(e(47)),R=i(e(65));function o(){var e,y=void 0,v=void 0,_=void 0,l=void 0,E=void 0,r=void 0,t=this.context;function o(e,t,n){var i,r=y.getAdaptationsForType(v[0].mpd.manifest,e,t);if(!r||0===r.length)return null;if(1<r.length&&n){var o=u(n,t);if(l[n.id]&&l[n.id][t])for(var a=0,s=r.length;a<s;a++)if(l[n.id][t].isMediaInfoEqual(o[a]))return r[a];for(a=0,s=r.length;a<s;a++)if(i=r[a],y.getRolesForAdaptation(i).filter(function(e){return e.value===p.default.MAIN})[0])return r[a]}return r[0]}function u(e,t,n){var i,r,o,a=v,s=n,l=[],u=void 0,d=void 0,c=void 0,f=void 0;if(s)w(),a=T(s);else{if(!(0<v.length))return l;s=v[0].mpd.manifest}var n=b(e,a),p=(n&&(f=n.id),y.getAdaptationsForType(s,e?e.index:null,t!==E.EMBEDDED_TEXT?t:E.VIDEO));if(p&&0!==p.length)for(_[f]=_[f]||y.getAdaptationsForPeriod(n),d=0,i=p.length;d<i;d++)if(r=p[d],o=y.getIndexForAdaptation(r,s,e.index),u=S(_[f][o]),t===E.EMBEDDED_TEXT){for(var h=u.accessibility.length,c=0;c<h;c++)if(u){var g=u.accessibility[c];if(0===g.indexOf("cea-608:")){var m=g.substring(8).split(";");if("CC"===m[0].substring(0,2))for(c=0;c<m.length;c++)A(u=u||S.call(this,_[f][o]),m[c].substring(0,3),m[c].substring(4)),l.push(u),u=null;else for(c=0;c<m.length;c++)A(u=u||S.call(this,_[f][o]),"CC"+(c+1),m[c]),l.push(u),u=null}else 0===g.indexOf("cea-608")&&(A(u,E.CC1,"eng"),l.push(u),u=null)}}else t===E.IMAGE?(u.type=E.IMAGE,l.push(u),u=null):u&&l.push(u);return l}function T(e){e=n(e);return y.getRegularPeriods(e)}function n(e){e=a(e);return y.getMpd(e)}function i(){v=[],_={},l={}}function a(e){return e||(0<v.length?v[0].mpd.manifest:null)}function s(e){return e&&e.streamInfo&&void 0!==e.streamInfo.id&&_[e.streamInfo.id]?_[e.streamInfo.id][e.index]:null}function b(e,t){for(var n=t.length,i=0;i<n;i++){var r=t[i];if(e&&e.id===r.id)return r}return null}function S(e){var i,t;return e?(i=new g.default,t=e.period.mpd.manifest.Period_asArray[e.period.index].AdaptationSet_asArray[e.index],i.id=e.id,i.index=e.index,i.type=e.type,i.streamInfo=d(e.period),i.representationCount=y.getRepresentationCount(t),i.labels=y.getLabelsForAdaptation(t),i.lang=y.getLanguageForAdaptation(t),e=y.getViewpointForAdaptation(t),i.viewpoint=e?e.value:void 0,i.accessibility=y.getAccessibilityForAdaptation(t).map(function(e){var t=e.value,n=t;return e.schemeIdUri&&0<=e.schemeIdUri.search("cea-608")&&void 0!==r&&(n=t?"cea-608:"+t:"cea-608",i.embeddedCaptions=!0),n}),i.audioChannelConfiguration=y.getAudioChannelConfigurationForAdaptation(t).map(function(e){return e.value}),0===i.audioChannelConfiguration.length&&Array.isArray(t.Representation_asArray)&&0<t.Representation_asArray.length&&(i.audioChannelConfiguration=y.getAudioChannelConfigurationForRepresentation(t.Representation_asArray[0]).map(function(e){return e.value})),i.roles=y.getRolesForAdaptation(t).map(function(e){return e.value}),i.codec=y.getCodec(t),i.mimeType=y.getMimeType(t),i.contentProtection=y.getContentProtectionData(t),i.bitrateList=y.getBitrateListForAdaptation(t),i.contentProtection&&i.contentProtection.forEach(function(e){e.KID=y.getKID(e)}),i.isText=y.getIsTextTrack(i.mimeType),i.supplementalProperties=y.getSupplementalPropperties(t),i):null}function A(e,t,n){e.id=t,e.index=100+parseInt(t.substring(2,3)),e.type=E.EMBEDDED_TEXT,e.codec="cea-608-in-SEI",e.isText=!0,e.isEmbedded=!0,e.lang=n,e.roles=["caption"]}function d(e){var t,n,i=new m.default;return i.id=e.id,i.index=e.index,i.start=e.start,i.duration=e.duration,i.manifestInfo=(t=e.mpd,(n=new I.default).DVRWindowSize=t.timeShiftBufferDepth,n.loadedTime=t.manifest.loadedTime,n.availableFrom=t.availabilityStartTime,n.minBufferTime=t.manifest.minBufferTime,n.maxFragmentDuration=t.maxSegmentDuration,n.duration=y.getDuration(t.manifest),n.isDynamic=y.getIsDynamic(t.manifest),n.serviceDescriptions=y.getServiceDescriptions(t.manifest),n),i.isLast=1===e.mpd.manifest.Period_asArray.length||Math.abs(i.start+i.duration-i.manifestInfo.duration)<1,i}function w(){if(!E)throw new Error("setConfig function has to be called previously")}function c(e){return 0<v.length?v[0].mpd.manifest.Period_asArray[e]:null}function f(e,t,n){var i,r,o,a=void 0,s=void 0;if(e)for(i=e.AdaptationSet_asArray,a=0;a<i.length;a+=1)for(o=i[a].Representation_asArray,s=0;s<o.length;s+=1)if(t===(r=o[s]).id)return n?s:r;return null}return e={getBandwidthForRepresentation:function(e,t){return(t=f(c(t),e))?t.bandwidth:null},getIndexForRepresentation:function(e,t){return null!==(t=f(c(t),e,!0))?t:-1},getMaxIndexForBufferType:function(e,t){var n,i,r,t=c(t),o=e,a=void 0;if(t&&o)for(n=t.AdaptationSet_asArray,a=0;a<n.length;a+=1)if(r=(i=n[a]).Representation_asArray,y.getIsTypeOf(i,o))return r.length;return-1},convertDataToRepresentationInfo:function(e){var t,n;return e?(t=new h.default,n=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index],n=y.getRepresentationFor(e.index,n),t.id=e.id,t.quality=e.index,t.bandwidth=y.getBandwidth(n),t.DVRWindow=e.segmentAvailabilityRange,t.fragmentDuration=e.segmentDuration||(e.segments&&0<e.segments.length?e.segments[0].duration:NaN),t.MSETimeOffset=e.MSETimeOffset,t.useCalculatedLiveEdgeTime=e.useCalculatedLiveEdgeTime,t.mediaInfo=S(e.adaptation),t):null},getDataForMedia:s,getStreamsInfo:function(e,t){var n=[],i=v;if(e&&(w(),i=T(e)),0<i.length){(!t||t>i.length)&&(t=i.length);for(var r=0;r<t;r++)n.push(d(i[r]))}return n},getMediaInfoForType:function(e,t){var n,i;return 0!==v.length&&e&&(i=b(e,v))&&(n=i.id,_[n]=_[n]||y.getAdaptationsForPeriod(i),i=o(e.index,t,e))?(t=y.getIndexForAdaptation(i,v[0].mpd.manifest,e.index),S(_[n][t])):null},getAllMediaInfoForType:u,getAdaptationForType:o,getRealAdaptation:function(e,t){var n=void 0,e=b(e,v),i=t?t.id:null;return n=0<v.length&&e?i?y.getAdaptationForId(i,v[0].mpd.manifest,e.index):y.getAdaptationForIndex(t.index,v[0].mpd.manifest,e.index):n},getVoRepresentations:function(e){e=s(e);return y.getRepresentationsForAdaptation(e)},getEventsFor:function(e,t){var n,i=[];return 0<v.length&&(n=v[0].mpd.manifest,e instanceof m.default?i=y.getEventsForPeriod(b(e,v)):e instanceof g.default?i=y.getEventStreamForAdaptationSet(n,s(e)):e instanceof h.default&&(i=y.getEventStreamForRepresentation(n,t))),i},getEvent:function(e,t,n){var i,r,o,a,s,l,u;return e&&t&&(i=new C.default,r=e.scheme_id_uri,o=e.value,a=e.timescale,s=e.presentation_time_delta,l=e.event_duration,u=e.id,e=e.message_data,n=n*a+s,t[r+"/"+o])?(i.eventStream=t[r+"/"+o],i.eventStream.value=o,i.eventStream.timescale=a,i.duration=l,i.id=u,i.presentationTime=n,i.messageData=e,i.presentationTimeDelta=s,i):null},setConfig:function(e){e&&(e.constants&&(E=e.constants),e.cea608parser&&(r=e.cea608parser),e.errHandler&&y.setConfig({errHandler:e.errHandler}),e.BASE64)&&y.setConfig({BASE64:e.BASE64})},updatePeriods:function(e){if(!e)return null;w(),v=T(e),_={}},getUseCalculatedLiveEdgeTimeForMediaInfo:function(e){e=s(e);return y.getUseCalculatedLiveEdgeTimeForAdaptation(e)},getIsTextTrack:function(e){return y.getIsTextTrack(e)},getUTCTimingSources:function(){var e=a();return y.getUTCTimingSources(e)},getSuggestedPresentationDelay:function(){var e=0<v.length?v[0].mpd:null;return y.getSuggestedPresentationDelay(e)},getAvailabilityStartTime:function(e){e=n(e);return y.getAvailabilityStartTime(e)},getIsDynamic:function(e){e=a(e);return y.getIsDynamic(e)},getDuration:function(e){e=a(e);return y.getDuration(e)},getRegularPeriods:T,getLocation:function(e){return y.getLocation(e)},getManifestUpdatePeriod:function(e){return y.getManifestUpdatePeriod(e,arguments.length<=1||void 0===arguments[1]?0:arguments[1])},getIsDVB:function(e){return y.hasProfile(e,"urn:dvb:dash:profile:dvb-dash:2014")},getBaseURLsFromElement:function(e){return y.getBaseURLsFromElement(e)},getRepresentationSortFunction:function(){return y.getRepresentationSortFunction()},getCodec:function(e,t,n){return y.getCodec(e,t,n)},getVoAdaptations:function(){return _},getVoPeriods:function(){return v},setCurrentMediaInfo:function(e,t,n){l[e]=l[e]||{},l[e][t]=l[e][t]||{},l[e][t]=n},reset:i},y=(0,R.default)(t).getInstance(),i(),e}o.__dashjs_factory_name="DashAdapter",n.default=r.default.getSingletonFactory(o),t.exports=n.default},{47:47,61:61,65:65,86:86,88:88,89:89,93:93,95:95}],57:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var N=i(e(228)),M=e(242),r=i(e(47)),O=e(80),x=i(e(64));function o(e){var t=this.context,l=(e=e||{}).eventBus,u=e.events,n=e.debug,d=e.dashConstants,o=e.urlUtils,c=e.type,i=e.streamInfo,f=e.timelineConverter,p=e.dashMetrics,a=e.baseURLController,r=void 0,h=void 0,g=void 0,m=void 0,y=void 0,s=void 0,v=void 0,_=void 0,E=void 0;function T(){return c}function b(){g=-1,m=null}function S(){b(),s=0,_=E=y=null}function A(e,t,n){var n=a.resolve(n.path),i=void 0,r=void 0;return n&&t!==n.url&&o.isRelative(t)?(i=n.url,r=n.serviceLocation,t&&(i=o.resolve(t,i))):i=t,!o.isRelative(i)&&(e.url=i,e.serviceLocation=r,1)}function w(e){var t,n;e.sender.getType()===c&&(t=(e=e.representation).hasInitialization(),n=e.hasSegments(),t&&n?l.trigger(u.REPRESENTATION_UPDATE_COMPLETED,{sender:r,representation:e}):E.update(e,c,_,t,n))}function I(e,t){var n,i,r,o;return null==t?null:(n=new N.default,r=(i=t.representation).adaptation.period.mpd.manifest.Period_asArray[i.adaptation.period.index].AdaptationSet_asArray[i.adaptation.index].Representation_asArray[i.index].bandwidth,o=t.media,o=(0,O.replaceTokenForTemplate)(o,"Number",t.replacementNumber),o=(0,O.replaceTokenForTemplate)(o,"Time",t.replacementTime),o=(0,O.replaceTokenForTemplate)(o,"Bandwidth",r),o=(0,O.replaceIDForTemplate)(o,i.id),o=(0,O.unescapeDollarsInTemplate)(o),n.mediaType=c,n.type=M.HTTPRequest.MEDIA_SEGMENT_TYPE,n.range=t.mediaRange,n.startTime=t.presentationStartTime,n.duration=t.duration,n.timescale=i.timescale,n.availabilityStartTime=t.availabilityStartTime,n.availabilityEndTime=t.availabilityEndTime,n.wallStartTime=t.wallStartTime,n.quality=i.index,n.index=t.availabilityIdx,n.mediaInfo=e,n.adaptationIndex=i.adaptation.index,n.representationId=i.id,A(n,o,i)?n:void 0)}function C(e){var t,n=!1;return e&&(v?m&&(t=parseFloat((m.presentationStartTime-e.adaptation.period.start).toFixed(5)),t=0<m.duration?t+1.5*m.duration:t,n=e.adaptation.period.duration<=t):g>=e.availableSegmentsNumber&&(n=!0)),n}function R(e){e=e.representation;e.segments&&l.trigger(u.REPRESENTATION_UPDATE_COMPLETED,{sender:this,representation:e})}function D(e){if(!e.error&&c===e.mediaType){for(var t,n=e.segments,i=e.representation,r=[],o=0,a=void 0,a=0,s=n?n.length:0;a<s;a++)t=n[a],(t=(0,O.getTimeBasedSegment)(f,v,i,t.startTime,t.duration,t.timescale,t.media,t.mediaRange,o))&&(r.push(t),o++);0<r.length&&(i.segmentAvailabilityRange={start:r[0].presentationStartTime,end:r[r.length-1].presentationStartTime},i.availableSegmentsNumber=r.length,i.segments=r,v)&&(e=r[r.length-1].presentationStartTime-8,f.setExpectedLiveEdge(e=e),p.updateManifestUpdateInfo({presentationStartTime:e})),i.hasInitialization()&&l.trigger(u.REPRESENTATION_UPDATE_COMPLETED,{sender:this,representation:i})}}return r={initialize:function(e){v=e,E.initialize(e)},getType:T,getStreamInfo:function(){return i},getInitRequest:function(e,t){{var n,i,r,o;if(t)return n=c,i=new N.default,r=t.adaptation.period,o=r.start,i.mediaType=n,i.type=M.HTTPRequest.INIT_SEGMENT_TYPE,i.range=t.range,i.availabilityStartTime=f.calcAvailabilityStartTimeFromPresentationTime(o,r.mpd,v),i.availabilityEndTime=f.calcAvailabilityEndTimeFromPresentationTime(o+r.duration,r.mpd,v),i.quality=t.index,i.mediaInfo=e,i.representationId=t.id,A(i,t.initialization,t)?(i.url=(0,O.replaceTokenForTemplate)(i.url,"Bandwidth",t.bandwidth),i):void 0}return null},getRequestForSegment:I,getSegmentRequestForTime:function(e,t,n,i){var r,o,a,s=null;return t&&t.segmentInfoType&&(r=g,o=!!i&&i.keepIdx,i=!(!i||!i.ignoreIsFinished),y!==n&&(y=n,h.debug("Getting the request for time : "+n)),(a=E.getSegmentByTime(t,n))?(g=a.availabilityIdx,m=a,h.debug("Index for time "+n+" is "+g),s=I(e,a)):!i&&C(t)&&((s=new N.default).action=N.default.ACTION_COMPLETE,s.index=g-1,s.mediaType=c,s.mediaInfo=e,h.debug("Signal complete in getSegmentRequestForTime")),o)&&0<=r&&(g=t.segmentInfoType===d.SEGMENT_TIMELINE&&v?g:r),s},getNextSegmentRequest:function(e,t){var n=null;if(!t||!t.segmentInfoType)return null;y=null;var i=g+1,r=(h.debug("Getting the next request at index: "+i),E.getSegmentByIndex(t,i,m?m.mediaStartTime:-1));return r||isFinite(t.adaptation.period.duration)?(g=r?(n=I(e,r),r.availabilityIdx):v?i-1:i,r?m=r:C(t)&&((n=new N.default).action=N.default.ACTION_COMPLETE,n.index=g-1,n.mediaType=c,n.mediaInfo=e,h.debug("Signal complete")),n):(h.debug("No segment found at index: "+i+". Wait for next loop"),null)},setCurrentTime:function(e){s=e},getCurrentTime:function(){return s},setCurrentIndex:function(e){g=e},getCurrentIndex:function(){return g},isMediaFinished:C,reset:function(){S(),l.off(u.INITIALIZATION_LOADED,R,r),l.off(u.SEGMENTS_LOADED,D,r),l.off(u.REPRESENTATION_UPDATE_STARTED,w,r)},resetIndex:b,setMimeType:function(e){_=e}},h=n.getLogger(r),S(),E=(0,x.default)(t).create(e),l.on(u.INITIALIZATION_LOADED,R,r),l.on(u.SEGMENTS_LOADED,D,r),l.on(u.REPRESENTATION_UPDATE_STARTED,w,r),r}o.__dashjs_factory_name="DashHandler",n.default=r.default.getClassFactory(o),t.exports=n.default},{228:228,242:242,47:47,64:64,80:80}],58:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var c=i(e(108)),f=e(242),r=i(e(47)),p=i(e(109)),h=i(e(78)),g=i(e(152)),m=e(244);function o(e){var t,n=this.context,i=void 0,r=void 0,o=void 0,a=(e=e||{}).metricsModel;function s(e){e=a.getMetricsFor(e,!0);if(!e)return null;var t=e.HttpList,n=null,i=void 0;if(!t||t.length<=0)return null;for(i=t.length-1;0<=i;){if(t[i].responsecode){n=t[i];break}i--}return n}function l(e){e=a.getMetricsFor(e,!0);return e&&e.HttpList?e.HttpList:[]}function u(e,t){return(e=e&&e[t])&&0!==e.length?e[e.length-1]:null}function d(e){var t={};if(e)for(var n=e.trim().split("\r\n"),i=0,r=n.length;i<r;i++){var o=n[i],a=o.indexOf(": ");0<a&&(t[o.substring(0,a)]=o.substring(a+2))}return t}return t={getCurrentRepresentationSwitch:function(e){return u(a.getMetricsFor(e,!0),p.default.TRACK_SWITCH)},getCurrentBufferState:function(e){return u(a.getMetricsFor(e,!0),p.default.BUFFER_STATE)},getCurrentBufferLevel:function(e){e=u(a.getMetricsFor(e,!0),p.default.BUFFER_LEVEL);return e?h.default.round10(e.level/1e3,-3):0},getCurrentHttpRequest:s,getHttpRequests:l,getCurrentDroppedFrames:function(){return u(a.getMetricsFor(c.default.VIDEO,!0),p.default.DROPPED_FRAMES)},getCurrentSchedulingInfo:function(e){return u(a.getMetricsFor(e,!0),p.default.SCHEDULING_INFO)},getCurrentDVRInfo:function(e){return u(e?a.getMetricsFor(e,!0):a.getMetricsFor(c.default.VIDEO,!0)||a.getMetricsFor(c.default.AUDIO,!0),p.default.DVR_INFO)},getCurrentManifestUpdate:function(){return u(a.getMetricsFor(c.default.STREAM),p.default.MANIFEST_UPDATE)},getLatestFragmentRequestHeaderValueByID:function(e,t){var n={},e=s(e);return void 0===(n=e?d(e._responseHeaders):n)[t]?null:n[t]},getLatestMPDRequestHeaderValueByID:function(e){for(var t,n,i={},r=void 0,r=(t=l(c.default.STREAM)).length-1;0<=r;r--)if((n=t[r]).type===f.HTTPRequest.MPD_TYPE){i=d(n._responseHeaders);break}return void 0===i[e]?null:i[e]},addRepresentationSwitch:function(e,t,n,i,r){a.addRepresentationSwitch(e,t,n,i,r)},addDVRInfo:function(e,t,n,i){a.addDVRInfo(e,t,n,i)},updateManifestUpdateInfo:function(e){var t=this.getCurrentManifestUpdate();a.updateManifestUpdateInfo(t,e)},addManifestUpdateStreamInfo:function(e){var t;e&&(t=this.getCurrentManifestUpdate(),a.addManifestUpdateStreamInfo(t,e.id,e.index,e.start,e.duration))},addManifestUpdateRepresentationInfo:function(e,t){var n;e&&(n=this.getCurrentManifestUpdate(),a.addManifestUpdateRepresentationInfo(n,e.id,e.index,e.streamIndex,t,e.presentationTimeOffset,e.startNumber,e.fragmentInfoType))},addManifestUpdate:function(e){a.addManifestUpdate(c.default.STREAM,e.type,e.requestStartDate,e.requestEndDate)},addHttpRequest:function(e,t,n,i,r){a.addHttpRequest(e.mediaType,null,e.type,e.url,e.quality,t,e.serviceLocation||null,e.range||null,e.requestStartDate,e.firstByteDate,e.requestEndDate,n,e.duration,i,r)},addSchedulingInfo:function(e,t){a.addSchedulingInfo(e.mediaType,new Date,e.type,e.startTime,e.availabilityStartTime,e.duration,e.quality,e.range,t)},addRequestsQueue:function(e,t,n){a.addRequestsQueue(e,t,n)},addBufferLevel:function(e,t,n){a.addBufferLevel(e,t,n)},addBufferState:function(e,t,n){a.addBufferState(e,t,n)},addDroppedFrames:function(e){a.addDroppedFrames(c.default.VIDEO,e)},addPlayList:function(){o&&(a.addPlayList(o),o=null)},addDVBErrors:function(e){a.addDVBErrors(e)},createPlaylistMetrics:function(e,t){(o=new m.PlayList).start=new Date,o.mstart=e,o.starttype=t},createPlaylistTraceMetrics:function(e,t,n){!0===i&&(i=!1,(r=new m.PlayListTrace).representationid=e,r.start=new Date,r.mstart=t,r.playbackspeed=n)},updatePlayListTraceMetrics:function(e){if(r)for(var t in r)r[t]=e[t]},pushPlayListTraceMetrics:function(e,t){var n;!1===i&&o&&r&&r.start&&(n=r.start,e=e.getTime()-n.getTime(),r.duration=e,r.stopreason=t,o.trace.push(r),i=!0)},clearAllCurrentMetrics:function(){a.clearAllCurrentMetrics()}},a=a||(0,g.default)(n).getInstance({settings:e.settings}),i=!0,o=r=null,t}o.__dashjs_factory_name="DashMetrics",n.default=r.default.getSingletonFactory(o),t.exports=n.default},{108:108,109:109,152:152,242:242,244:244,47:47,78:78}],59:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var w=i(e(94)),h=i(e(226)),r=i(e(47)),g=i(e(228)),m=i(e(158));function o(){var e=this.context,t=void 0,_=void 0,n=void 0,E=void 0,i=void 0,r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,d=void 0,c=void 0,f=void 0,p=void 0,T=void 0;function b(){if(!T||!T.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function S(e){var t;if(e.url)return(t=new g.default).setInfo(e),t}function A(e,t,n){e?u.trigger(l.SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):u.trigger(l.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new h.default(d.SEGMENT_BASE_LOADER_ERROR_CODE,d.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}return t={setConfig:function(e){e.baseURLController&&(T=e.baseURLController),e.dashMetrics&&(r=e.dashMetrics),e.mediaPlayerModel&&(a=e.mediaPlayerModel),e.errHandler&&(n=e.errHandler),e.settings&&(o=e.settings),e.boxParser&&(E=e.boxParser),e.events&&(l=e.events),e.eventBus&&(u=e.eventBus),e.debug&&(_=e.debug.getLogger(t)),e.requestModifier&&(i=e.requestModifier),e.errors&&(d=e.errors),e.urlUtils&&(p=e.urlUtils),e.constants&&(c=e.constants),e.dashConstants&&(f=e.dashConstants)},initialize:function(){s=(0,m.default)(e).create({errHandler:n,dashMetrics:r,mediaPlayerModel:a,requestModifier:i,useFetch:o?o.get().streaming.lowLatencyEnabled:null,boxParser:E,errors:d,urlUtils:p,constants:c,dashConstants:f})},loadInitialization:function t(n,e){b();var i,r=n?T.resolve(n.path):null,o=e||{init:!0,url:r?r.url:void 0,range:{start:0,end:1500},searching:!1,bytesLoaded:0,bytesToLoad:1500,mediaType:n&&n.adaptation?n.adaptation.type:null},e=(_.debug("Start searching for initialization."),S(o));s.load({request:e,success:function(e){o.bytesLoaded=o.range.end,(i=E.findInitRange(e))?(n.range=i,u.trigger(l.INITIALIZATION_LOADED,{representation:n})):(o.range.end=o.bytesLoaded+o.bytesToLoad,t(n,o))},error:function(){u.trigger(l.INITIALIZATION_LOADED,{representation:n})}}),_.debug("Perform init search: "+o.url)},loadSegments:function f(p,h,e,t,g){b(),!e||void 0!==e.start&&void 0!==e.end||(e=(n=e?e.toString().split("-"):null)?{start:parseFloat(n[0]),end:parseFloat(n[1])}:null),g=g||A;var m,y=null,n=!!e,i=p?T.resolve(p.path):null,v={init:!1,url:i?i.url:void 0,range:n?e:{start:0,end:1500},searching:!n,bytesLoaded:t?t.bytesLoaded:0,bytesToLoad:1500,mediaType:p&&p.adaptation?p.adaptation.type:null},i=S(v);s.load({request:i,success:function(e){var t=v.bytesToLoad,n=e.byteLength;if(v.bytesLoaded=v.range.end-v.range.start,y=E.parse(e),(m=y.getBox("sidx"))&&m.isComplete){var i=m.references,e=void 0;if(e=null!=i&&0<i.length?1===i[0].reference_type:e){function r(e){e?(u=u.concat(e),l<=++d&&(u.sort(function(e,t){return e.startTime-t.startTime<0?-1:0}),g(u,p,h))):g(null,p,h)}_.debug("Initiate multiple SIDX load."),v.range.end=v.range.start+m.size;for(var o,a,s=void 0,l=void 0,u=[],d=0,c=(m.offset||v.range.start)+m.size,s=0,l=i.length;s<l;s++)a=(o=c)+i[s].referenced_size-1,c+=i[s].referenced_size,f(p,null,{start:o,end:a},v,r)}else _.debug("Parsing segments from SIDX. representation "+p.adaptation.type+" - id: "+p.id+" for range : "+v.range.start+" - "+v.range.end),e=function(){for(var e,t,n=m.references,i=n.length,r=m.timescale,o=m.earliest_presentation_time,a=v.range.start+m.offset+m.first_offset+m.size,s=[],l=void 0,u=0;u<i;u++)e=n[u].subsegment_duration,t=n[u].referenced_size,(l=new w.default).duration=e,l.startTime=o,l.timescale=r,l.mediaRange=a+"-"+(a+t-1),s.push(l),o+=e,a+=t;return s}(),g(e,p,h)}else{if(m)v.range.start=m.offset||v.range.start,v.range.end=v.range.start+(m.size||t);else{if(n<v.bytesLoaded)return void g(null,p,h);e=y.getLastBox();e&&e.size?(v.range.start=e.offset+e.size,v.range.end=v.range.start+t):v.range.end+=t}f(p,h,v.range,v,g)}},error:function(){g(null,p,h)}}),_.debug("Perform SIDX load: "+v.url+" with range : "+v.range.start+" - "+v.range.end)},reset:function(){s.abort(),i=E=n=s=null}}}o.__dashjs_factory_name="SegmentBaseLoader",n.default=r.default.getSingletonFactory(o),t.exports=n.default},{158:158,226:226,228:228,47:47,94:94}],60:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var S=i(e(212)),f=i(e(108)),r=i(e(47)),A=i(e(94)),p=i(e(228)),h=i(e(158)),g=i(e(226));function o(){var y=this.context,t=void 0,v=void 0,_=void 0,n=void 0,i=void 0,r=void 0,o=void 0,E=void 0,a=void 0,s=void 0,l=void 0,u=void 0,d=void 0;function c(){if(!d||!d.hasOwnProperty("resolve"))throw new Error("setConfig function has to be called previously")}function T(e,t,n){e?s.trigger(l.SEGMENTS_LOADED,{segments:e,representation:t,mediaType:n}):s.trigger(l.SEGMENTS_LOADED,{segments:null,representation:t,mediaType:n,error:new g.default(u.SEGMENT_BASE_LOADER_ERROR_CODE,u.SEGMENT_BASE_LOADER_ERROR_MESSAGE)})}function b(e){var t=new p.default;return t.setInfo(e),t}return _={EBML:{tag:440786851,required:!0},Segment:{tag:408125543,required:!0,SeekHead:{tag:290298740,required:!0},Info:{tag:357149030,required:!0,TimecodeScale:{tag:2807729,required:!0,parse:"getMatroskaUint"},Duration:{tag:17545,required:!0,parse:"getMatroskaFloat"}},Tracks:{tag:374648427,required:!0},Cues:{tag:475249515,required:!0,CuePoint:{tag:187,required:!0,CueTime:{tag:179,required:!0,parse:"getMatroskaUint"},CueTrackPositions:{tag:183,required:!0,CueTrack:{tag:247,required:!0,parse:"getMatroskaUint"},CueClusterPosition:{tag:241,required:!0,parse:"getMatroskaUint"}}}}},Void:{tag:236,required:!0}},t={setConfig:function(e){if(!(e.baseURLController&&e.dashMetrics&&e.mediaPlayerModel&&e.errHandler))throw new Error(f.default.MISSING_CONFIG_ERROR);d=e.baseURLController,r=e.dashMetrics,o=e.mediaPlayerModel,n=e.errHandler,a=e.settings,l=e.events,s=e.eventBus,u=e.errors,v=e.debug.getLogger(t),i=e.requestModifier},initialize:function(){E=(0,h.default)(y).create({errHandler:n,dashMetrics:r,mediaPlayerModel:o,requestModifier:i,useFetch:a?a.get().streaming.lowLatencyEnabled:null,errors:u})},loadInitialization:function(e,t){c();var n=e?d.resolve(e.path):null,i=e?e.range.split("-"):null,t=t||{range:{start:i?parseFloat(i[0]):null,end:i?parseFloat(i[1]):null},request:null,url:n?n.url:void 0,init:!0,mediaType:e&&e.adaptation?e.adaptation.type:null};v.info("Start loading initialization."),i=b(t),E.load({request:i,success:function(){s.trigger(l.INITIALIZATION_LOADED,{representation:e})},error:function(){s.trigger(l.INITIALIZATION_LOADED,{representation:e})}}),v.debug("Perform init load: "+t.url)},loadSegments:function(f,p,h,g){c();var e=f?d.resolve(f.path):null,m=e?e.url:void 0,e={bytesLoaded:0,bytesToLoad:8192,range:{start:0,end:8192},request:null,url:m,init:!1,mediaType:f&&f.adaptation?f.adaptation.type:null};g=g||T,e=b(e),v.debug("Parsing ebml header"),E.load({request:e,success:function(e){function t(e){g(e,f,p)}var n=m,i=h;if((e=e)&&0!==e.byteLength){var r,o,a,s=(0,S.default)(y).create({data:e}),l=void 0,e=i?i.split("-"):null,u={url:n,range:{start:e?parseFloat(e[0]):null,end:e?parseFloat(e[1]):null},request:null};for(v.debug("Parse EBML header: "+u.url),s.skipOverElement(_.EBML),s.consumeTag(_.Segment),a=s.getMatroskaCodedNum(),a+=s.getPos(),r=s.getPos();s.moreData()&&!s.consumeTagAndSize(_.Segment.Info,!0);)if(!(s.skipOverElement(_.Segment.SeekHead,!0)||s.skipOverElement(_.Segment.Tracks,!0)||s.skipOverElement(_.Segment.Cues,!0)||s.skipOverElement(_.Void,!0)))throw new Error("no valid top level element found");for(;void 0===l;){var d=s.getMatroskaCodedNum(!0),c=s.getMatroskaCodedNum();d===_.Segment.Info.Duration.tag?l=s[_.Segment.Info.Duration.parse](c):s.setPos(s.getPos()+c)}i=b(u),E.load({request:i,success:function(e){o=function(e,t,n,i){for(var r,o,a,s=void 0,l=void 0,u=void 0,s=[],u=0,d=(r=function(e){var t=[],n=(0,S.default)(y).create({data:e}),i=void 0,r=void 0;for(n.consumeTagAndSize(_.Segment.Cues);n.moreData()&&n.consumeTagAndSize(_.Segment.Cues.CuePoint,!0);){for((i={}).CueTime=n.parseTag(_.Segment.Cues.CuePoint.CueTime),i.CueTracks=[];n.moreData()&&n.consumeTag(_.Segment.Cues.CuePoint.CueTrackPositions,!0);){var o=n.getMatroskaCodedNum(),a=n.getPos();if((r={}).Track=n.parseTag(_.Segment.Cues.CuePoint.CueTrackPositions.CueTrack),0===r.Track)throw new Error("Cue track cannot be 0");r.ClusterPosition=n.parseTag(_.Segment.Cues.CuePoint.CueTrackPositions.CueClusterPosition),i.CueTracks.push(r),n.setPos(a+o)}if(0===i.CueTracks.length)throw new Error("Mandatory cuetrack not found");t.push(i)}if(0===t.length)throw new Error("mandatory cuepoint not found");return t}(e)).length;u<d;u+=1)l=new A.default,o=u<r.length-1?r[u+1].CueTime-r[u].CueTime:i-r[u].CueTime,l.duration=o,l.startTime=r[u].CueTime,l.timescale=1e3,o=r[u].CueTracks[0].ClusterPosition+t,a=u<r.length-1?r[u+1].CueTracks[0].ClusterPosition+t-1:n-1,l.mediaRange=o+"-"+a,s.push(l);return v.debug("Parsed cues: "+s.length+" cues."),s}(e,r,a,l),t(o)},error:function(){v.error("Download Error: Cues "+u.url),t(null)}}),v.debug("Perform cues load: "+u.url+" bytes="+u.range.start+"-"+u.range.end)}else t(null)},error:function(){g(null,f,p)}})},reset:function(){i=n=null}}}o.__dashjs_factory_name="WebmSegmentBaseLoader",n.default=r.default.getSingletonFactory(o),t.exports=n.default},{108:108,158:158,212:212,226:226,228:228,47:47,94:94}],61:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.init()}Object.defineProperty(n,"__esModule",{value:!0});i(r.prototype,[{key:"init",value:function(){this.BASE_URL="BaseURL",this.SEGMENT_BASE="SegmentBase",this.SEGMENT_TEMPLATE="SegmentTemplate",this.SEGMENT_LIST="SegmentList",this.SEGMENT_URL="SegmentURL",this.SEGMENT_TIMELINE="SegmentTimeline",this.SEGMENT_PROFILES="segmentProfiles",this.ADAPTATION_SET="AdaptationSet",this.REPRESENTATION="Representation",this.REPRESENTATION_INDEX="RepresentationIndex",this.SUB_REPRESENTATION="SubRepresentation",this.INITIALIZATION="Initialization",this.INITIALIZATION_MINUS="initialization",this.MPD="MPD",this.PERIOD="Period",this.ASSET_IDENTIFIER="AssetIdentifier",this.EVENT_STREAM="EventStream",this.ID="id",this.PROFILES="profiles",this.SERVICE_LOCATION="serviceLocation",this.RANGE="range",this.INDEX="index",this.MEDIA="media",this.BYTE_RANGE="byteRange",this.INDEX_RANGE="indexRange",this.MEDIA_RANGE="mediaRange",this.VALUE="value",this.CONTENT_TYPE="contentType",this.MIME_TYPE="mimeType",this.BITSTREAM_SWITCHING="BitstreamSwitching",this.BITSTREAM_SWITCHING_MINUS="bitstreamSwitching",this.CODECS="codecs",this.DEPENDENCY_ID="dependencyId",this.MEDIA_STREAM_STRUCTURE_ID="mediaStreamStructureId",this.METRICS="Metrics",this.METRICS_MINUS="metrics",this.REPORTING="Reporting",this.WIDTH="width",this.HEIGHT="height",this.SAR="sar",this.FRAMERATE="frameRate",this.AUDIO_SAMPLING_RATE="audioSamplingRate",this.MAXIMUM_SAP_PERIOD="maximumSAPPeriod",this.START_WITH_SAP="startWithSAP",this.MAX_PLAYOUT_RATE="maxPlayoutRate",this.CODING_DEPENDENCY="codingDependency",this.SCAN_TYPE="scanType",this.FRAME_PACKING="FramePacking",this.AUDIO_CHANNEL_CONFIGURATION="AudioChannelConfiguration",this.CONTENT_PROTECTION="ContentProtection",this.ESSENTIAL_PROPERTY="EssentialProperty",this.SUPPLEMENTAL_PROPERTY="SupplementalProperty",this.INBAND_EVENT_STREAM="InbandEventStream",this.ACCESSIBILITY="Accessibility",this.ROLE="Role",this.RATING="Rating",this.CONTENT_COMPONENT="ContentComponent",this.SUBSET="Subset",this.LANG="lang",this.VIEWPOINT="Viewpoint",this.ROLE_ASARRAY="Role_asArray",this.ACCESSIBILITY_ASARRAY="Accessibility_asArray",this.AUDIOCHANNELCONFIGURATION_ASARRAY="AudioChannelConfiguration_asArray",this.CONTENTPROTECTION_ASARRAY="ContentProtection_asArray",this.MAIN="main",this.DYNAMIC="dynamic",this.MEDIA_PRESENTATION_DURATION="mediaPresentationDuration",this.MINIMUM_UPDATE_PERIOD="minimumUpdatePeriod",this.CODEC_PRIVATE_DATA="codecPrivateData",this.BANDWITH="bandwidth",this.SOURCE_URL="sourceURL",this.TIMESCALE="timescale",this.DURATION="duration",this.START_NUMBER="startNumber",this.PRESENTATION_TIME_OFFSET="presentationTimeOffset",this.AVAILABILITY_START_TIME="availabilityStartTime",this.AVAILABILITY_END_TIME="availabilityEndTime",this.TIMESHIFT_BUFFER_DEPTH="timeShiftBufferDepth",this.MAX_SEGMENT_DURATION="maxSegmentDuration",this.PRESENTATION_TIME="presentationTime",this.MIN_BUFFER_TIME="minBufferTime",this.MAX_SUBSEGMENT_DURATION="maxSubsegmentDuration",this.START="start",this.AVAILABILITY_TIME_OFFSET="availabilityTimeOffset",this.AVAILABILITY_TIME_COMPLETE="availabilityTimeComplete",this.CENC_DEFAULT_KID="cenc:default_KID",this.DVB_PRIORITY="dvb:priority",this.DVB_WEIGHT="dvb:weight",this.SUGGESTED_PRESENTATION_DELAY="suggestedPresentationDelay",this.SERVICE_DESCRIPTION="ServiceDescription",this.SERVICE_DESCRIPTION_SCOPE="Scope",this.SERVICE_DESCRIPTION_LATENCY="Latency",this.SERVICE_DESCRIPTION_PLAYBACK_RATE="PlaybackRate"}}]);var o=new r;n.default=o,t.exports=n.default},{}],62:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var M=i(e(108)),O=i(e(226)),e=i(e(47));function r(e){var l=(e=e||{}).eventBus,u=e.events,d=e.errors,c=e.abrController,f=e.dashMetrics,p=e.playbackController,n=e.timelineConverter,h=e.type,g=e.streamId,m=e.dashConstants,r=void 0,o=void 0,y=void 0,v=void 0,_=void 0;function a(){if(!(c&&f&&p&&n))throw new Error(M.default.MISSING_CONFIG_ERROR)}function t(){return y}function i(){return _}function s(){y=!(o=null),v=[]}function E(){return h}function T(){a();var e=new Date,t=_,n=1e3*p.getTime();t&&f.addRepresentationSwitch(t.adaptation.type,e,n,t.id)}function b(e){return null==e||e>=v.length?null:v[e]}function S(e,t){e.segmentAvailabilityRange=n.calcSegmentAvailabilityRange(e,t),e.segmentAvailabilityRange.end<e.segmentAvailabilityRange.start&&!e.useCalculatedLiveEdgeTime?I(new O.default(d.SEGMENTS_UNAVAILABLE_ERROR_CODE,d.SEGMENTS_UNAVAILABLE_ERROR_MESSAGE,{availabilityDelay:e.segmentAvailabilityRange.start-e.segmentAvailabilityRange.end})):t&&(t=e.segmentAvailabilityRange.end,n.setExpectedLiveEdge(t),f.updateManifestUpdateInfo({presentationStartTime:t}))}function A(e,t){a();for(var n=0,i=v.length;n<i;n++)S(v[n],e),t&&l.trigger(u.REPRESENTATION_UPDATE_STARTED,{sender:r,representation:v[n]})}function w(){y=!0,l.trigger(u.DATA_UPDATE_STARTED,{sender:r})}function I(e){y=!1;var t={sender:r,data:o,currentRepresentation:_};e&&(t.error=e),l.trigger(u.DATA_UPDATE_COMPLETED,t)}function C(e){if(e.sender.getType()===h&&e.sender.getStreamInfo().id===g&&y)if(e.error)I(e.error);else{var t,n=e.sender.getStreamInfo(),i=e.representation,r=f.getCurrentManifestUpdate(),o=!1,e=0;if(i.adaptation.period.mpd.manifest.type!==m.DYNAMIC||i.adaptation.period.mpd.manifest.ignorePostponeTimePeriod||(s=i.segmentAvailabilityRange.end-i.segmentAvailabilityRange.start,e=1e3*(p.computeLiveDelay(_.segmentDuration,n.manifestInfo.DVRWindowSize)-s)),0<e)s=e,l.trigger(u.AST_IN_FUTURE,{delay:s}),setTimeout(function(){y||(w(),v.forEach(function(e){e.segmentAvailabilityRange=null}),A(p.getIsDynamic(),!0))},s),I(new O.default(d.SEGMENTS_UPDATE_FAILED_ERROR_CODE,d.SEGMENTS_UPDATE_FAILED_ERROR_MESSAGE));else{if(r){for(var a=0;a<r.representationInfo.length;a++)if((t=r.representationInfo[a]).index===i.index&&t.mediaType===h){o=!0;break}o||f.addManifestUpdateRepresentationInfo(i,h)}!function(){for(var e=0,t=v.length;e<t;e++){var n=v[e].segmentInfoType;if(null===v[e].segmentAvailabilityRange||!v[e].hasInitialization()||(n===m.SEGMENT_BASE||n===m.BASE_URL)&&!v[e].segments)return}return 1}()||(c.setPlaybackQuality(h,n,(e=_,v.indexOf(e))),f.updateManifestUpdateInfo({latency:_.segmentAvailabilityRange.end-p.getTime()}),f.getCurrentRepresentationSwitch(_.adaptation.type)||T(),I())}}var s}function R(e){e.isDynamic&&A(e.isDynamic)}function D(e){e.mediaType===h&&g===e.streamInfo.id&&(_=b(e.newQuality),T())}function N(e){var t;e.newDuration&&(t=_)&&t.adaptation.period&&(t.adaptation.period.duration=e.newDuration)}return r={getData:function(){return o},isUpdating:t,updateData:function(e,t,n,i){a(),w(),v=t,_=b(i),o=e,n===M.default.VIDEO||n===M.default.AUDIO||n===M.default.FRAGMENTED_TEXT?A(p.getIsDynamic(),!0):I()},updateRepresentation:S,getCurrentRepresentation:i,getRepresentationForQuality:b,getType:E,getStreamId:function(){return g},reset:function(){l.off(u.QUALITY_CHANGE_REQUESTED,D,r),l.off(u.REPRESENTATION_UPDATE_COMPLETED,C,r),l.off(u.WALLCLOCK_TIME_UPDATED,R,r),l.off(u.MANIFEST_VALIDITY_CHANGED,N,r),s()}},s(),l.on(u.QUALITY_CHANGE_REQUESTED,D,r),l.on(u.REPRESENTATION_UPDATE_COMPLETED,C,r),l.on(u.WALLCLOCK_TIME_UPDATED,R,r),l.on(u.MANIFEST_VALIDITY_CHANGED,N,r),r}r.__dashjs_factory_name="RepresentationController",n.default=e.default.getClassFactory(r),t.exports=n.default},{108:108,226:226,47:47}],63:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),y=i(e(59)),v=i(e(60));function o(e){var t=this.context,n=(e=e||{}).eventBus,i=e.events,r=e.dashMetrics,o=e.mediaPlayerModel,a=e.errHandler,s=e.baseURLController,l=e.debug,u=e.boxParser,d=e.requestModifier,e=e.errors,c=void 0,f=void 0,p=void 0;function h(e){return"webm"===(e?e.split("/")[1]:"").toLowerCase()}function g(e){(h(e.mimeType)?p:f).loadInitialization(e.representation)}function m(e){(h(e.mimeType)?p:f).loadSegments(e.representation,e.mediaType,e.representation?e.representation.indexRange:null,e.callback)}return c={initialize:function(){n.on(i.SEGMENTBASE_INIT_REQUEST_NEEDED,g,c),n.on(i.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,m,c),f.initialize(),p.initialize()},reset:function(){n.off(i.SEGMENTBASE_INIT_REQUEST_NEEDED,g,c),n.off(i.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,m,c)}},f=(0,y.default)(t).getInstance(),p=(0,v.default)(t).getInstance(),f.setConfig({baseURLController:s,dashMetrics:r,mediaPlayerModel:o,errHandler:a,eventBus:n,events:i,errors:e,debug:l,boxParser:u,requestModifier:d}),p.setConfig({baseURLController:s,dashMetrics:r,mediaPlayerModel:o,errHandler:a,eventBus:n,events:i,errors:e,debug:l,requestModifier:d}),c}o.__dashjs_factory_name="SegmentBaseController";e=r.default.getSingletonFactory(o);n.default=e,t.exports=n.default},{47:47,59:59,60:60}],64:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),l=i(e(83)),u=i(e(81)),d=i(e(77)),c=i(e(79));function o(t){t=t||{};var n=this.context,o=t.events,a=t.eventBus,i=t.dashConstants,r=void 0;function s(e){return e?e.segments?r[i.SEGMENT_BASE]:r[e.segmentInfoType]:null}return r={},{initialize:function(e){r[i.SEGMENT_TIMELINE]=(0,l.default)(n).create(t,e),r[i.SEGMENT_TEMPLATE]=(0,u.default)(n).create(t,e),r[i.SEGMENT_LIST]=(0,d.default)(n).create(t,e),r[i.SEGMENT_BASE]=(0,c.default)(n).create(t,e)},update:function(e,t,n,i,r){i||a.trigger(o.SEGMENTBASE_INIT_REQUEST_NEEDED,{mimeType:n,representation:e}),r||a.trigger(o.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,{mimeType:n,mediaType:t,representation:e})},getSegmentByIndex:function(e,t,n){var i=s(e);return i?i.getSegmentByIndex(e,t,n):null},getSegmentByTime:function(e,t){var n=s(e);return n?n.getSegmentByTime(e,t):null}}}o.__dashjs_factory_name="SegmentsController";e=r.default.getClassFactory(o);n.default=e,t.exports=n.default},{47:47,77:77,79:79,81:81,83:83}],65:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var T=i(e(108)),b=i(e(61)),S=i(e(92)),A=i(e(84)),w=i(e(91)),r=i(e(90)),I=i(e(96)),C=i(e(86)),R=i(e(85)),D=i(e(87)),N=i(e(217)),M=i(e(221)),o=i(e(47)),O=i(e(45)),x=i(e(226)),P=i(e(51)),L=e(205);function a(){var e,u=void 0,d=void 0,l=void 0,o=this.context,a=(0,M.default)(o).getInstance(),c=Number.isInteger||function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e};function s(e,t){var n,i=void 0,r=void 0,o=void 0,a=void 0,s=void 0,l=!1,u=!1;if(!e)throw new Error("adaptation is not defined");if(!t)throw new Error("type is not defined");if(e.hasOwnProperty("ContentComponent_asArray")&&(o=e.ContentComponent_asArray),a=t!==T.default.TEXT?new RegExp(t):new RegExp("(vtt|ttml)"),e.Representation_asArray&&e.Representation_asArray.length&&0<e.Representation_asArray.length){var d=m(e.Representation_asArray[0]);if(d&&0<d.length&&0<=L.THUMBNAILS_SCHEME_ID_URIS.indexOf(d[0].schemeIdUri))return t===T.default.IMAGE;if(e.Representation_asArray[0].hasOwnProperty(b.default.CODECS)&&(0===(s=e.Representation_asArray[0].codecs).search(T.default.STPP)||0===s.search(T.default.WVTT)))return t===T.default.FRAGMENTED_TEXT}if(o){if(1<o.length)return t===T.default.MUXED;o[0]&&o[0].contentType===t&&(u=l=!0)}if(e.hasOwnProperty(b.default.MIME_TYPE)&&(l=a.test(e.mimeType),u=!0),!u)for(i=0,n=e.Representation_asArray&&e.Representation_asArray.length?e.Representation_asArray.length:0;!u&&i<n;)(r=e.Representation_asArray[i]).hasOwnProperty(b.default.MIME_TYPE)&&(l=a.test(r.mimeType),u=!0),i++;return l}function f(e){return"text/vtt"===e||"application/ttml+xml"===e}function t(){return function(e,t){return e.bandwidth-t.bandwidth}}function p(e){return e&&Array.isArray(e.Representation_asArray)&&e.Representation_asArray.sort(t()),e}function h(e,t){return e&&e.Period_asArray&&c(t)&&e.Period_asArray[t]?e.Period_asArray[t].AdaptationSet_asArray:[]}function g(e){var t=!1;return t=e&&e.hasOwnProperty("type")?e.type===b.default.DYNAMIC:t}function m(e){return e&&e.EssentialProperty_asArray&&e.EssentialProperty_asArray.length?e.EssentialProperty_asArray.map(function(e){return{schemeIdUri:e.schemeIdUri,value:e.value}}):null}function y(e){if(e&&e.period&&c(e.period.index)){var t=e.period.mpd.manifest.Period_asArray[e.period.index];if(t&&t.AdaptationSet_asArray&&c(e.index))return p(t.AdaptationSet_asArray[e.index])}}function v(e){e=e.S_asArray[e.S_asArray.length-1];return!e.hasOwnProperty("r")||0<=e.r}function _(e,t){var n=[],i=void 0;if(e)for(i=0;i<e.length;i++){var r=new D.default;if(r.timescale=1,r.representation=t,!e[i].hasOwnProperty(T.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");r.schemeIdUri=e[i].schemeIdUri,e[i].hasOwnProperty(b.default.TIMESCALE)&&(r.timescale=e[i].timescale),e[i].hasOwnProperty(b.default.VALUE)&&(r.value=e[i].value),n.push(r)}return n}function E(i){var r=[],e=i.BaseURL_asArray||[i.baseUri],o=!1;return e.some(function(e){var t,n;if(e)return t=new R.default,n=e.__text||e,a.isRelative(n)&&(o=!0,i.baseUri)&&(n=a.resolve(n,i.baseUri)),t.url=n,e.hasOwnProperty(b.default.SERVICE_LOCATION)&&e.serviceLocation.length?t.serviceLocation=e.serviceLocation:t.serviceLocation=n,e.hasOwnProperty(b.default.DVB_PRIORITY)&&(t.dvb_priority=e[b.default.DVB_PRIORITY]),e.hasOwnProperty(b.default.DVB_WEIGHT)&&(t.dvb_weight=e[b.default.DVB_WEIGHT]),e.hasOwnProperty(b.default.AVAILABILITY_TIME_OFFSET)&&(t.availabilityTimeOffset=e[b.default.AVAILABILITY_TIME_OFFSET]),e.hasOwnProperty(b.default.AVAILABILITY_TIME_COMPLETE)&&(t.availabilityTimeComplete="false"!==e[b.default.AVAILABILITY_TIME_COMPLETE]),r.push(t),o}),r}return e={getIsTypeOf:s,getIsTextTrack:f,getLanguageForAdaptation:function(e){var t="";return t=e&&e.hasOwnProperty(b.default.LANG)?e.lang.replace(/[^A-Za-z0-9-]/g,""):t},getViewpointForAdaptation:function(e){return e&&e.hasOwnProperty(b.default.VIEWPOINT)?e.Viewpoint:null},getRolesForAdaptation:function(e){return e&&e.hasOwnProperty(b.default.ROLE_ASARRAY)?e.Role_asArray:[]},getAccessibilityForAdaptation:function(e){return e&&e.hasOwnProperty(b.default.ACCESSIBILITY_ASARRAY)?e.Accessibility_asArray:[]},getAudioChannelConfigurationForAdaptation:function(e){return e&&e.hasOwnProperty(b.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?e.AudioChannelConfiguration_asArray:[]},getAudioChannelConfigurationForRepresentation:function(e){return e&&e.hasOwnProperty(b.default.AUDIOCHANNELCONFIGURATION_ASARRAY)?e.AudioChannelConfiguration_asArray:[]},getAdaptationForIndex:function(e,t,n){t=h(t,n);return 0<t.length&&c(e)?t[e]:null},getIndexForAdaptation:function(e,t,n){if(e)for(var i=h(t,n),r=0;r<i.length;r++)if((0,N.default)(o).getInstance().areEqual(i[r],e))return r;return-1},getAdaptationForId:function(e,t,n){for(var i=h(t,n),r=void 0,r=0,o=i.length;r<o;r++)if(i[r].hasOwnProperty(b.default.ID)&&i[r].id===e)return i[r];return null},getAdaptationsForType:function(e,t,n){for(var i=h(e,t),r=void 0,o=[],r=0,a=i.length;r<a;r++)s(i[r],n)&&o.push(p(i[r]));return o},getCodec:function(e,t,n){var i=null;return e&&e.Representation_asArray&&0<e.Representation_asArray.length&&(t=c(t)&&0<=t&&t<e.Representation_asArray.length?e.Representation_asArray[t]:e.Representation_asArray[0])&&(i=t.mimeType+';codecs="'+t.codecs+'"',n)&&void 0!==t.width&&(i+=';width="'+t.width+'";height="'+t.height+'"'),i},getMimeType:function(e){return e&&e.Representation_asArray&&0<e.Representation_asArray.length?e.Representation_asArray[0].mimeType:null},getKID:function(e){return e&&e.hasOwnProperty(b.default.CENC_DEFAULT_KID)?e[b.default.CENC_DEFAULT_KID]:null},getLabelsForAdaptation:function(e){if(!e||!Array.isArray(e.Label_asArray))return[];for(var t=[],n=0;n<e.Label_asArray.length;n++)t.push({lang:e.Label_asArray[n].lang,text:e.Label_asArray[n].__text||e.Label_asArray[n]});return t},getContentProtectionData:function(e){return e&&e.hasOwnProperty(b.default.CONTENTPROTECTION_ASARRAY)&&0!==e.ContentProtection_asArray.length?e.ContentProtection_asArray:null},getIsDynamic:g,hasProfile:function(e,t){var n=!1;return n=e&&e.profiles&&0<e.profiles.length?-1!==e.profiles.indexOf(t):n},getDuration:function(e){return e&&e.hasOwnProperty(b.default.MEDIA_PRESENTATION_DURATION)?e.mediaPresentationDuration:e&&"dynamic"==e.type?Number.POSITIVE_INFINITY:Number.MAX_SAFE_INTEGER||Number.MAX_VALUE},getBandwidth:function(e){return e&&e.bandwidth?e.bandwidth:NaN},getManifestUpdatePeriod:function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1],n=NaN;return e&&e.hasOwnProperty(b.default.MINIMUM_UPDATE_PERIOD)&&(n=e.minimumUpdatePeriod),isNaN(n)?n:Math.max(n-t,1)},getRepresentationCount:function(e){return e&&Array.isArray(e.Representation_asArray)?e.Representation_asArray.length:0},getBitrateListForAdaptation:function(e){e=p(e);return(e&&Array.isArray(e.Representation_asArray)?e.Representation_asArray:[]).map(function(e){return{bandwidth:e.bandwidth,width:e.width||0,height:e.height||0,scanType:e.scanType||null,id:e.id||null}})},getRepresentationFor:function(e,t){return t&&t.Representation_asArray&&0<t.Representation_asArray.length&&c(e)?t.Representation_asArray[e]:null},getRepresentationsForAdaptation:function(e){var t,n=[],i=y(e),r=void 0,o=void 0;if(i&&i.Representation_asArray){e&&e.period&&c(e.period.index)&&(t=E(e.period.mpd.manifest))&&(o=t[0]);for(var a=0,s=i.Representation_asArray.length;a<s;++a){var l,u=i.Representation_asArray[a],d=new S.default;d.index=a,d.adaptation=e,u.hasOwnProperty(b.default.ID)&&(d.id=u.id),u.hasOwnProperty(b.default.CODECS)&&(d.codecs=u.codecs),u.hasOwnProperty(b.default.CODEC_PRIVATE_DATA)&&(d.codecPrivateData=u.codecPrivateData),u.hasOwnProperty(b.default.BANDWITH)&&(d.bandwidth=u.bandwidth),u.hasOwnProperty(b.default.WIDTH)&&(d.width=u.width),u.hasOwnProperty(b.default.HEIGHT)&&(d.height=u.height),u.hasOwnProperty(b.default.SCAN_TYPE)&&(d.scanType=u.scanType),u.hasOwnProperty(b.default.MAX_PLAYOUT_RATE)&&(d.maxPlayoutRate=u.maxPlayoutRate),u.hasOwnProperty(b.default.SEGMENT_BASE)?(r=u.SegmentBase,d.segmentInfoType=b.default.SEGMENT_BASE):u.hasOwnProperty(b.default.SEGMENT_LIST)?(r=u.SegmentList).hasOwnProperty(b.default.SEGMENT_TIMELINE)?(d.segmentInfoType=b.default.SEGMENT_TIMELINE,d.useCalculatedLiveEdgeTime=v(r.SegmentTimeline)):(d.segmentInfoType=b.default.SEGMENT_LIST,d.useCalculatedLiveEdgeTime=!0):u.hasOwnProperty(b.default.SEGMENT_TEMPLATE)?((r=u.SegmentTemplate).hasOwnProperty(b.default.SEGMENT_TIMELINE)?(d.segmentInfoType=b.default.SEGMENT_TIMELINE,d.useCalculatedLiveEdgeTime=v(r.SegmentTimeline)):d.segmentInfoType=b.default.SEGMENT_TEMPLATE,r.hasOwnProperty(b.default.INITIALIZATION_MINUS)&&(d.initialization=r.initialization.split("$Bandwidth$").join(u.bandwidth).split("$RepresentationID$").join(u.id))):d.segmentInfoType=b.default.BASE_URL,d.essentialProperties=m(u),r&&(r.hasOwnProperty(b.default.INITIALIZATION)?((l=r.Initialization).hasOwnProperty(b.default.SOURCE_URL)&&(d.initialization=l.sourceURL),l.hasOwnProperty(b.default.RANGE)&&(d.range=l.range)):u.hasOwnProperty(b.default.MIME_TYPE)&&f(u.mimeType)&&(d.range=0),r.hasOwnProperty(b.default.TIMESCALE)&&(d.timescale=r.timescale),r.hasOwnProperty(b.default.DURATION)&&(d.segmentDuration=r.duration/d.timescale),r.hasOwnProperty(b.default.MEDIA)&&(d.media=r.media),r.hasOwnProperty(b.default.START_NUMBER)&&(d.startNumber=r.startNumber),r.hasOwnProperty(b.default.INDEX_RANGE)&&(d.indexRange=r.indexRange),r.hasOwnProperty(b.default.PRESENTATION_TIME_OFFSET)&&(d.presentationTimeOffset=r.presentationTimeOffset/d.timescale),r.hasOwnProperty(b.default.AVAILABILITY_TIME_OFFSET)?d.availabilityTimeOffset=r.availabilityTimeOffset:o&&void 0!==o.availabilityTimeOffset&&(d.availabilityTimeOffset=o.availabilityTimeOffset),r.hasOwnProperty(b.default.AVAILABILITY_TIME_COMPLETE)?d.availabilityTimeComplete="false"!==r.availabilityTimeComplete:o&&void 0!==o.availabilityTimeComplete&&(d.availabilityTimeComplete=o.availabilityTimeComplete)),d.MSETimeOffset=(l=d.presentationTimeOffset,d.adaptation.period.start-l),d.path=[e.period.index,e.index,a],n.push(d)}}return n},getAdaptationsForPeriod:function(e){var t=e&&c(e.index)?e.mpd.manifest.Period_asArray[e.index]:null,n=[],i=void 0,r=void 0,o=void 0;if(t&&t.AdaptationSet_asArray)for(o=0;o<t.AdaptationSet_asArray.length;o++)r=t.AdaptationSet_asArray[o],i=new A.default,r.hasOwnProperty(b.default.ID)&&(i.id=r.id),i.index=o,i.period=e,s(r,T.default.MUXED)?i.type=T.default.MUXED:s(r,T.default.AUDIO)?i.type=T.default.AUDIO:s(r,T.default.VIDEO)?i.type=T.default.VIDEO:s(r,T.default.FRAGMENTED_TEXT)?i.type=T.default.FRAGMENTED_TEXT:s(r,T.default.IMAGE)?i.type=T.default.IMAGE:i.type=T.default.TEXT,n.push(i);return n},getRegularPeriods:function(e){for(var t=!!e&&g(e.manifest),n=[],i=null,r=null,o=null,a=null,s=void 0,s=0,l=e&&e.manifest&&e.manifest.Period_asArray?e.manifest.Period_asArray.length:0;s<l;s++)(r=e.manifest.Period_asArray[s]).hasOwnProperty(b.default.START)?(a=new w.default).start=r.start:null!==i&&i.hasOwnProperty(b.default.DURATION)&&null!==o?(a=new w.default).start=parseFloat((o.start+o.duration).toFixed(5)):0!==s||t||((a=new w.default).start=0),null!==o&&isNaN(o.duration)&&(null!==a?o.duration=parseFloat((a.start-o.start).toFixed(5)):u.warn("First period duration could not be calculated because lack of start and duration period properties. This will cause timing issues during playback")),null!==a&&(a.id=function(e,t){if(e)return t=w.default.DEFAULT_ID+"_"+t,e.hasOwnProperty(b.default.ID)&&0<e.id.length&&"__proto__"!==e.id?e.id:t;throw new Error("Period cannot be null or undefined")}(r,s),a.index=s,a.mpd=e,r.hasOwnProperty(b.default.DURATION)&&(a.duration=r.duration),n.push(a),i=r,o=a),a=r=null;return 0!==n.length&&null!==o&&isNaN(o.duration)&&(o.duration=parseFloat((function(e){var t,n;if(d&&d.hasOwnProperty("error"))return t=g(e.mpd.manifest),n=void 0,e.mpd.manifest.mediaPresentationDuration?n=e.mpd.manifest.mediaPresentationDuration:e.duration?n=e.duration:t?n=Number.POSITIVE_INFINITY:d.error(new x.default(P.default.MANIFEST_ERROR_ID_PARSE_CODE,"Must have @mediaPresentationDuration on MPD or an explicit @duration on the last period.",e)),n;throw new Error(T.default.MISSING_CONFIG_ERROR)}(o)-o.start).toFixed(5))),n},getMpd:function(e){var t=new r.default;return e&&((t.manifest=e).hasOwnProperty(b.default.AVAILABILITY_START_TIME)?t.availabilityStartTime=new Date(e.availabilityStartTime.getTime()):e.loadedTime&&(t.availabilityStartTime=new Date(e.loadedTime.getTime())),e.hasOwnProperty(b.default.AVAILABILITY_END_TIME)&&(t.availabilityEndTime=new Date(e.availabilityEndTime.getTime())),e.hasOwnProperty(b.default.MINIMUM_UPDATE_PERIOD)&&(t.minimumUpdatePeriod=e.minimumUpdatePeriod),e.hasOwnProperty(b.default.MEDIA_PRESENTATION_DURATION)&&(t.mediaPresentationDuration=e.mediaPresentationDuration),e.hasOwnProperty(b.default.SUGGESTED_PRESENTATION_DELAY)&&(t.suggestedPresentationDelay=e.suggestedPresentationDelay),e.hasOwnProperty(b.default.TIMESHIFT_BUFFER_DEPTH)&&(t.timeShiftBufferDepth=e.timeShiftBufferDepth),e.hasOwnProperty(b.default.MAX_SEGMENT_DURATION))&&(t.maxSegmentDuration=e.maxSegmentDuration),t},getEventsForPeriod:function(e){var t=e&&e.mpd&&e.mpd.manifest?e.mpd.manifest:null,t=t?t.Period_asArray:null,n=t&&e&&c(e.index)?t[e.index].EventStream_asArray:null,i=[],r=void 0,o=void 0;if(n)for(r=0;r<n.length;r++){var a=new D.default;if(a.period=e,a.timescale=1,!n[r].hasOwnProperty(T.default.SCHEME_ID_URI))throw new Error("Invalid EventStream. SchemeIdUri has to be set");for(a.schemeIdUri=n[r].schemeIdUri,n[r].hasOwnProperty(b.default.TIMESCALE)&&(a.timescale=n[r].timescale),n[r].hasOwnProperty(b.default.VALUE)&&(a.value=n[r].value),o=0;n[r].Event_asArray&&o<n[r].Event_asArray.length;o++){var s=new C.default;s.presentationTime=0,s.eventStream=a,n[r].Event_asArray[o].hasOwnProperty(b.default.PRESENTATION_TIME)&&(s.presentationTime=n[r].Event_asArray[o].presentationTime),n[r].Event_asArray[o].hasOwnProperty(b.default.DURATION)&&(s.duration=n[r].Event_asArray[o].duration),n[r].Event_asArray[o].hasOwnProperty(b.default.ID)&&(s.id=n[r].Event_asArray[o].id),n[r].Event_asArray[o].Signal&&n[r].Event_asArray[o].Signal.Binary?s.messageData=l.decodeArray(n[r].Event_asArray[o].Signal.Binary.toString()):s.messageData=n[r].Event_asArray[o].messageData||n[r].Event_asArray[o].__text,i.push(s)}}return i},getEventStreamForAdaptationSet:function(e,t){var n=void 0,i=void 0,r=void 0;return _(n=e&&e.Period_asArray&&t&&t.period&&c(t.period.index)&&(i=e.Period_asArray[t.period.index])&&i.AdaptationSet_asArray&&c(t.index)&&(r=i.AdaptationSet_asArray[t.index])?r.InbandEventStream_asArray:n,null)},getEventStreamForRepresentation:function(e,t){var n=void 0,i=void 0,r=void 0,o=void 0;return _(n=e&&e.Period_asArray&&t&&t.adaptation&&t.adaptation.period&&c(t.adaptation.period.index)&&(i=e.Period_asArray[t.adaptation.period.index])&&i.AdaptationSet_asArray&&c(t.adaptation.index)&&(r=i.AdaptationSet_asArray[t.adaptation.index])&&r.Representation_asArray&&c(t.index)&&(o=r.Representation_asArray[t.index])?o.InbandEventStream_asArray:n,t)},getUTCTimingSources:function(e){var t=g(e),n=!!e&&e.hasOwnProperty(b.default.AVAILABILITY_START_TIME),e=e?e.UTCTiming_asArray:null,i=[];return(t||n)&&e&&e.forEach(function(e){var t=new I.default;e.hasOwnProperty(T.default.SCHEME_ID_URI)&&(t.schemeIdUri=e.schemeIdUri,e.hasOwnProperty(b.default.VALUE))&&(t.value=e.value.toString(),i.push(t))}),i},getBaseURLsFromElement:E,getRepresentationSortFunction:t,getLocation:function(e){if(e&&e.hasOwnProperty(T.default.LOCATION))return e.Location=e.Location_asArray[0],e.Location},getUseCalculatedLiveEdgeTimeForAdaptation:function(e){var e=y(e),e=e&&Array.isArray(e.Representation_asArray)?e.Representation_asArray[0]:null,t=void 0;if(e){if(e.hasOwnProperty(b.default.SEGMENT_LIST))return!(t=e.SegmentList).hasOwnProperty(b.default.SEGMENT_TIMELINE)||v(t.SegmentTimeline);if(e.hasOwnProperty(b.default.SEGMENT_TEMPLATE)&&(t=e.SegmentTemplate).hasOwnProperty(b.default.SEGMENT_TIMELINE))return v(t.SegmentTimeline)}return!1},getSuggestedPresentationDelay:function(e){return e&&e.hasOwnProperty(b.default.SUGGESTED_PRESENTATION_DELAY)?e.suggestedPresentationDelay:null},getAvailabilityStartTime:function(e){return e&&e.hasOwnProperty(b.default.AVAILABILITY_START_TIME)&&null!==e.availabilityStartTime?e.availabilityStartTime.getTime():null},getServiceDescriptions:function(e){var t=[];if(e&&e.hasOwnProperty(b.default.SERVICE_DESCRIPTION)){var n=!0,i=!1,r=void 0;try{for(var o,a=e.ServiceDescription_asArray[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s,l=o.value,u=void 0,d=void 0,c=void 0,f=void 0;for(s in l)l.hasOwnProperty(s)&&(s===b.default.ID?u=l[s]:s===b.default.SERVICE_DESCRIPTION_SCOPE?d=l[s].schemeIdUri:s===b.default.SERVICE_DESCRIPTION_LATENCY?c={target:l[s].target,max:l[s].max,min:l[s].min}:s===b.default.SERVICE_DESCRIPTION_PLAYBACK_RATE&&(f={max:l[s].max,min:l[s].min}));d===T.default.SERVICE_DESCRIPTION_LL_SCHEME&&(c||f)&&t.push({id:u,schemeIdUri:d,latency:c,playbackRate:f})}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}return t},getSupplementalPropperties:function(e){var t={};if(e&&e.hasOwnProperty(b.default.SUPPLEMENTAL_PROPERTY)){var n=!0,i=!1,r=void 0;try{for(var o,a=e.SupplementalProperty_asArray[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;s.hasOwnProperty(T.default.SCHEME_ID_URI)&&s.hasOwnProperty(b.default.VALUE)&&(t[s[T.default.SCHEME_ID_URI]]=s[b.default.VALUE])}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}}return t},setConfig:function(e){e&&(e.errHandler&&(d=e.errHandler),e.BASE64)&&(l=e.BASE64)}},u=(0,O.default)(o).getInstance().getLogger(e),e}a.__dashjs_factory_name="DashManifestModel",n.default=o.default.getSingletonFactory(a),t.exports=n.default},{108:108,205:205,217:217,221:221,226:226,45:45,47:47,51:51,61:61,84:84,85:85,86:86,87:87,90:90,91:91,92:92,96:96}],66:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),s=i(e(45)),l=i(e(76)),u=i(e(3)),d=i(e(75)),c=i(e(73)),f=i(e(72)),p=i(e(74)),h=i(e(69)),g=i(e(70));function o(){var e=this.context,r=void 0,t=void 0,o=void 0,a=void 0,n={parse:function(e){var t,n,i=window.performance.now();if(e=o.xml_str2json(e))return t=window.performance.now(),a.run(e),n=window.performance.now(),r.info("Parsing complete: ( xml2json: "+(t-i).toPrecision(3)+"ms, objectiron: "+(n-t).toPrecision(3)+"ms, total: "+((n-i)/1e3).toPrecision(3)+"s)"),e;throw new Error("parsing the manifest failed")},getMatchers:function(){return t},getIron:function(){return a}},r=(0,s.default)(e).getInstance().getLogger(n),t=[new c.default,new f.default,new p.default,new d.default],o=new u.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!0,ignoreRoot:!0,matchers:t}),a=(0,l.default)(e).create({adaptationset:new h.default,period:new g.default});return n}o.__dashjs_factory_name="DashParser",n.default=r.default.getClassFactory(o),t.exports=n.default},{3:3,45:45,47:47,69:69,70:70,72:72,73:73,74:74,75:75,76:76}],67:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this._name=e,this._merge=(e=e)&&e.length&&e.charAt(0)===e.charAt(0).toUpperCase()}Object.defineProperty(n,"__esModule",{value:!0}),i(r.prototype,[{key:"name",get:function(){return this._name}},{key:"merge",get:function(){return this._merge}}]),n.default=r,t.exports=n.default},{}],68:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,e=e(67),o=e&&e.__esModule?e:{default:e},a=(e=s,(a=[{key:"name",get:function(){return this._name}},{key:"children",get:function(){return this._children}},{key:"properties",get:function(){return this._properties}}])&&i(e.prototype,a),r&&i(e,r),s);function s(e,t,n){var i=this;if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this._name=e||"",this._properties=[],this._children=n||[],Array.isArray(t)&&t.forEach(function(e){i._properties.push(new o.default(e))})}n.default=a,t.exports=n.default},{67:67}],69:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(68)),o=i(e(61)),e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,r.default),a);function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var e=[o.default.PROFILES,o.default.WIDTH,o.default.HEIGHT,o.default.SAR,o.default.FRAMERATE,o.default.AUDIO_SAMPLING_RATE,o.default.MIME_TYPE,o.default.SEGMENT_PROFILES,o.default.CODECS,o.default.MAXIMUM_SAP_PERIOD,o.default.START_WITH_SAP,o.default.MAX_PLAYOUT_RATE,o.default.CODING_DEPENDENCY,o.default.SCAN_TYPE,o.default.FRAME_PACKING,o.default.AUDIO_CHANNEL_CONFIGURATION,o.default.CONTENT_PROTECTION,o.default.ESSENTIAL_PROPERTY,o.default.SUPPLEMENTAL_PROPERTY,o.default.INBAND_EVENT_STREAM];!function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n,i=!1,s=(null===r&&(r=Function.prototype),Object.getOwnPropertyDescriptor(r,o));if(void 0!==s)return"value"in s?s.value:void 0===(s=s.get)?void 0:s.call(a);s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=a,i=!0}}(Object.getPrototypeOf(a.prototype),"constructor",this).call(this,o.default.ADAPTATION_SET,e,[new r.default(o.default.REPRESENTATION,e,[new r.default(o.default.SUB_REPRESENTATION,e)])])}n.default=e,t.exports=n.default},{61:61,68:68}],70:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(68)),o=i(e(61)),e=(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,r.default),a);function a(){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");var e=[o.default.SEGMENT_BASE,o.default.SEGMENT_TEMPLATE,o.default.SEGMENT_LIST];!function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n,i=!1,s=(null===r&&(r=Function.prototype),Object.getOwnPropertyDescriptor(r,o));if(void 0!==s)return"value"in s?s.value:void 0===(s=s.get)?void 0:s.call(a);s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=a,i=!0}}(Object.getPrototypeOf(a.prototype),"constructor",this).call(this,o.default.PERIOD,e,[new r.default(o.default.ADAPTATION_SET,e,[new r.default(o.default.REPRESENTATION,e)])])}n.default=e,t.exports=n.default},{61:61,68:68}],71:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(e,t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this._test=e,this._converter=t}Object.defineProperty(n,"__esModule",{value:!0}),i(r.prototype,[{key:"test",get:function(){return this._test}},{key:"converter",get:function(){return this._converter}}]),n.default=r,t.exports=n.default},{}],72:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(71),e=e&&e.__esModule?e:{default:e},i=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+-])([0-9]{2})(?::?)([0-9]{2}))?/,r=o,e=e.default;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function o(){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");(function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n,i=!1,s=(null===r&&(r=Function.prototype),Object.getOwnPropertyDescriptor(r,o));if(void 0!==s)return"value"in s?s.value:void 0===(s=s.get)?void 0:s.call(a);s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=a,i=!0}})(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,function(e){return i.test(e.value)},function(e){var t,e=i.exec(e),n=void 0,n=Date.UTC(parseInt(e[1],10),parseInt(e[2],10)-1,parseInt(e[3],10),parseInt(e[4],10),parseInt(e[5],10),e[6]&&parseInt(e[6],10)||0,e[7]&&1e3*parseFloat(e[7])||0);return e[9]&&e[10]&&(t=60*parseInt(e[9],10)+parseInt(e[10],10),n+=("+"===e[8]?-1:1)*t*60*1e3),new Date(n)})}r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e),n.default=o,t.exports=n.default},{71:71}],73:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(71)),o=i(e(108)),a=i(e(61)),s=/^([-])?P(([\d.]*)Y)?(([\d.]*)M)?(([\d.]*)D)?T?(([\d.]*)H)?(([\d.]*)M)?(([\d.]*)S)?/,e=l,r=r.default;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);function l(){if(!(this instanceof l))throw new TypeError("Cannot call a class as a function");(function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n,i=!1,s=(null===r&&(r=Function.prototype),Object.getOwnPropertyDescriptor(r,o));if(void 0!==s)return"value"in s?s.value:void 0===(s=s.get)?void 0:s.call(a);s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=a,i=!0}})(Object.getPrototypeOf(l.prototype),"constructor",this).call(this,function(e){for(var t=[a.default.MIN_BUFFER_TIME,a.default.MEDIA_PRESENTATION_DURATION,a.default.MINIMUM_UPDATE_PERIOD,a.default.TIMESHIFT_BUFFER_DEPTH,a.default.MAX_SEGMENT_DURATION,a.default.MAX_SUBSEGMENT_DURATION,a.default.SUGGESTED_PRESENTATION_DELAY,a.default.START,o.default.START_TIME,a.default.DURATION],n=t.length,i=0;i<n;i++)if(e.nodeName===t[i])return s.test(e.value);return!1},function(e){var e=s.exec(e),t=31536e3*parseFloat(e[3]||0)+2592e3*parseFloat(e[5]||0)+86400*parseFloat(e[7]||0)+3600*parseFloat(e[9]||0)+60*parseFloat(e[11]||0)+parseFloat(e[13]||0);return t=void 0!==e[1]?-t:t})}e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r),n.default=l,t.exports=n.default},{108:108,61:61,71:71}],74:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(71),e=e&&e.__esModule?e:{default:e},i=/^[-+]?[0-9]+[.]?[0-9]*([eE][-+]?[0-9]+)?$/,r=o,e=e.default;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function o(){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");(function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n,i=!1,s=(null===r&&(r=Function.prototype),Object.getOwnPropertyDescriptor(r,o));if(void 0!==s)return"value"in s?s.value:void 0===(s=s.get)?void 0:s.call(a);s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=a,i=!0}})(Object.getPrototypeOf(o.prototype),"constructor",this).call(this,function(e){return i.test(e.value)},function(e){return parseFloat(e)})}r.prototype=Object.create(e&&e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(r,e):r.__proto__=e),n.default=o,t.exports=n.default},{71:71}],75:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(71)),a=i(e(61)),e=s,o=o.default;if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);function s(){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");(function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n,i=!1,s=(null===r&&(r=Function.prototype),Object.getOwnPropertyDescriptor(r,o));if(void 0!==s)return"value"in s?s.value:void 0===(s=s.get)?void 0:s.call(a);s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=a,i=!0}})(Object.getPrototypeOf(s.prototype),"constructor",this).call(this,function(e,t){r(n={},a.default.MPD,[a.default.ID,a.default.PROFILES]),r(n,a.default.PERIOD,[a.default.ID]),r(n,a.default.BASE_URL,[a.default.SERVICE_LOCATION,a.default.BYTE_RANGE]),r(n,a.default.SEGMENT_BASE,[a.default.INDEX_RANGE]),r(n,a.default.INITIALIZATION,[a.default.RANGE]),r(n,a.default.REPRESENTATION_INDEX,[a.default.RANGE]),r(n,a.default.SEGMENT_LIST,[a.default.INDEX_RANGE]),r(n,a.default.BITSTREAM_SWITCHING,[a.default.RANGE]),r(n,a.default.SEGMENT_URL,[a.default.MEDIA_RANGE,a.default.INDEX_RANGE]),r(n,a.default.SEGMENT_TEMPLATE,[a.default.INDEX_RANGE,a.default.MEDIA,a.default.INDEX,a.default.INITIALIZATION_MINUS,a.default.BITSTREAM_SWITCHING_MINUS]),r(n,a.default.ASSET_IDENTIFIER,[a.default.VALUE,a.default.ID]),r(n,a.default.EVENT_STREAM,[a.default.VALUE]),r(n,a.default.ADAPTATION_SET,[a.default.PROFILES,a.default.MIME_TYPE,a.default.SEGMENT_PROFILES,a.default.CODECS,a.default.CONTENT_TYPE]),r(n,a.default.FRAME_PACKING,[a.default.VALUE,a.default.ID]),r(n,a.default.AUDIO_CHANNEL_CONFIGURATION,[a.default.VALUE,a.default.ID]),r(n,a.default.CONTENT_PROTECTION,[a.default.VALUE,a.default.ID]),r(n,a.default.ESSENTIAL_PROPERTY,[a.default.VALUE,a.default.ID]),r(n,a.default.SUPPLEMENTAL_PROPERTY,[a.default.VALUE,a.default.ID]),r(n,a.default.INBAND_EVENT_STREAM,[a.default.VALUE,a.default.ID]),r(n,a.default.ACCESSIBILITY,[a.default.VALUE,a.default.ID]),r(n,a.default.ROLE,[a.default.VALUE,a.default.ID]),r(n,a.default.RATING,[a.default.VALUE,a.default.ID]),r(n,a.default.VIEWPOINT,[a.default.VALUE,a.default.ID]),r(n,a.default.CONTENT_COMPONENT,[a.default.CONTENT_TYPE]),r(n,a.default.REPRESENTATION,[a.default.ID,a.default.DEPENDENCY_ID,a.default.MEDIA_STREAM_STRUCTURE_ID]),r(n,a.default.SUBSET,[a.default.ID]),r(n,a.default.METRICS,[a.default.METRICS_MINUS]),r(n,a.default.REPORTING,[a.default.VALUE,a.default.ID]);var n;return!!n.hasOwnProperty(t)&&void 0!==(n=n[t])&&0<=n.indexOf(e.name)},function(e){return String(e)})}e.prototype=Object.create(o&&o.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(e,o):e.__proto__=o),n.default=s,t.exports=n.default},{61:61,71:71}],76:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(47),e=e&&e.__esModule?e:{default:e};function i(d){function E(e,t){for(var n=0,i=e.children.length;n<i;++n){var r=e.children[n],o=t[r.name+"_asArray"];if(o)for(var a=0,s=o.length;a<s;++a){for(var l=o[a],u=(_=v=y=m=g=h=p=f=c=d=u=void 0,e.properties),d=t,c=l,f=0,p=u.length;f<p;++f){var h=u[f];if(d[h.name])if(c[h.name]){if(h.merge){var g=d[h.name],m=c[h.name];if("object"==typeof g&&"object"==typeof m){y=void 0;v=void 0;_=void 0;var y=g;var v=m;for(var _ in y)v.hasOwnProperty(_)||(v[_]=y[_])}else c[h.name]=g+m}}else c[h.name]=d[h.name]}E(r,l)}}}return{run:function(e){if(null!==e&&"object"==typeof e&&"period"in d)for(var t=d.period,n=e.Period_asArray,i=0,r=n.length;i<r;++i){var o=n[i];if(E(t,o),"adaptationset"in d){var a=o.AdaptationSet_asArray;if(a)for(var s=d.adaptationset,l=0,u=a.length;l<u;++l)E(s,a[l])}}return e}}}i.__dashjs_factory_name="ObjectIron";e=e.default.getClassFactory(i);n.default=e,t.exports=n.default},{47:47}],77:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),o=i(e(108)),u=e(80);function a(e,a){var s=(e=e||{}).timelineConverter;function l(){if(!s||!s.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(o.default.MISSING_CONFIG_ERROR)}function i(e,t){var n,i,r,o;return l(),e?(n=(o=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList).SegmentURL_asArray.length,i=e.startNumber,r=null,t<n&&(o=o.SegmentURL_asArray[t],(r=(0,u.getIndexBasedSegment)(s,a,e,t)).replacementTime=(i+t-1)*e.segmentDuration,r.media=o.media||"",r.mediaRange=o.mediaRange,r.index=t,r.indexRange=o.indexRange),e.availableSegmentsNumber=n,r):null}return{getSegmentByIndex:i,getSegmentByTime:function(e,t){var n;return l(),!e||(n=e.segmentDuration,isNaN(n))?null:(t=s.calcPeriodRelativeTimeFromMpdRelativeTime(e,t),i(e,Math.floor(t/n)))}}}a.__dashjs_factory_name="ListSegmentsGetter";e=r.default.getClassFactory(a);n.default=e,t.exports=n.default},{108:108,47:47,80:80}],78:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),i(r,[{key:"round10",value:function(e,t){return e=e,void 0!==t&&0!=+t?(t=+t,null===(e=+e)||isNaN(e)||"number"!=typeof t||t%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math.round(+(e[0]+"e"+(e[1]?e[1]-t:-t)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+t:t)))):Math.round(e)}}]),n.default=r,t.exports=n.default},{}],79:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),a=i(e(108));function o(e){var n=(e=e||{}).timelineConverter;function o(){if(!n||!n.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(a.default.MISSING_CONFIG_ERROR)}function i(e,t){if(o(),e){var n=e.segments?e.segments.length:-1,i=void 0;if(t<n&&(i=e.segments[t])&&i.availabilityIdx===t)return i;for(var r=0;r<n;r++)if((i=e.segments[r])&&i.availabilityIdx===t)return i}return null}return{getSegmentByIndex:i,getSegmentByTime:function(e,t){return o(),i(e,function(e,t){if(!e)return-1;var n,i,r,o,a=e.segments,s=a?a.length:null,l=-1,u=void 0;if(a&&0<s)for(u=0;u<s;u++)if((r=(i=a[u]).presentationStartTime)<=t+(n=(o=i.duration)/2)&&t-n<r+o){l=i.availabilityIdx;break}return l}(e,n.calcPeriodRelativeTimeFromMpdRelativeTime(e,t)))}}}o.__dashjs_factory_name="SegmentBaseGetter";e=r.default.getClassFactory(o);n.default=e,t.exports=n.default},{108:108,47:47}],80:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.unescapeDollarsInTemplate=function(e){return e&&e.split("$$").join("$")},n.replaceIDForTemplate=function(e,t){return t&&e&&-1!==e.indexOf("$RepresentationID$")?(t=t.toString(),e.split("$RepresentationID$").join(t)):e},n.replaceTokenForTemplate=f,n.getIndexBasedSegment=function(e,t,n,i){var r=void 0,r=n.segmentDuration,o=(isNaN(r)&&(r=n.adaptation.period.duration),parseFloat((n.adaptation.period.start+i*r).toFixed(5))),a=parseFloat((o+r).toFixed(5)),r=p(n,r,o,e.calcMediaTimeFromPresentationTime(o,n),e.calcAvailabilityStartTimeFromPresentationTime(o,n.adaptation.period.mpd,t),e,a,t,i);return h(e,n,r,t)?r:null},n.getTimeBasedSegment=function(e,t,n,i,r,o,a,s,l,u){var d=i/o,r=Math.min(r/o,n.adaptation.period.mpd.maxSegmentDuration),o=void 0,c=e.calcPresentationTimeFromMediaTime(d,n);return h(e,n,o=p(n,r,c,d,n.adaptation.period.mpd.manifest.loadedTime,e,c+r,t,l),t)?(o.replacementTime=u||i,a=f(a,"Number",o.replacementNumber),a=f(a,"Time",o.replacementTime),o.media=a,o.mediaRange=s,o):null};var n=e(94),d=n&&n.__esModule?n:{default:n};function c(e,t){for(;e.length<t;)e="0"+e;return e}function f(e,t,n){var i,r,o,a,s,l=void 0,u=t.length,d="%0".length;if(!e)return e;for(;;){if((i=e.indexOf("$"+t))<0)return e;if((r=e.indexOf("$",i+u))<0)return e;if(i<(o=e.indexOf("%0",i+u))&&o<r)switch(a=e.charAt(r-1),s=parseInt(e.substring(o+d,r-1),10),a){case"d":case"i":case"u":l=c(n.toString(),s);break;case"x":l=c(n.toString(16),s);break;case"X":l=c(n.toString(16),s).toUpperCase();break;case"o":l=c(n.toString(8),s);break;default:return e}else l=n;e=e.substring(0,i)+l+e.substring(r+1)}}function p(e,t,n,i,r,o,a,s,l){var u=new d.default;return u.representation=e,u.duration=t,u.presentationStartTime=n,u.mediaStartTime=i,u.availabilityStartTime=r,u.availabilityEndTime=o.calcAvailabilityEndTimeFromPresentationTime(a,e.adaptation.period.mpd,s),u.wallStartTime=o.calcWallTimeForSegment(u,s),u.replacementNumber=u.representation.startNumber+l,u.availabilityIdx=l,u}function h(e,t,n,i){var r=e.getPeriodEnd(t,i);if(e.calcPeriodRelativeTimeFromMpdRelativeTime(t,r)<=e.calcPeriodRelativeTimeFromMpdRelativeTime(t,n.presentationStartTime)){if(!i)return;if(t.segmentAvailabilityRange&&n.presentationStartTime>=t.segmentAvailabilityRange.end)return}return 1}},{94:94}],81:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),s=i(e(108)),l=e(80);function o(e,r){var o=(e=e||{}).timelineConverter;function a(){if(!o||!o.hasOwnProperty("calcPeriodRelativeTimeFromMpdRelativeTime"))throw new Error(s.default.MISSING_CONFIG_ERROR)}function i(e,t){var n,i;return a(),e?(i=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate,t=Math.max(t,0),(n=(0,l.getIndexBasedSegment)(o,r,e,t))&&(n.replacementTime=(t-1)*e.segmentDuration,t=i.media,t=(0,l.replaceTokenForTemplate)(t,"Number",n.replacementNumber),t=(0,l.replaceTokenForTemplate)(t,"Time",n.replacementTime),n.media=t),i=e.segmentDuration,t=e.segmentAvailabilityRange,isNaN(i)?e.availableSegmentsNumber=1:e.availableSegmentsNumber=Math.ceil((t.end-t.start)/i),n):null}return{getSegmentByIndex:i,getSegmentByTime:function(e,t){var n;return a(),!e||(n=e.segmentDuration,isNaN(n))?null:(t=o.calcPeriodRelativeTimeFromMpdRelativeTime(e,t),i(e,Math.floor(t/n)))}}}o.__dashjs_factory_name="TemplateSegmentsGetter";e=r.default.getClassFactory(o);n.default=e,t.exports=n.default},{108:108,47:47,80:80}],82:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var d=i(e(46)),c=i(e(54)),e=i(e(47));function r(){var e=this.context,t=(0,d.default)(e).getInstance(),r=void 0,a=void 0,n=void 0;function i(e){r=e}function o(e,t,n,i){return i?n&&t.timeShiftBufferDepth!=Number.POSITIVE_INFINITY?new Date(t.availabilityStartTime.getTime()+1e3*(e+t.timeShiftBufferDepth)):t.availabilityEndTime:n?new Date(t.availabilityStartTime.getTime()+1e3*(e-r)):t.availabilityStartTime}function s(e,t){return(e.getTime()-t.mpd.availabilityStartTime.getTime()+1e3*r)/1e3}function l(e){a||void 0!==e.offset&&(i(e.offset/1e3),a=!0)}function u(){r=0,a=!1,n=NaN}return{initialize:function(){u(),t.on(c.default.TIME_SYNCHRONIZATION_COMPLETED,l,this)},isTimeSyncCompleted:function(){return a},setTimeSyncCompleted:function(e){a=e},getClientTimeOffset:function(){return r},setClientTimeOffset:i,getExpectedLiveEdge:function(){return n},setExpectedLiveEdge:function(e){n=e},calcAvailabilityStartTimeFromPresentationTime:function(e,t,n){return o.call(this,e,t,n)},calcAvailabilityEndTimeFromPresentationTime:function(e,t,n){return o.call(this,e,t,n,!0)},calcPresentationTimeFromWallTime:s,calcPresentationTimeFromMediaTime:function(e,t){return e+(t.adaptation.period.start-t.presentationTimeOffset)},calcPeriodRelativeTimeFromMpdRelativeTime:function(e,t){return t-e.adaptation.period.start},calcMediaTimeFromPresentationTime:function(e,t){return e-t.adaptation.period.start+t.presentationTimeOffset},calcSegmentAvailabilityRange:function(e,t){var n=e.adaptation.period,i={start:n.start,end:n.start+n.duration};if(t){if(!a&&e.segmentAvailabilityRange)return e.segmentAvailabilityRange;var t=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0),r=s(new Date,n),o=n.start+n.duration,n=(i.start=Math.max(r-n.mpd.timeShiftBufferDepth,n.start),void 0!==e.availabilityTimeOffset&&e.availabilityTimeOffset<t?t-e.availabilityTimeOffset:t);i.end=o<=r&&r-n<o?o:r-n}return i},getPeriodEnd:function(e,t){var n,i,r=e.adaptation.period;return t?!a&&e.segmentAvailabilityRange?e.segmentAvailabilityRange:(t=e.segmentDuration||(e.segments&&e.segments.length?e.segments[e.segments.length-1].duration:0),n=s(new Date,r),i=r.start+r.duration,e=void 0!==e.availabilityTimeOffset&&e.availabilityTimeOffset<t?t-e.availabilityTimeOffset:t,Math.min(n-e,i)):r.start+r.duration},calcWallTimeForSegment:function(e,t){var n=void 0;return t&&(t=e.representation.adaptation.period.mpd.suggestedPresentationDelay,t=e.presentationStartTime+t,n=new Date(e.availabilityStartTime.getTime()+1e3*t)),n},reset:function(){t.off(c.default.TIME_SYNCHRONIZATION_COMPLETED,l,this),u()}}}r.__dashjs_factory_name="TimelineConverter",n.default=e.default.getSingletonFactory(r),t.exports=n.default},{46:46,47:47,54:54}],83:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),o=i(e(108)),p=e(80);function a(e,_){var E=(e=e||{}).timelineConverter;function t(){if(!E||!E.hasOwnProperty("calcMediaTimeFromPresentationTime")||!E.hasOwnProperty("calcSegmentAvailabilityRange"))throw new Error(o.default.MISSING_CONFIG_ERROR)}function n(e,t){for(var n,i=e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentTemplate||e.adaptation.period.mpd.manifest.Period_asArray[e.adaptation.period.index].AdaptationSet_asArray[e.adaptation.index].Representation_asArray[e.index].SegmentList,r=i.SegmentTimeline,o=i.SegmentURL_asArray,a=0,s=0,l=-1,u=void 0,d=void 0,c=void 0,f=void 0,p=void 0,h=void 0,g=e.timescale,m=!1,d=0,y=(n=r.S_asArray).length;d<y&&!m;d++){var v,f=0;for((u=n[d]).hasOwnProperty("r")&&(f=u.r),u.hasOwnProperty("t")&&(s=(a=u.t)/g),f<0&&((h=n[d+1])&&h.hasOwnProperty("t")?p=h.t/g:(v=(e.segmentAvailabilityRange||E.calcSegmentAvailabilityRange(e,_)).end,p=E.calcMediaTimeFromPresentationTime(v,e),e.segmentDuration=u.d/g),f=Math.ceil((p-s)/(u.d/g))-1),c=0;c<=f&&!m;c++)(m=t(a,s,i,o,u,g,++l,d))&&(e.segmentDuration=u.d/g,c<f-1||d<y-1)&&l++,s=(a+=u.d)/g}e.availableSegmentsNumber=l}return{getSegmentByIndex:function(u,e,d){var c,f;return t(),u?(c=null,f=!1,n(u,function(e,t,n,i,r,o,a,s){var l;return f||d<0?(n=n.media,l=r.mediaRange,i&&(n=i[s].media||"",l=i[s].mediaRange),c=(0,p.getTimeBasedSegment)(E,_,u,e,r.d,o,n,l,a,r.tManifest),!0):(t>=d-.5*r.d/o&&(f=!0),!1)}),c):null},getSegmentByTime:function(l,e){var u,d;return t(),l?(u=null,d=E.calcMediaTimeFromPresentationTime(e=void 0===e?null:e,l),n(l,function(e,t,n,i,r,o,a,s){return d<t+r.d/o&&(t=n.media,n=r.mediaRange,i&&(t=i[s].media||"",n=i[s].mediaRange),u=(0,p.getTimeBasedSegment)(E,_,l,e,r.d,o,t,n,a,r.tManifest),!0)}),u):null}}}a.__dashjs_factory_name="TimelineSegmentsGetter";e=r.default.getClassFactory(a);n.default=e,t.exports=n.default},{108:108,47:47,80:80}],84:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.period=null,this.index=-1,this.type=null},t.exports=n.default},{}],85:[function(e,t,n){"use strict";function r(e,t,n,i){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.url=e||"",this.serviceLocation=t||e||"",this.dvb_priority=n||1,this.dvb_weight=i||1,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}Object.defineProperty(n,"__esModule",{value:!0}),r.DEFAULT_DVB_PRIORITY=1,r.DEFAULT_DVB_WEIGHT=1,n.default=r,t.exports=n.default},{}],86:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.duration=NaN,this.presentationTime=NaN,this.id=NaN,this.messageData="",this.eventStream=null,this.presentationTimeDelta=NaN},t.exports=n.default},{}],87:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.adaptionSet=null,this.representation=null,this.period=null,this.timescale=1,this.value="",this.schemeIdUri=""},t.exports=n.default},{}],88:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.DVRWindowSize=NaN,this.loadedTime=null,this.availableFrom=null,this.minBufferTime=NaN,this.duration=NaN,this.isDynamic=!1,this.maxFragmentDuration=null},t.exports=n.default},{}],89:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.id=null,this.index=null,this.type=null,this.streamInfo=null,this.representationCount=0,this.lang=null,this.viewpoint=null,this.accessibility=null,this.audioChannelConfiguration=null,this.roles=null,this.codec=null,this.mimeType=null,this.contentProtection=null,this.isText=!1,this.KID=null,this.bitrateList=null}Object.defineProperty(n,"__esModule",{value:!0}),i(r.prototype,[{key:"isMediaInfoEqual",value:function(e){var t,n,i,r,o;return!!e&&(t=this.id===e.id,n=this.viewpoint===e.viewpoint,i=this.lang===e.lang,r=this.roles.toString()===e.roles.toString(),o=this.accessibility.toString()===e.accessibility.toString(),e=this.audioChannelConfiguration.toString()===e.audioChannelConfiguration.toString(),t)&&n&&i&&r&&o&&e}}]),n.default=r,t.exports=n.default},{}],90:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.manifest=null,this.suggestedPresentationDelay=0,this.availabilityStartTime=null,this.availabilityEndTime=Number.POSITIVE_INFINITY,this.timeShiftBufferDepth=Number.POSITIVE_INFINITY,this.maxSegmentDuration=Number.POSITIVE_INFINITY,this.minimumUpdatePeriod=NaN,this.mediaPresentationDuration=NaN},t.exports=n.default},{}],91:[function(e,t,n){"use strict";function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.id=null,this.index=-1,this.duration=NaN,this.start=NaN,this.mpd=null}Object.defineProperty(n,"__esModule",{value:!0}),i.DEFAULT_ID="defaultId",n.default=i,t.exports=n.default},{}],92:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,e=e(61),o=e&&e.__esModule?e:{default:e},a=(e=s,(a=[{key:"hasInitialization",value:function(){return null!==this.initialization||null!==this.range}},{key:"hasSegments",value:function(){return this.segmentInfoType!==o.default.BASE_URL&&this.segmentInfoType!==o.default.SEGMENT_BASE&&!this.indexRange}}])&&i(e.prototype,a),r&&i(e,r),s);function s(){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.id=null,this.index=-1,this.adaptation=null,this.segmentInfoType=null,this.initialization=null,this.codecs=null,this.codecPrivateData=null,this.segmentDuration=NaN,this.timescale=1,this.startNumber=1,this.indexRange=null,this.range=null,this.presentationTimeOffset=0,this.MSETimeOffset=NaN,this.segmentAvailabilityRange=null,this.availableSegmentsNumber=0,this.bandwidth=NaN,this.width=NaN,this.height=NaN,this.scanType=null,this.maxPlayoutRate=NaN,this.availabilityTimeOffset=0,this.availabilityTimeComplete=!0}n.default=a,t.exports=n.default},{61:61}],93:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.id=null,this.quality=null,this.DVRWindow=null,this.fragmentDuration=null,this.mediaInfo=null,this.MSETimeOffset=null},t.exports=n.default},{}],94:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.indexRange=null,this.index=null,this.mediaRange=null,this.media=null,this.duration=NaN,this.replacementTime=null,this.replacementNumber=NaN,this.mediaStartTime=NaN,this.presentationStartTime=NaN,this.availabilityStartTime=NaN,this.availabilityEndTime=NaN,this.availabilityIdx=NaN,this.wallStartTime=NaN,this.representation=null},t.exports=n.default},{}],95:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.id=null,this.index=null,this.start=NaN,this.duration=NaN,this.manifestInfo=null,this.isLast=!0},t.exports=n.default},{}],96:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.schemeIdUri="",this.value=""},t.exports=n.default},{}],97:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var u=i(e(108)),d=i(e(158)),c=i(e(229)),f=i(e(226)),e=i(e(47));function r(e){var t=this.context,r=(e=e||{}).eventBus,o=e.events,n=e.urlUtils,a=e.errors,s=void 0,l=void 0,s={checkForExistence:function(t){function e(e){r.trigger(o.CHECK_FOR_EXISTENCE_COMPLETED,{request:t,exists:e})}var n;t?(n=new c.default(t.url),l.load({request:n,success:function(){e(!0)},error:function(){e(!1)}})):e(!1)},load:function(n){function i(e,t){r.trigger(o.LOADING_COMPLETED,{request:n,response:e||null,error:t||null,sender:s})}n?l.load({request:n,progress:function(e){r.trigger(o.LOADING_PROGRESS,{request:n,stream:e.stream}),e.data&&r.trigger(o.LOADING_DATA_PROGRESS,{request:n,response:e.data||null,error:null,sender:s})},success:function(e){i(e)},error:function(e,t,n){i(void 0,new f.default(a.FRAGMENT_LOADER_LOADING_FAILURE_ERROR_CODE,n,t))},abort:function(e){e&&r.trigger(o.LOADING_ABANDONED,{request:e,mediaType:e.mediaType,sender:s})}}):i(void 0,new f.default(a.FRAGMENT_LOADER_NULL_REQUEST_ERROR_CODE,a.FRAGMENT_LOADER_NULL_REQUEST_ERROR_MESSAGE))},abort:function(){l&&l.abort()},reset:function(){l&&(l.abort(),l=null)}},l=(0,d.default)(t).create({errHandler:e.errHandler,errors:a,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,useFetch:e.settings.get().streaming.lowLatencyEnabled,urlUtils:n,constants:u.default,boxParser:e.boxParser,dashConstants:e.dashConstants});return s}r.__dashjs_factory_name="FragmentLoader",n.default=e.default.getClassFactory(r),t.exports=n.default},{108:108,158:158,226:226,229:229,47:47}],98:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var g=i(e(108)),o=i(e(61)),a=i(e(123)),s=i(e(158)),m=i(e(221)),y=i(e(233)),v=i(e(226)),_=e(242),E=i(e(46)),T=i(e(54)),b=i(e(51)),r=i(e(47)),S=i(e(66)),A=i(e(45));function l(e){e=e||{};var l=this.context,u=(0,E.default)(l).getInstance(),d=(0,m.default)(l).getInstance(),t=void 0,c=void 0,n=void 0,f=void 0,p=void 0,h=e.mssHandler,i=e.errHandler;function r(e){u.trigger(T.default.INTERNAL_MANIFEST_LOADED,{manifest:e.manifest})}return t={load:function(s){var e=new y.default(s,_.HTTPRequest.MPD_TYPE);n.load({request:e,success:function(e,t,n){if(f){var i,r=void 0,o=void 0,a=void 0;if(n&&n!==s?(o=d.parseBaseUrl(n),r=n):(d.isRelative(s)&&(s=d.resolve(s,window.location.href)),o=d.parseBaseUrl(s)),null===p&&(n=null,p=-1<(i=e).indexOf("SmoothStreamingMedia")?(h&&(n=h.createMssParser(),h.registerEvents()),n):-1<i.indexOf("MPD")?(0,S.default)(l).create():n),null!==p){f.setMatchers(p.getMatchers()),f.setIron(p.getIron());try{a=p.parse(e)}catch(e){return void u.trigger(T.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new v.default(b.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,b.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+s)})}a?(a.url=r||s,a.originalUrl||(a.originalUrl=a.url),a.hasOwnProperty(g.default.LOCATION)&&(o=d.parseBaseUrl(a.Location_asArray[0]),c.debug("BaseURI set by Location to: "+o)),a.baseUri=o,a.loadedTime=new Date,f.resolveManifestOnLoad(a),u.trigger(T.default.ORIGINAL_MANIFEST_LOADED,{originalManifest:e})):u.trigger(T.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new v.default(b.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,b.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+s)})}else u.trigger(T.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new v.default(b.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE,b.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_MESSAGE+""+s)})}},error:function(e,t,n){u.trigger(T.default.INTERNAL_MANIFEST_LOADED,{manifest:null,error:new v.default(b.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_CODE,b.default.MANIFEST_LOADER_LOADING_FAILURE_ERROR_MESSAGE+(s+", ")+n)})}})},reset:function(){u.off(T.default.XLINK_READY,r,t),f&&(f.reset(),f=null),n&&(n.abort(),n=null),h&&h.reset()}},c=(0,A.default)(l).getInstance().getLogger(t),u.on(T.default.XLINK_READY,r,t),n=(0,s.default)(l).create({errHandler:e.errHandler,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,useFetch:e.settings.get().streaming.lowLatencyEnabled,urlUtils:d,constants:g.default,dashConstants:o.default,errors:b.default}),f=(0,a.default)(l).create({errHandler:i,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,settings:e.settings}),p=null,t}l.__dashjs_factory_name="ManifestLoader";e=r.default.getClassFactory(l);n.default=e,t.exports=n.default},{108:108,123:123,158:158,221:221,226:226,233:233,242:242,45:45,46:46,47:47,51:51,54:54,61:61,66:66}],99:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var S=i(e(46)),A=i(e(54)),r=i(e(47)),w=i(e(45)),I=i(e(51));function o(){var e,t=this.context,i=(0,S.default)(t).getInstance(),r=void 0,o=void 0,n=void 0,a=void 0,s=void 0,l=void 0,u=void 0,d=void 0,c=void 0,f=void 0;function p(){o=NaN,a=!(s=!1),h()}function h(){null!==n&&(clearTimeout(n),n=null)}function g(e){h(),isNaN(e)&&!isNaN(o)&&(e=1e3*o),isNaN(e)||(r.debug("Refresh manifest in "+e+" milliseconds."),n=setTimeout(v,e))}function m(){s=!0;var e=u.getValue(),t=e.url,e=d.getLocation(e);l.load(t=e?e:t)}function y(e){u.setValue(e);var t=new Date,n=(t.getTime()-e.loadedTime.getTime())/1e3;2147483647<1e3*(o=d.getManifestUpdatePeriod(e,n))&&(o=2147483.647),i.trigger(A.default.MANIFEST_UPDATED,{manifest:e}),r.info("Manifest has been refreshed at "+t+"["+t.getTime()/1e3+"] "),a||g()}function v(){a&&!f.get().streaming.scheduleWhilePaused||(s?g(f.get().streaming.manifestUpdateRetryInterval):m())}function _(e){e.error?e.error.code===I.default.MANIFEST_LOADER_PARSING_FAILURE_ERROR_CODE&&c.error(e.error):y(e.manifest)}function E(){a=!1,g()}function T(){a=!0,h()}function b(){s=!1}return e={initialize:function(){p(),i.on(A.default.STREAMS_COMPOSED,b,this),i.on(A.default.PLAYBACK_STARTED,E,this),i.on(A.default.PLAYBACK_PAUSED,T,this),i.on(A.default.INTERNAL_MANIFEST_LOADED,_,this)},setManifest:function(e){y(e)},refreshManifest:m,setConfig:function(e){e&&(e.manifestModel&&(u=e.manifestModel),e.adapter&&(d=e.adapter),e.manifestLoader&&(l=e.manifestLoader),e.errHandler&&(c=e.errHandler),e.settings)&&(f=e.settings)},reset:function(){i.off(A.default.PLAYBACK_STARTED,E,this),i.off(A.default.PLAYBACK_PAUSED,T,this),i.off(A.default.STREAMS_COMPOSED,b,this),i.off(A.default.INTERNAL_MANIFEST_LOADED,_,this),p()}},r=(0,w.default)(t).getInstance().getLogger(e),e}o.__dashjs_factory_name="ManifestUpdater",n.default=r.default.getClassFactory(o),t.exports=n.default},{45:45,46:46,47:47,51:51,54:54}],100:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var le=i(e(2)),ue=i(e(108)),de=i(e(61)),ce=i(e(109)),fe=i(e(119)),pe=i(e(121)),he=i(e(117)),ge=i(e(112)),me=i(e(98)),ye=i(e(213)),ve=i(e(208)),_e=i(e(203)),Ee=i(e(218)),Te=i(e(201)),be=i(e(153)),Se=i(e(150)),Ae=i(e(151)),we=i(e(111)),Ie=i(e(157)),Ce=i(e(154)),Re=i(e(148)),De=i(e(210)),Ne=i(e(45)),Me=i(e(51)),Ue=i(e(46)),Oe=i(e(54)),xe=i(e(101)),Pe=i(e(47)),je=i(e(48)),He=e(50),Ge=i(e(63)),Ke=i(e(56)),qe=i(e(58)),$e=i(e(82)),Ye=e(242),Le=i(e(1)),Ve=i(e(9)),ze=i(e(226)),ke=e(219),We=i(e(99)),Fe=i(e(221)),Xe=i(e(57)),Qe=i(e(62)),Je=i(e(149)),Ze=i(e(97)),Be=i(e(207));function r(){var i="You must first call initialize() and set a source before calling this method",r="You must first call initialize() and set a valid source and view before calling this method",F="You must first call attachView() to set the video element before calling this method",e="You must first call attachSource() with a valid source before calling this method",n="MediaPlayer not initialized!",o=this.context,a=(0,Ue.default)(o).getInstance(),s=(0,je.default)(o).getInstance(),l=(0,Ne.default)(o).getInstance({settings:s}),u=void 0,d=void 0,t=void 0,c=void 0,f=void 0,p=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,E=void 0,T=void 0,b=void 0,S=void 0,B=void 0,A=void 0,w=void 0,I=void 0,C=void 0,R=void 0,D=void 0,N=void 0,M=void 0,O=void 0,U=void 0,x=void 0,P=void 0,j=void 0,H=void 0,G=void 0;function K(){return!!t&&!!x.getElement()}function q(){return(0,He.getVersionString)()}function $(){if(g)return N.isPaused();throw r}function Y(e){var t,n=M.getCurrentDVRInfo();return n?(t=N.getLiveDelay(),(e=n.range.start+e)>n.range.end-t?n.range.end-t:e):0}function V(e){var t;if(g)return t=k().currentTime,void 0!==e?t=D.getTimeRelativeToStreamId(t,e):N.getIsDynamic()&&(t=null===(e=M.getCurrentDVRInfo())?0:z()-(e.range.end-e.time)),t;throw r}function z(){if(!g)throw r;var e=k().duration;if(N.getIsDynamic()){var t,n=M.getCurrentDVRInfo();if(!n)return 0;e=(t=n.range.end-n.range.start)<n.manifestInfo.DVRWindowSize?t:n.manifestInfo.DVRWindowSize}return e}function W(e){(0,ke.checkParameterType)(e,"boolean"),m=e}function X(){w.restoreDefaultUTCTimingSources()}function Q(e){var t=(0,Ee.default)(o).getInstance(),n=(0,Xe.default)(o).create({type:e.config.type,mediaPlayerModel:w,mimeType:e.config.mimeType,baseURLController:C,streamInfo:e.config.streamInfo,errHandler:I,timelineConverter:E,settings:s,dashMetrics:M,eventBus:a,events:Oe.default,errors:Me.default,debug:l,dashConstants:de.default,requestModifier:t,urlUtils:(0,Fe.default)(o).getInstance(),boxParser:(0,Be.default)(o).getInstance()}),i=(0,Qe.default)(o).create({abrController:y,dashMetrics:M,playbackController:N,timelineConverter:E,type:e.config.type,eventBus:a,events:Oe.default,errors:Me.default,dashConstants:de.default,streamId:e.config.streamInfo?e.config.streamInfo.id:null}),t=(0,Ze.default)(o).create({mediaPlayerModel:w,errHandler:I,requestModifier:t,settings:s,dashMetrics:M,eventBus:a,events:Oe.default,errors:Me.default,dashConstants:de.default,urlUtils:(0,Fe.default)(o).getInstance()}),t=(0,Je.default)(o).create({dashMetrics:M,fragmentLoader:t,eventBus:a,events:Oe.default,debug:l});e.sender.setDashElements(n,t,i)}function L(){if(!f)throw n;var e,t=dashjs.OfflineController;"function"==typeof t&&(_=t(o).create(),a.on(t.events.DASH_ELEMENTS_CREATION_NEEDED,Q,u),xe.default.extend(t.events,{publicOnly:!0}),Me.default.extend(t.errors),t=re(),(e=(0,We.default)(o).create()).setConfig({manifestModel:O,adapter:A,manifestLoader:t,errHandler:I}),_.setConfig({debug:l,manifestUpdater:e,baseURLController:C,manifestLoader:t,manifestModel:O,adapter:A,errHandler:I,schemeLoaderFactory:v,eventBus:a,events:Oe.default,constants:ue.default,dashConstants:de.default,urlUtils:(0,Fe.default)(o).getInstance()}),p=!0)}function J(){return M}function k(){if(x.getElement())return x.getElement();throw F}function Z(e){if(!f)throw n;x.setElement(e),e&&(oe(),S||"function"==typeof(e=dashjs.MetricsReporting)&&(e=e(o).create(),S=e.createMetricsReporting({debug:l,eventBus:a,mediaElement:k(),adapter:A,dashMetrics:M,events:Oe.default,constants:ue.default,metricsConstants:ce.default})),B||"function"==typeof(e=dashjs.MssHandler)&&(Me.default.extend(e.errors),B=e(o).create({eventBus:a,mediaPlayerModel:w,dashMetrics:M,manifestModel:O,playbackController:N,protectionController:b,baseURLController:C,errHandler:I,events:Oe.default,constants:ue.default,debug:l,initSegmentType:Ye.HTTPRequest.INIT_SEGMENT_TYPE,BASE64:Le.default,ISOBoxer:Ve.default,settings:s})),D)&&D.switchToVideoElement(),g&&ie(),se()}function ee(e){var t;if(h)return t=D.getActiveStreamInfo(),T.getTracksFor(e,t);throw i}function te(e){if(!f)throw n;"string"==typeof e&&j.initialize(e),t=e,(h||g)&&ie(),K()&&se()}function ne(){var e;if(h)return(e=D.getActiveStreamInfo())?D.getStreamById(e.id):null;throw i}function ie(){h=g=!1,A.reset(),D.reset(),N.reset(),y.reset(),T.reset(),P.reset(),b&&(s.get().streaming.keepProtectionMediaKeys?b.stop():(b.reset(),b=null,oe())),U.reset()}function re(){return(0,me.default)(o).create({errHandler:I,dashMetrics:M,mediaPlayerModel:w,requestModifier:(0,Ee.default)(o).getInstance(),mssHandler:B,settings:s})}function oe(){var e,t;return b||("function"!=typeof(e=dashjs.Protection)?null:(t=e(o).create(),Oe.default.extend(e.events),xe.default.extend(e.events,{publicOnly:!0}),Me.default.extend(e.errors),R=R||(0,ve.default)(o).getInstance(),b=t.createProtectionSystem({debug:l,errHandler:I,videoModel:x,capabilities:R,eventBus:a,events:Oe.default,BASE64:Le.default,constants:ue.default})))}function ae(e){var t=M.getCurrentDVRInfo();return t?e+(t.manifestInfo.availableFrom.getTime()/1e3+t.range.start):0}function se(){var e;p&&_.resetDownloads(),!h&&t&&(h=!0,d.info("Streaming Initialized"),e=re(),D=D||(0,pe.default)(o).getInstance(),T.setConfig({domStorage:H}),D.setConfig({capabilities:R,manifestLoader:e,manifestModel:O,mediaPlayerModel:w,protectionController:b,adapter:A,dashMetrics:M,errHandler:I,timelineConverter:E,videoModel:x,playbackController:N,abrController:y,mediaController:T,textController:P,settings:s,baseURLController:C}),N.setConfig({streamController:D,dashMetrics:M,mediaPlayerModel:w,adapter:A,videoModel:x,timelineConverter:E,uriFragmentModel:j,settings:s}),y.setConfig({streamController:D,domStorage:H,mediaPlayerModel:w,dashMetrics:M,adapter:A,videoModel:x,settings:s}),y.createAbrRulesCollection(),P.setConfig({errHandler:I,manifestModel:O,adapter:A,mediaController:T,streamController:D,videoModel:x}),U.setConfig({abrController:y,dashMetrics:M,playbackController:N}),D.initialize(m,c),U.initialize(),"string"==typeof t?D.load(t):D.loadWithManifest(t)),!g&&K()&&(g=!0,d.info("Playback Initialized"))}return u={initialize:function(e,t,n){R=R||(0,ve.default)(o).getInstance(),I=(0,ye.default)(o).getInstance(),R.supportsMediaSource()?f||(f=!0,E=(0,$e.default)(o).getInstance(),y||(y=(0,we.default)(o).getInstance()).setConfig({settings:s}),v=v||(0,Ie.default)(o).getInstance(),N=N||(0,fe.default)(o).getInstance(),T=T||(0,he.default)(o).getInstance(),A=(0,Ke.default)(o).getInstance(),O=(0,Se.default)(o).getInstance(),U=(0,Re.default)(o).getInstance(),M=(0,qe.default)(o).getInstance({settings:s}),P=(0,Te.default)(o).getInstance(),H=(0,De.default)(o).getInstance({settings:s}),A.setConfig({constants:ue.default,cea608parser:le.default,errHandler:I,BASE64:Le.default}),(C=C||(0,ge.default)(o).create()).setConfig({adapter:A}),(G=(0,Ge.default)(o).getInstance({dashMetrics:M,mediaPlayerModel:w,errHandler:I,baseURLController:C,events:Oe.default,eventBus:a,debug:l,boxParser:(0,Be.default)(o).getInstance(),requestModifier:(0,Ee.default)(o).getInstance(),errors:Me.default})).initialize(),X(),W(void 0===n||n),e&&Z(e),t&&te(t),p||L(),d.info("[dash.js "+q()+"] MediaPlayer has been initialized")):I.error(new ze.default(Me.default.CAPABILITY_MEDIASOURCE_ERROR_CODE,Me.default.CAPABILITY_MEDIASOURCE_ERROR_MESSAGE))},setConfig:function(e){e&&(e.capabilities&&(R=e.capabilities),e.streamController&&(D=e.streamController),e.playbackController&&(N=e.playbackController),e.mediaPlayerModel&&(w=e.mediaPlayerModel),e.abrController&&(y=e.abrController),e.schemeLoaderFactory&&(v=e.schemeLoaderFactory),e.mediaController&&(T=e.mediaController),e.settings)&&(s=e.settings)},on:function(e,t,n){a.on(e,t,n)},off:function(e,t,n){a.off(e,t,n)},extend:function(e,t,n){Pe.default.extend(e,t,n,o)},attachView:Z,attachSource:te,isReady:K,preload:function(){if(x.getElement()||h)return!1;if(!t)throw e;se()},play:function(){if(!g)throw r;(!m||$()&&g)&&N.play()},isPaused:$,pause:function(){if(!g)throw r;N.pause()},isSeeking:function(){if(g)return N.isSeeking();throw r},isDynamic:function(){if(g)return N.getIsDynamic();throw r},seek:function(e){if(!g)throw r;if((0,ke.checkParameterType)(e,"number"),isNaN(e))throw ue.default.BAD_ARGUMENT_ERROR;e=N.getIsDynamic()?Y(e):e;N.seek(e)},setPlaybackRate:function(e){k().playbackRate=e},getPlaybackRate:function(){return k().playbackRate},setMute:function(e){(0,ke.checkParameterType)(e,"boolean"),k().muted=e},isMuted:function(){return k().muted},setVolume:function(e){if("number"!=typeof e||isNaN(e)||e<0||1<e)throw ue.default.BAD_ARGUMENT_ERROR;k().volume=e},getVolume:function(){return k().volume},time:V,duration:z,timeAsUTC:function(){if(g)return V()<0?NaN:ae(V());throw r},durationAsUTC:function(){if(g)return ae(z());throw r},getActiveStream:ne,getDVRWindowSize:function(){var e=M.getCurrentDVRInfo();return e?e.manifestInfo.DVRWindowSize:0},getDVRSeekOffset:Y,convertToTimeCode:function(e){e=Math.max(e,0);var t=Math.floor(e/3600),n=Math.floor(e%3600/60),e=Math.floor(e%3600%60);return(0===t?"":t<10?"0"+t.toString()+":":t.toString()+":")+(n<10?"0"+n.toString():n.toString())+":"+(e<10?"0"+e.toString():e.toString())},formatUTC:function(e,t,n){var i=!(arguments.length<=3||void 0===arguments[3])&&arguments[3],e=new Date(1e3*e),r=e.toLocaleDateString(t),e=e.toLocaleTimeString(t,{hour12:n});return i?e+" "+r:e},getVersion:q,getDebug:function(){return l},getBufferLength:function(e){var t,n=[ue.default.VIDEO,ue.default.AUDIO,ue.default.FRAGMENTED_TEXT];return e?-1===n.indexOf(e)?(d.warn("getBufferLength requested for invalid type"),NaN):(t=M.getCurrentBufferLevel(e))||NaN:(t=n.map(function(e){return 0<ee(e).length?M.getCurrentBufferLevel(e):Number.MAX_VALUE}).reduce(function(e,t){return Math.min(e,t)}))===Number.MAX_VALUE?NaN:t},getTTMLRenderingDiv:function(){return x?x.getTTMLRenderingDiv():null},getVideoElement:k,getSource:function(){if(t)return t;throw e},getCurrentLiveLatency:function(){if(f)return g?N.getCurrentLiveLatency():NaN;throw n},getTopBitrateInfoFor:function(e){if(h)return y.getTopBitrateInfoFor(e);throw i},setAutoPlay:W,getAutoPlay:function(){return m},getDashMetrics:J,getQualityFor:function(e){if(h)return e!==ue.default.IMAGE?y.getQualityFor(e):(e=ne())&&(e=e.getThumbnailController())?e.getCurrentTrackIndex():-1;throw i},setQualityFor:function(e,t){if(!h)throw i;if(e===ue.default.IMAGE){var n=ne();if(!n)return;n=n.getThumbnailController();n&&n.setTrackByIndex(t)}y.setPlaybackQuality(e,D.getActiveStreamInfo(),t)},updatePortalSize:function(){y.setElementSize(),y.setWindowResizeEventCalled(!0)},setTextDefaultLanguage:function(e){(P=void 0===P?(0,Te.default)(o).getInstance():P).setTextDefaultLanguage(e)},getTextDefaultLanguage:function(){return(P=void 0===P?(0,Te.default)(o).getInstance():P).getTextDefaultLanguage()},setTextDefaultEnabled:function(e){(P=void 0===P?(0,Te.default)(o).getInstance():P).setTextDefaultEnabled(e)},getTextDefaultEnabled:function(){return(P=void 0===P?(0,Te.default)(o).getInstance():P).getTextDefaultEnabled()},enableText:function(e){(P=void 0===P?(0,Te.default)(o).getInstance():P).enableText(e)},enableForcedTextStreaming:function(e){(P=void 0===P?(0,Te.default)(o).getInstance():P).enableForcedTextStreaming(e)},isTextEnabled:function(){return(P=void 0===P?(0,Te.default)(o).getInstance():P).isTextEnabled()},setTextTrack:function(e){if(!g)throw r;(P=void 0===P?(0,Te.default)(o).getInstance():P).setTextTrack(e)},getBitrateInfoListFor:function(e){var t;if(h)return(t=ne())?t.getBitrateListFor(e):[];throw i},getStreamsFromManifest:function(e){if(h)return A.getStreamsInfo(e);throw i},getTracksFor:ee,getTracksForTypeFromManifest:function(e,t,n){if(h)return(n=n||A.getStreamsInfo(t,1)[0])?A.getAllMediaInfoForType(n,e,t):[];throw i},getCurrentTrackFor:function(e){var t;if(h)return t=D.getActiveStreamInfo(),T.getCurrentTrackFor(e,t);throw i},setInitialMediaSettingsFor:function(e,t){if(!f)throw n;T.setInitialSettings(e,t)},getInitialMediaSettingsFor:function(e){if(f)return T.getInitialSettings(e);throw n},setCurrentTrack:function(e){if(!h)throw i;T.setTrack(e)},getTrackSwitchModeFor:function(e){if(f)return T.getSwitchMode(e);throw n},setTrackSwitchModeFor:function(e,t){if(!f)throw n;T.setSwitchMode(e,t)},setSelectionModeForInitialTrack:function(e){if(!f)throw n;T.setSelectionModeForInitialTrack(e)},getSelectionModeForInitialTrack:function(){if(f)return T.getSelectionModeForInitialTrack();throw n},addABRCustomRule:function(e,t,n){w.addABRCustomRule(e,t,n)},removeABRCustomRule:function(e){w.removeABRCustomRule(e)},removeAllABRCustomRule:function(){w.removeABRCustomRule()},getAverageThroughput:function(e){var t=y.getThroughputHistory();return t?t.getAverageThroughput(e):0},retrieveManifest:function(e,n){var i=re(),r=this;a.on(Oe.default.INTERNAL_MANIFEST_LOADED,function e(t){t.error?n(null,t.error):n(t.manifest),a.off(Oe.default.INTERNAL_MANIFEST_LOADED,e,r),i.reset()},r),j.initialize(e),i.load(e)},addUTCTimingSource:function(e,t){w.addUTCTimingSource(e,t)},removeUTCTimingSource:function(e,t){w.removeUTCTimingSource(e,t)},clearDefaultUTCTimingSources:function(){w.clearDefaultUTCTimingSources()},restoreDefaultUTCTimingSources:X,setXHRWithCredentialsForType:function(e,t){w.setXHRWithCredentialsForType(e,t)},getXHRWithCredentialsForType:function(e){return w.getXHRWithCredentialsForType(e)},getProtectionController:oe,attachProtectionController:function(e){b=e},setProtectionData:function(e){c=e,D&&D.setProtectionData(c)},displayCaptionsOnTop:function(e){var t=(0,_e.default)(o).getInstance();t.setConfig({videoModel:x}),t.initialize(),t.setDisplayCConTop(e)},attachTTMLRenderingDiv:function(e){if(!x.getElement())throw F;x.setTTMLRenderingDiv(e)},getCurrentTextTrackIndex:function(){var e=NaN;return e=P?P.getCurrentTrackIdx():e},getThumbnail:function(e,t){var n,i;return!(e<0)&&(e=N.getIsDynamic()?Y(e):e,null!==(n=D.getStreamForTime(e)))&&(i=n.getThumbnailController())?(e=D.getTimeRelativeToStreamId(e,n.getId()),i.get(e,t)):null},loadDownloadsFromStorage:function(){return p||L(),_?_.loadDownloadsFromStorage():Promise.reject()},createDownload:function(e){return p||L(),_?_.createDownload(e):Promise.reject()},getDashAdapter:function(){return A},getSettings:function(){return s.get()},updateSettings:function(e){s.update(e)},resetSettings:function(){s.reset()},stopDownload:function(e){p&&_&&_.stopDownload(e)},getAllDownloads:function(){return p||L(),_?_.getAllDownloads():Promise.reject()},deleteDownload:function(e){return p||L(),_?_.deleteDownload(e):Promise.reject()},resumeDownload:function(e){p&&_&&_.resumeDownload(e)},getDownloadProgression:function(e){if(p)return _?_.getDownloadProgression(e):0},startDownload:function(e,t){t&&_&&_.startDownload(e,t)},initDownload:function(e){_&&_.initDownload(e)},reset:function(){te(null),Z(null),c=null,b&&(b.reset(),b=null),S&&(S.reset(),S=null),G.reset(),s.reset(),_&&(_.reset(),p=!1,a.off(dashjs.OfflineController.events.DASH_ELEMENTS_CREATION_NEEDED,Q,u))}},d=l.getLogger(u),m=!(h=g=p=f=!1),G=A=c=_=b=null,Oe.default.extend(xe.default),w=(0,Ae.default)(o).getInstance(),x=(0,Ce.default)(o).getInstance(),j=(0,be.default)(o).getInstance(),u}r.__dashjs_factory_name="MediaPlayer";e=Pe.default.getClassFactory(r);e.events=xe.default,e.errors=Me.default,Pe.default.updateClassFactory(r.__dashjs_factory_name,e),n.default=e,t.exports=n.default},{1:1,101:101,108:108,109:109,111:111,112:112,117:117,119:119,121:121,148:148,149:149,150:150,151:151,153:153,154:154,157:157,2:2,201:201,203:203,207:207,208:208,210:210,213:213,218:218,219:219,221:221,226:226,242:242,45:45,46:46,47:47,48:48,50:50,51:51,54:54,56:56,57:57,58:58,61:61,62:62,63:63,82:82,9:9,97:97,98:98,99:99}],101:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(55);function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");(function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n,i=!1,s=(null===r&&(r=Function.prototype),Object.getOwnPropertyDescriptor(r,o));if(void 0!==s)return"value"in s?s.value:void 0===(s=s.get)?void 0:s.call(a);s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=a,i=!0}})(Object.getPrototypeOf(i.prototype),"constructor",this).call(this),this.AST_IN_FUTURE="astInFuture",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_LOADED="bufferLoaded",this.BUFFER_LEVEL_STATE_CHANGED="bufferStateChanged",this.ERROR="error",this.FRAGMENT_LOADING_COMPLETED="fragmentLoadingCompleted",this.FRAGMENT_LOADING_PROGRESS="fragmentLoadingProgress",this.FRAGMENT_LOADING_STARTED="fragmentLoadingStarted",this.FRAGMENT_LOADING_ABANDONED="fragmentLoadingAbandoned",this.LOG="log",this.MANIFEST_LOADED="manifestLoaded",this.METRICS_CHANGED="metricsChanged",this.METRIC_CHANGED="metricChanged",this.METRIC_ADDED="metricAdded",this.METRIC_UPDATED="metricUpdated",this.PERIOD_SWITCH_COMPLETED="periodSwitchCompleted",this.PERIOD_SWITCH_STARTED="periodSwitchStarted",this.QUALITY_CHANGE_REQUESTED="qualityChangeRequested",this.QUALITY_CHANGE_RENDERED="qualityChangeRendered",this.TRACK_CHANGE_RENDERED="trackChangeRendered",this.SOURCE_INITIALIZED="sourceInitialized",this.STREAM_INITIALIZING="streamInitializing",this.STREAM_INITIALIZED="streamInitialized",this.STREAM_TEARDOWN_COMPLETE="streamTeardownComplete",this.TEXT_TRACKS_ADDED="allTextTracksAdded",this.TEXT_TRACK_ADDED="textTrackAdded",this.TTML_PARSED="ttmlParsed",this.TTML_TO_PARSE="ttmlToParse",this.CAPTION_RENDERED="captionRendered",this.CAPTION_CONTAINER_RESIZE="captionContainerResize",this.CAN_PLAY="canPlay",this.PLAYBACK_ENDED="playbackEnded",this.PLAYBACK_ERROR="playbackError",this.PLAYBACK_NOT_ALLOWED="playbackNotAllowed",this.PLAYBACK_METADATA_LOADED="playbackMetaDataLoaded",this.PLAYBACK_PAUSED="playbackPaused",this.PLAYBACK_PLAYING="playbackPlaying",this.PLAYBACK_PROGRESS="playbackProgress",this.PLAYBACK_RATE_CHANGED="playbackRateChanged",this.PLAYBACK_SEEKED="playbackSeeked",this.PLAYBACK_SEEKING="playbackSeeking",this.PLAYBACK_SEEK_ASKED="playbackSeekAsked",this.PLAYBACK_STALLED="playbackStalled",this.PLAYBACK_STARTED="playbackStarted",this.PLAYBACK_TIME_UPDATED="playbackTimeUpdated",this.PLAYBACK_WAITING="playbackWaiting",this.MANIFEST_VALIDITY_CHANGED="manifestValidityChanged"}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,(e&&e.__esModule?e:{default:e}).default);e=new i;n.default=e,t.exports=n.default},{55:55}],102:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s,o,e=e(100),a=e&&e.__esModule?e:{default:e},i=(s="application/dash+xml",{create:l,createAll:function(e,t){var n=[];e=e||"[data-dashjs-player]";for(var i=(t=t||document).querySelectorAll(e),r=0;r<i.length;r++){var o=l(i[r],null);n.push(o)}for(var a=t.querySelectorAll('source[type="'+s+'"]'),r=0;r<a.length;r++)o=l(function(e){for(var t=!0;t;){var n=e;if(t=!1,/^VIDEO$/i.test(n.nodeName))return n;e=n.parentNode,t=!0}}(a[r]),null),n.push(o);return n}});function l(e,t,n){if(!e||!/^VIDEO$/i.test(e.nodeName))return null;if(e._dashjs_player)return e._dashjs_player;var i=void 0,r=e.id||e.name||"video element";if(!(t=t||[].slice.call(e.querySelectorAll("source")).filter(function(e){return e.type==s})[0])&&e.src)(t=document.createElement("source")).src=e.src;else if(!t&&!e.src)return null;return(i=(0,a.default)(n=n||{}).create()).initialize(e,t.src,e.autoplay),(o=o||i.getDebug().getLogger()).debug("Converted "+r+" to dash.js player and added content: "+t.src),e._dashjs_player=i}var r=o=void 0;"undefined"!=typeof window&&window&&window.dashjs&&window.dashjs.skipAutoCreate||"undefined"==typeof window||!window||!window.addEventListener||("complete"===window.document.readyState?window.dashjs?i.createAll():r=window.setInterval(function(){window.dashjs&&(window.clearInterval(r),i.createAll())},500):window.addEventListener("load",function e(){window.removeEventListener("load",e),i.createAll()})),n.default=i,t.exports=n.default},{100:100}],103:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(45)),e=i(e(47));function o(e){var t=this.context,n=void 0,o=void 0,a=[],i=e;function s(t,n){a=a.filter(function(e){return!((isNaN(n)||e.start<n)&&(isNaN(t)||e.end>t))})}return e={getAllBufferRanges:function(){for(var t=[],e=0;e<a.length;e++){var n=a[e];0===t.length||n.start>t[t.length-1].end?t.push({start:n.start,end:n.end}):t[t.length-1].end=n.end}var i={start:function(e){return t[e].start},end:function(e){return t[e].end}};return Object.defineProperty(i,"length",{get:function(){return t.length}}),i},append:function(e){o="InitializationSegment"!==e.segmentType?(a.push(e),a.sort(function(e,t){return e.start-t.start}),null):e,n.debug("PreBufferSink appended chunk s: "+e.start+"; e: "+e.end),i&&i({chunk:e})},remove:s,abort:function(){},discharge:function(e,t){n=e,i=t;var n,i,r=a.filter(function(e){return(isNaN(i)||e.start<i)&&(isNaN(n)||e.end>n)});return o&&(r.push(o),o=null),s(e,t),r},reset:function(){a=[],i=o=null},updateTimestampOffset:function(){},hasDiscontinuitiesAfter:function(){return!1},waitForUpdateEnd:function(e){e()},getBuffer:function(){return this}},n=(0,r.default)(t).getInstance().getLogger(e),e}o.__dashjs_factory_name="PreBufferSink";e=e.default.getClassFactory(o);n.default=e,t.exports=n.default},{45:45,47:47}],104:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var T=i(e(45)),b=i(e(226)),S=i(e(46)),A=i(e(54)),r=i(e(47)),w=i(e(201)),I=i(e(51));function o(r,t,e,n,i){var o=this.context,l=(0,S.default)(o).getInstance(),u=void 0,d=void 0,c=void 0,a=void 0,s=[],f=[],p=e,e=!1!==n;function h(){try{return d.buffered}catch(e){return u.error("getAllBufferRanges exception: "+e.message),null}}function g(){var e;0<s.length&&(e=s.shift(),d.updating?_(e):(e(),g()))}function m(){d.updating||g()}function y(){d.updating||g()}function v(){u.error("SourceBufferSink error",t.type)}function _(e){s.push(e),d.updating||g()}n={getAllBufferRanges:h,getBuffer:function(){return d},append:function(e){e?(f.push(e),c||_(function r(){var e=this,o=this;if(0<f.length){function t(){var e,t,n,i=h();e=o,i=i,n=a,(t=s)&&0<t.length&&t.length<i.length&&function(e,t){for(var n=0;n<e.length;n++){var i=Math.round(e.start(n)),r=Math.round(e.end(n));if(r===t.start||i===t.end||t.start>=i&&t.end<=r)return 1}}(t,n)&&l.trigger(A.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:e,from:i.end(i.length-2),to:i.start(i.length-1),unintended:!0}),0<f.length?r.call(this):(c=!1,p&&p({chunk:a}))}c=!0;var a=f[0],s=(f.splice(0,1),[]);try{0===a.bytes.length?t.call(e):(s=h(),d.appendBuffer?d.appendBuffer(a.bytes):d.append(a.bytes,a),_(t.bind(e)))}catch(t){u.fatal('SourceBuffer append failed "'+t+'"'),0<f.length?r():c=!1,p&&p({chunk:a,error:new b.default(t.code,t.message)})}}}.bind(this))):p({chunk:e,error:new b.default(I.default.APPEND_ERROR_CODE,I.default.APPEND_ERROR_MESSAGE)})},remove:function(t,n,e){var i=this;_(function(){try{0<=t&&t<n&&(e||"ended"!==r.readyState)&&d.remove(t,n),_(function(){l.trigger(A.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:i,from:t,to:n,unintended:!1})})}catch(e){l.trigger(A.default.SOURCEBUFFER_REMOVE_COMPLETED,{buffer:i,from:t,to:n,unintended:!1,error:new b.default(e.code,e.message)})}})},abort:function(){try{("open"===r.readyState||d.setTextTrack&&"ended"===r.readyState)&&d.abort()}catch(e){u.error('SourceBuffer append abort failed: "'+e+'"')}f=[]},reset:function(e){if(d){if("function"==typeof d.removeEventListener&&(d.removeEventListener("updateend",y,!1),d.removeEventListener("error",v,!1),d.removeEventListener("abort",v,!1)),clearInterval(a),d.appendWindowEnd=1/0,!e){try{d.getClassName&&"TextSourceBuffer"===d.getClassName()||r.removeSourceBuffer(d)}catch(e){u.error("Failed to remove source buffer from media source.")}d=null}c=!1}f=[],p=null},updateTimestampOffset:function(e){d.timestampOffset===e||isNaN(e)||_(function(){d.timestampOffset=e})},hasDiscontinuitiesAfter:function(e){try{var t=h();if(t&&1<t.length)for(var n=0,i=t.length;n<i;n++)if(0<n&&e<t.start(n)&&t.start(n)>t.end(n-1)+.1)return!0}catch(e){u.error("hasDiscontinuities exception: "+e.message)}return!1},waitForUpdateEnd:_},u=(0,T.default)(o).getInstance().getLogger(n),c=!1;var E=t.codec;try{if(E.match(/application\/mp4;\s*codecs="(stpp|wvtt).*"/i))throw new Error("not really supported");if((d=i||r.addSourceBuffer(E)).changeType&&i&&(u.debug("Doing period transition with changeType"),d.changeType(E)),e&&d&&(d.appendWindowEnd=r.duration),"function"==typeof d.addEventListener)try{d.addEventListener("updateend",y,!1),d.addEventListener("error",v,!1),d.addEventListener("abort",v,!1)}catch(e){a=setInterval(m,50)}else a=setInterval(m,50)}catch(e){if(!t.isText&&-1===E.indexOf('codecs="stpp')&&-1===E.indexOf('codecs="wvtt'))throw e;E=(0,w.default)(o).getInstance();d=E.getTextSourceBuffer()}return n}o.__dashjs_factory_name="SourceBufferSink";e=r.default.getClassFactory(o);n.default=e,t.exports=n.default},{201:201,226:226,45:45,46:46,47:47,51:51,54:54}],105:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var ae=i(e(108)),se=i(e(61)),le=i(e(106)),ue=i(e(115)),de=i(e(116)),ce=i(e(204)),fe=i(e(46)),pe=i(e(54)),he=i(e(45)),ge=i(e(51)),r=i(e(47)),me=i(e(226)),ye=i(e(207)),ve=i(e(221));function o(f){f=f||{};var p=this.context,h=(0,fe.default)(p).getInstance(),t=(0,ve.default)(p).getInstance(),g=f.manifestModel,F=f.mediaPlayerModel,B=f.manifestUpdater,m=f.adapter,r=f.capabilities,y=f.errHandler,U=f.timelineConverter,j=f.dashMetrics,v=f.abrController,_=f.playbackController,E=f.mediaController,T=f.textController,H=f.videoModel,G=f.settings,b=void 0,S=void 0,A=void 0,o=void 0,a=void 0,w=void 0,i=void 0,s=void 0,l=void 0,e=void 0,I=void 0,u=void 0,d=void 0,C=void 0,R=void 0,c=void 0,D=[{codec:"avc1",compatibleCodecs:["avc3"]},{codec:"avc3",compatibleCodecs:["avc1"]}];function K(e){for(var t=A?A.length:0,n=0;n<t;n++)A[n].getFragmentModel().removeExecutedRequestsBeforeTime(V()+Y()),A[n].reset(!1,e);k(a=o=!(A=[])),h.off(pe.default.CURRENT_TRACK_CHANGED,M,b)}function q(){K(),w=null,s=!(i={})}function $(){W(),_&&_.pause(),e&&(e.reset(),e=null),q(),h.off(pe.default.DATA_UPDATE_COMPLETED,te,b),h.off(pe.default.BUFFERING_COMPLETED,ee,b),l&&(h.off(pe.default.KEY_ERROR,n,b),h.off(pe.default.SERVER_CERTIFICATE_UPDATED,n,b),h.off(pe.default.LICENSE_REQUEST_COMPLETE,n,b),h.off(pe.default.KEY_SYSTEM_SELECTED,n,b),h.off(pe.default.KEY_SESSION_CREATED,n,b),h.off(pe.default.KEY_STATUSES_CHANGED,n,b)),k(!1)}function Y(){return w?w.duration:NaN}function V(){return w?w.start:NaN}function z(){return w}function N(){if(!(H&&v&&v.hasOwnProperty("getBitrateList")&&m&&m.hasOwnProperty("getAllMediaInfoForType")&&m.hasOwnProperty("getEventsFor")))throw new Error(ae.default.MISSING_CONFIG_ERROR)}function W(){u&&u.stop()}function n(e){e.error&&(y.error(e.error),S.fatal(e.error.message),$())}function X(e){var t,n=e?e.type:null,i=void 0;if(n===ae.default.MUXED)return S.fatal(i="Multiplexed representations are intentionally not supported, as they are not compliant with the DASH-AVC/264 guidelines"),y.error(new me.default(ge.default.MANIFEST_ERROR_ID_MULTIPLEXED_CODE,i,g.getValue())),0;if(n!==ae.default.TEXT&&n!==ae.default.FRAGMENTED_TEXT&&n!==ae.default.EMBEDDED_TEXT&&n!==ae.default.IMAGE)if(t=e.codec,S.debug(n+" codec: "+t),e.contentProtection&&!r.supportsEncryptedMedia())y.error(new me.default(ge.default.CAPABILITY_MEDIAKEYS_ERROR_CODE,ge.default.CAPABILITY_MEDIAKEYS_ERROR_MESSAGE));else if(!r.supportsCodec(t))return S.error(i=n+"Codec ("+t+") is not supported."),0;return 1}function M(e){var t,n,i,r;w&&e.newMediaInfo.streamInfo.id===w.id&&(t=e.newMediaInfo,n=g.getValue(),m.setCurrentMediaInfo(w.id,t.type,t),i=ne(t))&&(r=_.getTime(),S.info("Stream -  Process track changed at current time "+r),S.debug("Stream -  Update stream controller"),n.refreshManifestOnSwitchTrack?(S.debug("Stream -  Refreshing manifest for switch track"),c=e,B.refreshManifest()):(i.selectMediaInfo(t),t.type!==ae.default.FRAGMENTED_TEXT?(v.updateTopQualityIndex(t),i.switchTrackAsked(),i.getFragmentModel().abortRequests()):(i.getScheduleController().setSeekTarget(r),i.setIndexHandlerTime(r),i.resetIndexHandler())))}function O(e,t){var n=m.getAllMediaInfoForType(w,e),i=null,r=void 0;if(n&&0!==n.length){for(var o=0,a=n.length;o<a;o++)if(i=n[o],e===ae.default.EMBEDDED_TEXT)T.addEmbeddedTrack(i);else{if(!X(i))continue;E.addTrack(i)}if(e!==ae.default.EMBEDDED_TEXT&&0!==E.getTracksFor(e,w).length)if(e===ae.default.IMAGE)I=(0,ce.default)(p).create({adapter:m,baseURLController:f.baseURLController,stream:b,timelineConverter:f.timelineConverter,debug:R,eventBus:h,events:pe.default,dashConstants:se.default});else{(e!==ae.default.FRAGMENTED_TEXT||e===ae.default.FRAGMENTED_TEXT&&T.getTextDefaultEnabled())&&(E.checkInitialMediaSettingsForType(e,w),r=E.getCurrentTrackFor(e,w)),e!==ae.default.FRAGMENTED_TEXT||T.getTextDefaultEnabled()||(r=E.getTracksFor(e,w)[0]),h.trigger(pe.default.STREAM_INITIALIZING,{streamInfo:w,mediaInfo:i});var s=r,l=n,r=t,u=(0,le.default)(p).create({type:s?s.type:null,mimeType:s?s.mimeType:null,timelineConverter:U,adapter:m,manifestModel:g,mediaPlayerModel:F,dashMetrics:f.dashMetrics,baseURLController:f.baseURLController,stream:b,abrController:v,playbackController:_,mediaController:E,streamController:f.streamController,textController:T,errHandler:y,settings:G,boxParser:C});if(u.initialize(r),v.updateTopQualityIndex(s),A.push(u),!s||s.type!==ae.default.TEXT&&s.type!==ae.default.FRAGMENTED_TEXT)u.addMediaInfo(s,!0);else{for(var d=void 0,c=0;c<l.length;c++)l[c].index===s.index&&(d=c),u.addMediaInfo(l[c]);u.selectMediaInfo(l[d])}}}else S.info("No "+e+" data.")}function Q(){u||((u=(0,ue.default)(p).create()).setConfig({manifestUpdater:B,playbackController:_}),J())}function J(){var e=m.getEventsFor(w);u.addInlineEvents(e)}function x(e){var n=m.getAdaptationForType(w?w.index:null,e,w);n&&Array.isArray(n.Representation_asArray)&&(n.Representation_asArray=n.Representation_asArray.filter(function(e,t){return 0===t||(t=m.getCodec(n,t,!0),!!r.supportsCodec(t))||(S.error("[Stream] codec not supported: "+t),!1)}))}function P(){for(var e=A.length,t=i.audio||i.video?new me.default(ge.default.DATA_UPDATE_FAILED_ERROR_CODE,ge.default.DATA_UPDATE_FAILED_ERROR_MESSAGE):null,n=0;n<e;n++)if(A[n].isUpdating()||s)return;if(a){if(l)for(n=0;n<e&&A[n];n++)A[n].getType()!==ae.default.AUDIO&&A[n].getType()!==ae.default.VIDEO&&A[n].getType()!==ae.default.FRAGMENTED_TEXT||l.initializeForMedia(A[n].getMediaInfo());t?y.error(t):h.trigger(pe.default.STREAM_INITIALIZED,{streamInfo:w})}}function Z(e){for(var t={},n=0,i=A.length;n<i;n++){var r=A[n].createBuffer(e);r&&(t[A[n].getType()]=r.getBuffer())}return t}function ee(e){if(e.streamInfo===w){var t=L(),n=t.length;if(0!==n){for(var i=0;i<n;i++)if(!t[i].isBufferingCompleted()&&(t[i].getType()===ae.default.AUDIO||t[i].getType()===ae.default.VIDEO))return void S.warn("onBufferingCompleted - One streamProcessor has finished but",t[i].getType(),"one is not buffering completed");S.debug("onBufferingCompleted - trigger STREAM_BUFFERING_COMPLETED"),h.trigger(pe.default.STREAM_BUFFERING_COMPLETED,{streamInfo:w})}else S.warn("onBufferingCompleted - can't trigger STREAM_BUFFERING_COMPLETED because no streamProcessor is defined")}}function te(e){w&&e.sender.getStreamId()===w.id&&(i[e.sender.getType()]=e.error,P())}function ne(t){return t?L().filter(function(e){return e.getType()===t.type})[0]:null}function L(){for(var e,t=[],n=void 0,i=0;i<A.length;i++)(e=(n=A[i]).getType())!==ae.default.AUDIO&&e!==ae.default.VIDEO&&e!==ae.default.FRAGMENTED_TEXT&&e!==ae.default.TEXT||t.push(n);return t}function ie(e,t){var n;return!(!e||(e=e.getStreamInfo(),n=w,!e)||!n||(e=m.getAdaptationForType(e.index,t,e),t=m.getAdaptationForType(n.index,t,n),e&&t?e.ContentProtection||t.ContentProtection:e||t))}function re(e,t){var n,i,r,o;return!!(e&&e.hasOwnProperty("getStreamInfo")&&(e=e.getStreamInfo(),n=w,e)&&n)&&(e=m.getAdaptationForType(e.index,t,e),t=m.getAdaptationForType(n.index,t,n),e&&t?(n=e&&t&&e.mimeType===t.mimeType,i=t.Representation_asArray.map(function(e){return e.codecs}),r=(o=e.Representation_asArray.map(function(e){return e.codecs})).some(function(e){return-1<i.indexOf(e)}),o=o.some(function(o){return i.some(function(e){for(var t=o,n=e.split(".")[0],e=0===t.indexOf(n),i=void 0,r=0;r<D.length;r++)if(D[r].codec===n){i=D[r];break}return i?e||i.compatibleCodecs.some(function(e){return 0===t.indexOf(e)}):e})}),r||o&&n):!e&&!t)}function k(e){d=e}function oe(){return d}return b={initialize:function(e,t){w=e,(l=t)&&(h.on(pe.default.KEY_ERROR,n,b),h.on(pe.default.SERVER_CERTIFICATE_UPDATED,n,b),h.on(pe.default.LICENSE_REQUEST_COMPLETE,n,b),h.on(pe.default.KEY_SYSTEM_SELECTED,n,b),h.on(pe.default.KEY_SESSION_CREATED,n,b),h.on(pe.default.KEY_STATUSES_CHANGED,n,b))},activate:function(e,t){var n,i;return o?t:(n=void 0,h.on(pe.default.CURRENT_TRACK_CHANGED,M,b),n=d?(s=!0,N(),x(ae.default.VIDEO),x(ae.default.AUDIO),s=!(a=!0),0===A.length?(y.error(new me.default(ge.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,i="No streams to play.",g.getValue())),S.debug(i)):P(),t):(i=e,e=t,N(),t=H.getElement(),Q(),s=!0,x(ae.default.VIDEO),x(ae.default.AUDIO),t&&!/^VIDEO$/i.test(t.nodeName)||O(ae.default.VIDEO,i),O(ae.default.AUDIO,i),O(ae.default.TEXT,i),O(ae.default.FRAGMENTED_TEXT,i),O(ae.default.EMBEDDED_TEXT,i),O(ae.default.MUXED,i),O(ae.default.IMAGE,i),t=Z(e),s=!(a=!0),0===A.length?(y.error(new me.default(ge.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,i="No streams to play.",g.getValue())),S.fatal(i)):P(),t),o=!0,n)},deactivate:K,isActive:function(){return o},getDuration:Y,getStartTime:V,getId:function(){return w?w.id:null},getStreamInfo:z,preload:function(e,t){Q(),O(ae.default.VIDEO,e),O(ae.default.AUDIO,e),O(ae.default.TEXT,e),O(ae.default.FRAGMENTED_TEXT,e),O(ae.default.EMBEDDED_TEXT,e),O(ae.default.MUXED,e),O(ae.default.IMAGE,e),Z(t),h.on(pe.default.CURRENT_TRACK_CHANGED,M,b);for(var n=0;n<A.length&&A[n];n++)A[n].getScheduleController().start();k(!0)},getFragmentController:function(){return e},getThumbnailController:function(){return I},getBitrateListFor:function(e){return N(),e===ae.default.IMAGE?I?I.getBitrateList():[]:(e=function(e){for(var t=null,n=0;n<A.length;n++)if((t=A[n]).getType()===e)return t.getMediaInfo();return null}(e),v.getBitrateList(e))},startEventController:function(){u&&u.start()},stopEventController:W,updateData:function(e){S.info("Manifest updated... updating data system wide."),s=!(o=!1),w=e,u&&J(),x(ae.default.VIDEO),x(ae.default.AUDIO);for(var t=0,n=A.length;t<n;t++){var i=A[t],r=m.getMediaInfoForType(w,i.getType());v.updateTopQualityIndex(r),i.addMediaInfo(r,!0)}if(c&&(r=c.newMediaInfo).type!==ae.default.FRAGMENTED_TEXT){e=ne(c.oldMediaInfo);if(!e)return;e.switchTrackAsked(),c=void 0}s=!1,P()},reset:$,getProcessors:L,setMediaSource:function(e){for(var t,n=0;n<A.length;)X(A[n].getMediaInfo())?(A[n].setMediaSource(e),n++):(A[n].reset(),A.splice(n,1));for(n=0;n<A.length;n++)A[n].dischargePreBuffer();0===A.length&&(y.error(new me.default(ge.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,(t="No streams to play.")+"nostreams",g.getValue())),S.fatal(t))},isMediaCodecCompatible:function(e){return re(e,ae.default.VIDEO)&&re(e,ae.default.AUDIO)},isProtectionCompatible:function(e){return ie(e,ae.default.VIDEO)&&ie(e,ae.default.AUDIO)},getPreloaded:oe,addInbandEvents:function(e){u&&u.addInbandEvents(e)}},R=(0,he.default)(p).getInstance(),S=R.getLogger(b),q(),C=(0,ye.default)(p).getInstance(),e=(0,de.default)(p).create({mediaPlayerModel:F,dashMetrics:j,errHandler:y,settings:G,boxParser:C,dashConstants:se.default,urlUtils:t}),h.on(pe.default.BUFFERING_COMPLETED,ee,b),h.on(pe.default.DATA_UPDATE_COMPLETED,te,b),b}o.__dashjs_factory_name="Stream",n.default=r.default.getClassFactory(o),t.exports=n.default},{106:106,108:108,115:115,116:116,204:204,207:207,221:221,226:226,45:45,46:46,47:47,51:51,54:54,61:61}],106:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var k=i(e(108)),F=i(e(61)),B=i(e(114)),U=i(e(200)),j=i(e(120)),H=i(e(62)),r=i(e(47)),G=e(219),K=i(e(46)),q=i(e(54)),$=i(e(57)),Y=i(e(51)),V=i(e(45)),z=i(e(218)),W=i(e(221));function o(n){n=n||{};var i=this.context,r=(0,K.default)(i).getInstance(),s=n.type,o=n.errHandler,a=n.mimeType,l=n.timelineConverter,u=n.adapter,d=n.manifestModel,c=n.mediaPlayerModel,f=n.stream,p=n.abrController,h=n.playbackController,g=n.streamController,m=n.mediaController,y=n.textController,v=n.dashMetrics,_=n.settings,E=n.boxParser,T=void 0,b=void 0,S=void 0,A=void 0,w=void 0,I=void 0,C=void 0,R=void 0,D=void 0;function e(){R=[]}function N(){S=[],b=null,e()}function M(e){var t=P(),t=t?t.id:null;e.sender.getType()===s&&e.sender.getStreamId()===t&&e.error&&e.error.code===Y.default.SEGMENTS_UPDATE_FAILED_ERROR_CODE&&x()}function O(e){e.sender.getStreamProcessor()!==T||d.getValue().doNotUpdateDVRWindowOnBufferUpdated||x()}function x(){var e=P(),e=e?e.manifestInfo:null,t=e?e.isDynamic:null,t=l.calcSegmentAvailabilityRange(I.getCurrentRepresentation(),t);v.addDVRInfo(s,h.getTime(),e,t)}function t(){return s}function P(){return f?f.getStreamInfo():null}function L(){return b}return T={initialize:function(e){var t;(D=(0,$.default)(i).create({type:s,timelineConverter:l,dashMetrics:v,mediaPlayerModel:c,baseURLController:n.baseURLController,errHandler:o,settings:_,streamInfo:P(),boxParser:E,events:q.default,eventBus:r,errors:Y.default,debug:(0,V.default)(i).getInstance(),requestModifier:(0,z.default)(i).getInstance(),dashConstants:F.default,constants:k.default,urlUtils:(0,W.default)(i).getInstance()})).initialize(h.getIsDynamic()),p.registerStreamType(s,T),(C=f.getFragmentController().getModel(s)).setStreamProcessor(T),A=(t=s)===k.default.VIDEO||t===k.default.AUDIO?(0,B.default)(i).create({type:t,dashMetrics:v,mediaPlayerModel:c,manifestModel:d,errHandler:o,streamController:g,mediaController:m,adapter:u,textController:y,abrController:p,playbackController:h,streamProcessor:T,settings:_}):(0,U.default)(i).create({type:t,mimeType:a,dashMetrics:v,mediaPlayerModel:c,manifestModel:d,errHandler:o,streamController:g,mediaController:m,adapter:u,textController:y,abrController:p,playbackController:h,streamProcessor:T,settings:_}),w=(0,j.default)(i).create({type:s,mimeType:a,adapter:u,dashMetrics:v,timelineConverter:l,mediaPlayerModel:c,abrController:p,playbackController:h,streamController:g,textController:y,streamProcessor:T,mediaController:m,settings:_}),I=(0,H.default)(i).create({abrController:p,dashMetrics:v,playbackController:h,timelineConverter:l,type:s,dashConstants:F.default,streamId:P()?P().id:null,events:q.default,eventBus:r,errors:Y.default}),A.initialize(e),w.initialize()},isUpdating:function(){return!!I&&I.isUpdating()},getType:t,getBufferController:function(){return A},getFragmentModel:function(){return C},getScheduleController:function(){return w},getRepresentationController:function(){return I},getRepresentationInfo:function(e){e=void 0!==e?((0,G.checkInteger)(e),I?I.getRepresentationForQuality(e):null):I?I.getCurrentRepresentation():null;return u.convertDataToRepresentationInfo(e)},getBufferLevel:function(){return A?A.getBufferLevel():0},switchInitData:function(e,t){var n;A&&(n=P(),A.switchInitData(n?n.id:null,e,t))},isBufferingCompleted:function(){return!!A&&A.getIsBufferingCompleted()},createBuffer:function(e){return A.getBuffer()||A.createBuffer(b,e)},getStreamInfo:P,selectMediaInfo:function(e){e===b||e&&b&&e.type!==b.type||(b=e);var t,n,i,r,e=P(),o=u.getRealAdaptation(e,b),a=u.getVoRepresentations(b);I&&(t=I.getData(),e=p.getTopQualityIndexFor(s,e?e.id:null),n=p.getMinAllowedIndexFor(s),r=void 0,r=(i=null)!==t&&t.id==o.id||s===k.default.FRAGMENTED_TEXT?p.getQualityFor(s):(i=p.getThroughputHistory().getAverageThroughput(s)||p.getInitialBitrateFor(s),p.getQualityForBitrate(b,i)),e<(r=void 0!==n&&r<n?n:r)&&(r=e),D.setMimeType(b?b.mimeType:null),I.updateData(o,a,s,r))},addMediaInfo:function(e,t){-1===S.indexOf(e)&&S.push(e),t&&this.selectMediaInfo(e)},switchTrackAsked:function(){w.switchTrackAsked()},getMediaInfoArr:function(){return S},getMediaInfo:L,getMediaSource:function(){return A.getMediaSource()},setMediaSource:function(e){A.setMediaSource(e,b)},dischargePreBuffer:function(){A.dischargePreBuffer()},getBuffer:function(){return A.getBuffer()},setBuffer:function(e){A.setBuffer(e)},registerExternalController:function(e){R.push(e)},unregisterExternalController:function(e){e=R.indexOf(e);-1!==e&&R.splice(e,1)},getExternalControllers:function(){return R},unregisterAllExternalController:e,addInbandEvents:function(e){f&&f.addInbandEvents(e)},setIndexHandlerTime:function(e){D&&D.setCurrentTime(e)},getIndexHandlerTime:function(){return D?D.getCurrentTime():NaN},resetIndexHandler:function(){D&&D.resetIndex()},getInitRequest:function(e){(0,G.checkInteger)(e);e=I?I.getRepresentationForQuality(e):null;return D?D.getInitRequest(b,e):null},getFragmentRequest:function(e,t,n){var i=null;return D&&(e=I&&e?I.getRepresentationForQuality(e.quality):null,i=void 0!==t&&void 0!==n?D.getSegmentRequestForTime(b,e,t,n):D.getNextSegmentRequest(b,e)),i},reset:function(e,t){D.reset(),A&&(A.reset(e,t),A=null),w&&(w.reset(),w=null),I&&(I.reset(),I=null),p&&p.unRegisterStreamType(s),R.forEach(function(e){e.reset()}),r.off(q.default.BUFFER_LEVEL_UPDATED,O,T),r.off(q.default.DATA_UPDATE_COMPLETED,M,T),N(),f=s=null}},N(),r.on(q.default.BUFFER_LEVEL_UPDATED,O,T),r.on(q.default.DATA_UPDATE_COMPLETED,M,T),T}o.__dashjs_factory_name="StreamProcessor",n.default=r.default.getClassFactory(o),t.exports=n.default},{108:108,114:114,120:120,200:200,218:218,219:219,221:221,45:45,46:46,47:47,51:51,54:54,57:57,61:61,62:62}],107:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var s=i(e(226)),r=i(e(158)),l=e(242),u=i(e(233)),d=i(e(46)),c=i(e(54)),o=i(e(47)),f=i(e(51));function a(e){e=e||{};var t=this.context,o=(0,d.default)(t).getInstance(),a=(0,r.default)(t).create({errHandler:e.errHandler,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,useFetch:e.settings?e.settings.get().streaming.lowLatencyEnabled:null});return{load:function(n,i,r){function t(e,t){i.resolved=!0,i.resolvedContent=e||null,o.trigger(c.default.XLINK_ELEMENT_LOADED,{element:i,resolveObject:r,error:e||t?null:new s.default(f.default.XLINK_LOADER_LOADING_FAILURE_ERROR_CODE,f.default.XLINK_LOADER_LOADING_FAILURE_ERROR_MESSAGE+n)})}var e;"urn:mpeg:dash:resolve-to-zero:2013"===n?t(null,!0):(e=new u.default(n,l.HTTPRequest.XLINK_EXPANSION_TYPE),a.load({request:e,success:function(e){t(e)},error:function(){t(null)}}))},reset:function(){a&&(a.abort(),a=null)}}}a.__dashjs_factory_name="XlinkLoader",n.default=o.default.getClassFactory(a),t.exports=n.default},{158:158,226:226,233:233,242:242,46:46,47:47,51:51,54:54}],108:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.init()}Object.defineProperty(n,"__esModule",{value:!0});i(r.prototype,[{key:"init",value:function(){this.STREAM="stream",this.VIDEO="video",this.AUDIO="audio",this.TEXT="text",this.FRAGMENTED_TEXT="fragmentedText",this.EMBEDDED_TEXT="embeddedText",this.MUXED="muxed",this.IMAGE="image",this.STPP="stpp",this.TTML="ttml",this.VTT="vtt",this.WVTT="wvtt",this.ABR_STRATEGY_DYNAMIC="abrDynamic",this.ABR_STRATEGY_BOLA="abrBola",this.ABR_STRATEGY_THROUGHPUT="abrThroughput",this.MOVING_AVERAGE_SLIDING_WINDOW="slidingWindow",this.MOVING_AVERAGE_EWMA="ewma",this.BAD_ARGUMENT_ERROR="Invalid Arguments",this.MISSING_CONFIG_ERROR="Missing config parameter(s)",this.LOCATION="Location",this.INITIALIZE="initialize",this.TEXT_SHOWING="showing",this.TEXT_HIDDEN="hidden",this.CC1="CC1",this.CC3="CC3",this.UTF8="utf-8",this.SCHEME_ID_URI="schemeIdUri",this.START_TIME="starttime",this.SERVICE_DESCRIPTION_LL_SCHEME="urn:dvb:dash:lowlatency:scope:2019",this.SUPPLEMENTAL_PROPERTY_LL_SCHEME="urn:dvb:dash:lowlatency:critical:2019",this.XML="XML",this.ARRAY_BUFFER="ArrayBuffer"}}]);var o=new r;n.default=o,t.exports=n.default},{}],109:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.init()}Object.defineProperty(n,"__esModule",{value:!0});i(r.prototype,[{key:"init",value:function(){this.TCP_CONNECTION="TcpList",this.HTTP_REQUEST="HttpList",this.TRACK_SWITCH="RepSwitchList",this.BUFFER_LEVEL="BufferLevel",this.BUFFER_LOADED="bufferLoaded",this.ABANDON_LOAD="abandonload",this.ALLOW_LOAD="allowload",this.BUFFER_EMPTY="bufferStalled",this.BUFFER_STATE="BufferState",this.DVR_INFO="DVRInfo",this.DROPPED_FRAMES="DroppedFrames",this.SCHEDULING_INFO="SchedulingInfo",this.REQUESTS_QUEUE="RequestsQueue",this.MANIFEST_UPDATE="ManifestUpdate",this.MANIFEST_UPDATE_STREAM_INFO="ManifestUpdatePeriodInfo",this.MANIFEST_UPDATE_TRACK_INFO="ManifestUpdateRepresentationInfo",this.PLAY_LIST="PlayList",this.DVB_ERRORS="DVBErrors"}}]);var o=new r;n.default=o,t.exports=n.default},{}],110:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function r(){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.init()}Object.defineProperty(n,"__esModule",{value:!0});i(r.prototype,[{key:"init",value:function(){this.CLEARKEY_KEYSTEM_STRING="org.w3.clearkey",this.WIDEVINE_KEYSTEM_STRING="com.widevine.alpha",this.PLAYREADY_KEYSTEM_STRING="com.microsoft.playready"}}]);var o=new r;n.default=o,t.exports=n.default},{}],111:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var G=i(e(189)),K=i(e(108)),q=i(e(109)),$=i(e(225)),Y=i(e(149)),V=i(e(46)),z=i(e(54)),r=i(e(47)),W=i(e(185)),X=i(e(186)),Q=i(e(187)),J=i(e(184)),Z=i(e(188)),ee=i(e(45)),te=e(242),ne=e(219);function o(){var a=this.context,t=(0,ee.default)(a).getInstance(),l=(0,V.default)(a).getInstance(),s=void 0,u=void 0,d=void 0,r=void 0,c=void 0,f=void 0,p=void 0,h=void 0,o=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,E=void 0,T=void 0,b=void 0,S=void 0,A=void 0,w=void 0,I=void 0,C=void 0,R=void 0;function n(){(d=(0,G.default)(a).create({dashMetrics:C,mediaPlayerModel:E,settings:R})).initialize()}function e(){c={},f={},h={},p={},S={},I={},void 0===g&&(g=!1),w=A=b=void 0,clearTimeout(o),o=null}function i(e){e.mediaType===K.default.VIDEO&&(b=e.oldQuality,A.push(b,_.getPlaybackQuality()))}function D(e){var t,n,i;e.metric!==q.default.HTTP_REQUEST||!e.value||e.value.type!==te.HTTPRequest.MEDIA_SEGMENT_TYPE||e.mediaType!==K.default.AUDIO&&e.mediaType!==K.default.VIDEO||w.push(e.mediaType,e.value,R.get().streaming.abr.useDeadTimeLatency),e.metric!==q.default.BUFFER_LEVEL||e.mediaType!==K.default.AUDIO&&e.mediaType!==K.default.VIDEO||(t=e.mediaType,e=.001*e.value.level,(i=R.get().streaming.abr.ABRStrategy)===K.default.ABR_STRATEGY_BOLA?I[t]=!0:i===K.default.ABR_STRATEGY_THROUGHPUT?I[t]=!1:(i=E.getStableBufferTime(),n=I[t],(I[t]=i=(n?.5*i:i)<e)!==n&&(i?u.info("["+t+"] switching from throughput to buffer occupancy ABR rule (buffer: "+e.toFixed(3)+")."):u.info("["+t+"] switching from buffer occupancy to throughput ABR rule (buffer: "+e.toFixed(3)+")."))))}function N(e,t){c[t]=c[t]||{},c[t].hasOwnProperty(e)||(c[t][e]=0);r=function(e,t,n){t=R.get().streaming.abr.maxRepresentationRatio[t];return isNaN(t)||1<=t||t<0?e:Math.min(e,Math.round(n*t))}((n=c[t][e],o=n,o=p[i=e]&&(void 0!==(r=O(i))&&(o=Math.max(n,r)),void 0!==(n=M(i)))?Math.min(o,n):o),e,c[t][e]),i=e;if(i!==K.default.VIDEO||!R.get().streaming.abr.limitBitrateByPortal||!p[i])return r;g||k();var n,i,r,o,a=v.getAdaptationForType(0,i).Representation,s=r;if(0<m&&0<y){for(;0<s&&a[s]&&m<a[s].width&&m-a[s-1].width<a[s].width-m;)--s;for(;s<a.length-1&&a[s].width===a[s+1].width;)s+=1}return s}function M(e){t=e;var t=R.get().streaming.abr.maxBitrate[t];return-1<t?x(p[e].getMediaInfo(),t):void 0}function O(e){n=e;var t,n=R.get().streaming.abr.minBitrate[n];if(-1<n)return(t=P(e=p[e].getMediaInfo()))[e=x(e,n)]&&e<t.length-1&&t[e].bitrate<1e3*n&&e++,e}function F(e,t,n,i){var t=t.id,r=L(e),t=((0,ne.checkInteger)(n),N(e,t));n!==r&&0<=n&&n<=t&&B(e,r,n,t,i)}function B(e,t,n,i,r){var o,a,s;e&&p[e]&&(a=(o=p[e].getStreamInfo())?o.id:null,R.get().debug.logLevel===ee.default.LOG_LEVEL_DEBUG&&(s=C.getCurrentBufferLevel(e),u.info("["+e+"] switch from "+t+" to "+n+"/"+i+" (buffer: "+s+") "+(r?JSON.stringify(r):"."))),i=e,s=n,f[a=a]=f[a]||{},f[a][i]=s,l.trigger(z.default.QUALITY_CHANGE_REQUESTED,{mediaType:e,streamInfo:o,oldQuality:t,newQuality:n,reason:r}),a=w.getAverageThroughput(e),isNaN(a)||T.setSavedBitrateSettings(e,a))}function U(e,t){h[e].state=t}function x(e,t,n){var i=e&&e.type?p[e.type].getRepresentationInfo():null;if(R.get().streaming.abr.useDeadTimeLatency&&n&&i&&i.fragmentDuration){i=i.fragmentDuration;if(i<(n/=1e3))return 0;t*=1-n/i}for(var r=P(e),o=r.length-1;0<=o;o--)if(1e3*t>=r[o].bitrate)return o;return 0}function P(e){var t=[];if(e&&e.bitrateList)for(var n=e.bitrateList,i=e.type,r=void 0,o=0,a=n.length;o<a;o++)(r=new $.default).mediaType=i,r.qualityIndex=o,r.bitrate=n[o].bandwidth,r.width=n[o].width,r.height=n[o].height,r.scanType=n[o].scanType,t.push(r);return t}function j(e){return I[e]}function L(e){if(e&&p[e]){var t=p[e].getStreamInfo(),t=t?t.id:null;if(t)return f[t]=f[t]||{},f[t].hasOwnProperty(e)||(f[t][e]=0),f[t][e]}return 0}function k(){var e;_&&(e=R.get().streaming.abr.usePixelRatioInLimitBitrateByPortal&&window.hasOwnProperty("devicePixelRatio")?window.devicePixelRatio:1,m=_.getClientWidth()*e,y=_.getClientHeight()*e)}function H(e){var t,n,i=e.request.mediaType;R.get().streaming.abr.autoSwitchBitrate[i]&&(n=p[i])&&(t=(0,W.default)(a).create({abrController:s,streamProcessor:n,currentRequest:e.request,useBufferOccupancyABR:j(i)}),(t=d.shouldAbandonFragment(t)).quality>X.default.NO_CHANGE)&&(n=n.getFragmentModel()).getRequests({state:Y.default.FRAGMENT_MODEL_LOADING,index:e.request.index})[0]&&(n.abortRequests(),U(i,q.default.ABANDON_LOAD),S[i].reset(),S[i].push({oldValue:L(i),newValue:t.quality,confidence:1,reason:t.reason}),F(i,r.getActiveStreamInfo(),t.quality,t.reason),clearTimeout(o),o=setTimeout(function(){U(i,q.default.ALLOW_LOAD),o=null},R.get().streaming.abandonLoadTimeout))}return s={isPlayingAtTopQuality:function(e){var e=e?e.id:null,t=L(K.default.AUDIO),n=L(K.default.VIDEO);return t===N(K.default.AUDIO,e)&&n===N(K.default.VIDEO,e)},updateTopQualityIndex:function(e){var t=e.type,n=e.streamInfo.id,e=e.representationCount-1,i=e;return c[n=n]=c[n]||{},c[n][t]=i,e},getThroughputHistory:function(){return w},getBitrateList:P,getQualityForBitrate:x,getTopBitrateInfoFor:function(e){if(e&&p&&p[e]){var t=p[e].getStreamInfo();if(t&&t.id)return t=N(e,t.id),P(p[e].getMediaInfo())[t]||null}return null},getMaxAllowedIndexFor:M,getMinAllowedIndexFor:O,getInitialBitrateFor:function(e){var t,n,i,r;if(T&&T.hasOwnProperty("getSavedBitrateSettings"))return e===K.default.TEXT||e===K.default.FRAGMENTED_TEXT?NaN:(t=T.getSavedBitrateSettings(e),r=R.get().streaming.abr.initialBitrate[e],n=R.get().streaming.abr.initialRepresentationRatio[e],-1===r?-1<n?(i=v.getAdaptationForType(0,e).Representation,Array.isArray(i)?i[Math.max(Math.round(i.length*n)-1,0)].bandwidth:0):isNaN(t)?e===K.default.VIDEO?1e3:100:t:r);throw new Error(K.default.MISSING_CONFIG_ERROR)},getQualityFor:L,getAbandonmentStateFor:function(e){return h[e]?h[e].state:null},setPlaybackQuality:F,checkPlaybackQuality:function(e){var t,n,i,r,o;e&&p&&p[e]&&(n=(n=p[e].getStreamInfo())?n.id:null,t=L(e),i=(0,W.default)(a).create({abrController:s,streamProcessor:p[e],currentValue:t,switchHistory:S[e],droppedFramesHistory:A,useBufferOccupancyABR:j(e)}),A&&(o=_.getPlaybackQuality())&&A.push(b,o),R.get().streaming.abr.autoSwitchBitrate[e])&&(o=O(e),n=N(e,n),r=(i=d.getMaxQuality(i)).quality,void 0!==o&&(r>X.default.NO_CHANGE?r:t)<o&&(r=o),S[e].push({oldValue:t,newValue:r=n<r?n:r}),r>X.default.NO_CHANGE&&r!=t?(h[e].state===q.default.ALLOW_LOAD||t<r)&&B(e,t,r,n,i.reason):R.get().debug.logLevel===ee.default.LOG_LEVEL_DEBUG&&(o=C.getCurrentBufferLevel(e),u.debug("["+e+"] stay on "+t+"/"+n+" (buffer: "+o+")")))},getTopQualityIndexFor:N,setElementSize:k,setWindowResizeEventCalled:function(e){g=e},createAbrRulesCollection:n,registerStreamType:function(e,t){S[e]=S[e]||(0,Q.default)(a).create(),p[e]=t,h[e]=h[e]||{},h[e].state=q.default.ALLOW_LOAD,I[e]=!1,l.on(z.default.LOADING_PROGRESS,H,this),e==K.default.VIDEO&&(l.on(z.default.QUALITY_CHANGE_RENDERED,i,this),A=A||(0,J.default)(a).create(),k()),l.on(z.default.METRIC_ADDED,D,this),l.on(z.default.PERIOD_SWITCH_COMPLETED,n,this),w=w||(0,Z.default)(a).create({settings:R})},unRegisterStreamType:function(e){delete p[e]},setConfig:function(e){e&&(e.streamController&&(r=e.streamController),e.domStorage&&(T=e.domStorage),e.mediaPlayerModel&&(E=e.mediaPlayerModel),e.dashMetrics&&(C=e.dashMetrics),e.adapter&&(v=e.adapter),e.videoModel&&(_=e.videoModel),e.settings)&&(R=e.settings)},reset:function(){e(),l.off(z.default.LOADING_PROGRESS,H,this),l.off(z.default.QUALITY_CHANGE_RENDERED,i,this),l.off(z.default.METRIC_ADDED,D,this),l.off(z.default.PERIOD_SWITCH_COMPLETED,n,this),d&&d.reset()}},u=t.getLogger(s),e(),s}o.__dashjs_factory_name="AbrController";e=r.default.getSingletonFactory(o);e.QUALITY_DEFAULT=0,r.default.updateSingletonFactory(o.__dashjs_factory_name,e),n.default=e,t.exports=n.default},{108:108,109:109,149:149,184:184,185:185,186:186,187:187,188:188,189:189,219:219,225:225,242:242,45:45,46:46,47:47,54:54}],112:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var s=i(e(147)),l=i(e(206)),u=i(e(221)),d=i(e(85)),r=i(e(47)),c=i(e(46)),f=i(e(54));function o(){var e,t=void 0,n=this.context,i=(0,c.default)(n).getInstance(),r=(0,u.default)(n).getInstance(),o=void 0,a=void 0;return e={reset:function(){o.reset(),a.reset()},initialize:function(e){o.setConfig({adapter:t}),o.update(e=e),a.chooseSelector(t.getIsDVB(e))},resolve:function(e){e=o.getForPath(e).reduce(function(e,t){t=a.select(t);return t?(r.isRelative(t.url)?e.url=r.resolve(t.url,e.url):(e.url=t.url,e.serviceLocation=t.serviceLocation),e.availabilityTimeOffset=t.availabilityTimeOffset,e.availabilityTimeComplete=t.availabilityTimeComplete,e):new d.default},new d.default);if(!r.isRelative(e.url))return e},setConfig:function(e){e.baseURLTreeModel&&(o=e.baseURLTreeModel),e.baseURLSelector&&(a=e.baseURLSelector),e.adapter&&(t=e.adapter)}},o=(0,s.default)(n).create(),a=(0,l.default)(n).create(),i.on(f.default.SERVICE_LOCATION_BLACKLIST_CHANGED,function(e){o.invalidateSelectedIndexes(e.entry)},e),e}o.__dashjs_factory_name="BaseURLController",n.default=r.default.getClassFactory(o),t.exports=n.default},{147:147,206:206,221:221,46:46,47:47,54:54,85:85}],113:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),s=i(e(46));function o(e){e=e||{};var t=[],n=(0,s.default)(this.context).getInstance(),i=e.updateEventName,r=e.addBlacklistEventName;function o(e){-1===t.indexOf(e)&&(t.push(e),n.trigger(i,{entry:e}))}function a(e){o(e.entry)}return function(){r&&n.on(r,a,this)}(),{add:o,contains:function(e){return!!(t.length&&e&&e.length)&&-1!==t.indexOf(e)},reset:function(){t=[]}}}o.__dashjs_factory_name="BlackListController",n.default=r.default.getClassFactory(o),t.exports=n.default},{46:46,47:47}],114:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var ge=i(e(108)),me=i(e(109)),ye=i(e(149)),ve=i(e(104)),_e=i(e(103)),Ee=i(e(111)),Te=i(e(117)),be=i(e(46)),Se=i(e(54)),Ae=i(e(207)),r=i(e(47)),we=i(e(45)),Ie=i(e(214)),Ce=i(e(226)),Re=i(e(51)),De=e(242),Ne="BufferController";function o(e){e=e||{};var f=this.context,i=(0,be.default)(f).getInstance(),k=e.dashMetrics,F=e.errHandler,B=e.streamController,U=e.mediaController,p=e.adapter,j=e.textController,H=e.abrController,s=e.playbackController,l=e.type,u=e.streamProcessor,d=e.settings,r=void 0,c=void 0,n=void 0,o=void 0,a=void 0,h=void 0,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0,E=void 0,T=void 0,b=void 0,S=void 0,A=void 0,w=void 0,I=void 0,C=void 0,R=void 0,D=void 0,N=void 0;function G(e,t){if(!w||!e||!u)return null;if(g)try{"function"==typeof(v=t&&t[l]?(0,ve.default)(f).create(g,e,O.bind(this),d.get().streaming.useAppendWindowEnd,t[l]):(0,ve.default)(f).create(g,e,O.bind(this),d.get().streaming.useAppendWindowEnd)).getBuffer().initialize&&v.getBuffer().initialize(l,u)}catch(e){c.fatal("Caught error on create SourceBuffer: "+e),F.error(new Ce.default(Re.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,Re.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+l))}else v=(0,_e.default)(f).create(O.bind(this));return re(u.getRepresentationInfo(n).MSETimeOffset),v}function K(e){e.fragmentModel===u.getFragmentModel()&&(c.info("Init fragment finished loading saving to",l+"'s init cache"),w.save(e.chunk),c.debug("Append Init fragment",l," with representationId:",e.chunk.representationId," and quality:",e.chunk.quality,", data size:",e.chunk.bytes.byteLength),M(e.chunk))}function q(e){var t,n,i,r,o;e.fragmentModel===u.getFragmentModel()&&(o=(e=e.chunk).bytes,t=e.quality,i=u.getRepresentationInfo(t),r=(r=u.getRepresentationController())&&i?r.getRepresentationForQuality(i.quality):null,n=p.getEventsFor(i.mediaInfo),i=p.getEventsFor(i,r),(n&&0<n.length||i&&0<i.length)&&(r=function(e,t,n,i){for(var r=Math.max(!t||isNaN(t.startTime)?0:t.startTime,0),o=[],a=[],s=n.concat(i),l=0,u=s.length;l<u;l++)o[s[l].schemeIdUri+"/"+s[l].value]=s[l];for(var d=(0,Ae.default)(f).getInstance().parse(e).getBoxes("emsg"),l=0,u=d.length;l<u;l++){var c=p.getEvent(d[l],o,r);c&&a.push(c)}return a}(o,u.getFragmentModel().getRequests({state:ye.default.FRAGMENT_MODEL_EXECUTED,quality:t,index:e.index})[0],n,i),u.addInbandEvents(r)),D?(N=e,(o=v&&v.getAllBufferRanges())&&0<o.length&&.5<s.getTimeToStreamEnd()&&(c.debug("Clearing buffer because track changed - "+(o.end(o.length-1)+.5)),L([{start:0,end:o.end(o.length-1)+.5,force:!0}]))):M(e))}function M(e){v.append(e),e.mediaInfo.type===ge.default.VIDEO&&i.trigger(Se.default.VIDEO_CHUNK_RECEIVED,{chunk:e})}function $(e){if(e&&0<e.length)for(var t=0,n=e.length;t<n;t++)c.debug("Buffered Range",e.start(t)," - ",e.end(t)," currentTime = ",s.getTime())}function O(e){var t,n;e.error?(22===e.error.code&&(A=!0,h=.8*fe(),c.warn("Quota exceeded, Critical Buffer: "+h),0<h)&&(n=Math.max(.2*h,1),t=h-n,n={streaming:{bufferToKeep:parseFloat(n.toFixed(5)),bufferAheadToKeep:parseFloat(t.toFixed(5))}},d.update(n)),22!==e.error.code&&pe()||(c.warn("Clearing playback buffer to overcome quota exceed situation"),i.trigger(Se.default.QUOTA_EXCEEDED,{sender:r,criticalBufferLevel:h}),W())):(A=!1,(T=e.chunk)&&!isNaN(T.index)&&(m=Math.max(T.index,m),ee()),t=v.getAllBufferRanges(),T.segmentType===De.HTTPRequest.MEDIA_SEGMENT_TYPE?($(t),x()):D&&(n=s.getTime(),c.debug("AppendToBuffer seek target should be "+n),u.getScheduleController().setSeekTarget(n),u.setIndexHandlerTime(n)),e={sender:r,quality:T.quality,startTime:T.start,index:T.index,bufferedRanges:t},T&&!T.endFragment?i.trigger(Se.default.BYTES_APPENDED,e):T&&i.trigger(Se.default.BYTES_APPENDED_END_FRAGMENT,e))}function Y(e){n!==e.newQuality&&l===e.mediaType&&u.getStreamInfo().id===e.streamInfo.id&&(re(u.getRepresentationInfo(e.newQuality).MSETimeOffset),n=e.newQuality)}function V(){o&&(o=!(C=!0),y=Number.POSITIVE_INFINITY),(l!==ge.default.FRAGMENTED_TEXT?W:x)()}function z(){de(void 0)}function W(){v.waitForUpdateEnd(function(){i=[],(r=v.getAllBufferRanges())&&0!==r.length&&(t=s.getTime(),e=r.end(r.length-1)+.5,(t=u.getFragmentModel().getRequests({state:ye.default.FRAGMENT_MODEL_EXECUTED,time:t,threshold:.01})[0])?(o={start:0,end:t.startTime-.5},(n=u.getFragmentModel().getRequests({state:ye.default.FRAGMENT_MODEL_EXECUTED,time:t.startTime-t.duration/2,threshold:.01})[0])&&n.startTime!=t.startTime&&(o.end=n.startTime),o.start<o.end&&o.end>r.start(0)&&i.push(o),n={start:t.startTime+t.duration+.5,end:e},(r=u.getFragmentModel().getRequests({state:ye.default.FRAGMENT_MODEL_EXECUTED,time:t.startTime+t.duration+.5,threshold:.01})[0])&&r.startTime!==t.startTime&&(n.start=r.startTime+r.duration+.5),n.start<n.end&&n.start<e&&i.push(n)):(c.debug("getAllRangesWithSafetyFactor - No request found in current time position, removing full buffer 0 -",e),i.push({start:0,end:e})));var e,t,n,i,r,o=i;o&&0!==o.length||x(),L(o)})}function x(){(!D||l===ge.default.FRAGMENTED_TEXT&&j.isTextEnabled())&&(Z(),t())}function X(){P()}function Q(){void 0!==I&&de(void 0),P()}function J(e,t){var n,i,r,o=v.getAllBufferRanges(),a=null,s=null,l=0,u=void 0,d=t||.15;if(null!=o){for(u=0,r=o.length;u<r;u++)if(n=o.start(u),i=o.end(u),null===a)l=Math.abs(n-e),(n<=e&&e<i||l<=d)&&(a=n,s=i);else{if(!((l=n-s)<=d))break;s=i}if(null!==a)return{start:a,end:s}}return null}function Z(){var e,t;s&&(t=s.getTime(),e=(t=I&&(e=v.getAllBufferRanges())&&e.length?Math.max(e.start(0),I):t)||0,a=null===(t=J(e,void 0))?0:t.end-e,i.trigger(Se.default.BUFFER_LEVEL_UPDATED,{sender:r,bufferLevel:a}),P())}function t(){u&&B&&u.getStreamInfo()&&(k.addBufferState(l,E,u.getScheduleController().getBufferTarget()),k.addBufferLevel(l,new Date,1e3*a))}function ee(){y-1<=m&&!o&&void 0===v.discharge&&(o=!0,c.debug("checkIfBufferingCompleted trigger BUFFERING_COMPLETED"),i.trigger(Se.default.BUFFERING_COMPLETED,{sender:r,streamInfo:u.getStreamInfo()}))}function P(){l!==ge.default.AUDIO&&l!==ge.default.VIDEO||(C&&!o&&0<a&&s&&s.getTimeToStreamEnd()-a<.5&&(o=!(C=!1),c.debug("checkIfSufficientBuffer trigger BUFFERING_COMPLETED"),i.trigger(Se.default.BUFFERING_COMPLETED,{sender:r,streamInfo:u.getStreamInfo()})),(!d.get().streaming.lowLatencyEnabled&&a<.5||0===a)&&!o?te(me.default.BUFFER_EMPTY):(o||a>=u.getStreamInfo().manifestInfo.minBufferTime)&&te(me.default.BUFFER_LOADED))}function te(e){E===e||e===me.default.BUFFER_EMPTY&&0===s.getTime()||l===ge.default.FRAGMENTED_TEXT&&!j.isTextEnabled()||(E=e,t(),i.trigger(Se.default.BUFFER_LEVEL_STATE_CHANGED,{sender:r,state:e,mediaType:l,streamInfo:u.getStreamInfo()}),i.trigger(e===me.default.BUFFER_LOADED?Se.default.BUFFER_LOADED:Se.default.BUFFER_EMPTY,{mediaType:l}),c.debug(e===me.default.BUFFER_LOADED?"Got enough buffer to start":"Waiting for more buffer before starting playback"))}function L(e){e&&v&&0!==e.length&&(R.push.apply(R,e),S||ne())}function ne(){var e,t;return 0!==R.length&&v?(e=v.getBuffer())&&e.buffered&&0!==e.buffered.length?(e=R.shift(),c.debug("Removing buffer from:",e.start,"to",e.end),S=!0,(t=s.getTime())<e.end&&(o=!1,m=0,D||(u.getScheduleController().setSeekTarget(t),u.setIndexHandlerTime(t))),void v.remove(e.start,e.end,e.force)):(c.debug("SourceBuffer is empty (or does not exist), halt pruning"),S=!(R=[])):(c.debug("Nothing to prune, halt pruning"),S=!(R=[]))}function ie(e){v===e.buffer&&(c.debug("onRemoved buffer from:",e.from,"to",e.to),$(v.getAllBufferRanges()),0===R.length&&(S=!1),e.unintended&&(c.warn("Detected unintended removal from:",e.from,"to",e.to,"setting index handler time to",e.from),u.setIndexHandlerTime(e.from)),S?ne():(D?(D=!1,N&&M(N)):(c.debug("onRemoved : call updateBufferLevel"),Z(),t()),i.trigger(Se.default.BUFFER_CLEARED,{sender:r,from:e.from,to:e.to,unintended:e.unintended,hasEnoughSpaceToAppend:pe(),quotaExceeded:A})))}function re(e){v&&v.updateTimestampOffset&&v.updateTimestampOffset(e)}function oe(e){e.sender.getType()!==u.getType()||e.sender.getStreamId()!==u.getStreamInfo().id||e.error||re(e.currentRepresentation.MSETimeOffset)}function ae(e){e.fragmentModel===u.getFragmentModel()&&(y=e.request.index,ee())}function se(e){var t=v&&v.getAllBufferRanges();t&&e.newMediaInfo.type===l&&e.newMediaInfo.streamInfo.id===u.getStreamInfo().id&&(c.info("Track change asked"),U.getSwitchMode(l)===Te.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE)&&t&&0<t.length&&.5<s.getTimeToStreamEnd()&&(o=!1,y=Number.POSITIVE_INFINITY)}function le(){++b*(d.get().streaming.wallclockTimeUpdateInterval/1e3)>=d.get().streaming.bufferPruningInterval&&(b=0,v)&&l!==ge.default.FRAGMENTED_TEXT&&!o&&L(function(){var e=[],t=v.getAllBufferRanges();if(t&&0!==t.length){var n=s.getTime(),i={start:Math.max(0,n-d.get().streaming.bufferToKeep),end:n+d.get().streaming.bufferAheadToKeep},r=u.getFragmentModel().getRequests({state:ye.default.FRAGMENT_MODEL_EXECUTED,time:n,threshold:.01})[0];if(r)i.start=Math.min(r.startTime,i.start),i.end=Math.max(r.startTime+r.duration,i.end);else if(0===n&&s.getIsDynamic())return[];if(t.start(0)<=i.start){for(var o={start:0,end:i.start},a=0;a<t.length&&t.end(a)<=i.start;a++)o.end=t.end(a);o.start<o.end&&e.push(o)}t.end(t.length-1)>=i.end&&(r={start:i.end,end:t.end(t.length-1)+.01}).start<r.end&&e.push(r)}return e}())}function ue(){P()}function de(e){I=e}function ce(e,t){g=e,v&&t&&"function"==typeof v.discharge&&(_=v,G(t))}function fe(){var e,t=v.getAllBufferRanges(),n=0,i=void 0;if(t)for(i=0,e=t.length;i<e;i++)n+=t.end(i)-t.start(i);return n}function pe(){return fe()<h}function he(e,t){h=Number.POSITIVE_INFINITY,E=void 0,n=Ee.default.QUALITY_DEFAULT,y=Number.POSITIVE_INFINITY,T=null,C=A=S=o=!1,b=a=m=0,R=[],v&&(e||v.abort(),v.reset(t),v=null),D=!1}return r={getBufferControllerType:function(){return Ne},initialize:function(e){ce(e),n=H.getQualityFor(l),i.on(Se.default.DATA_UPDATE_COMPLETED,oe,this),i.on(Se.default.INIT_FRAGMENT_LOADED,K,this),i.on(Se.default.MEDIA_FRAGMENT_LOADED,q,this),i.on(Se.default.QUALITY_CHANGE_REQUESTED,Y,this),i.on(Se.default.STREAM_COMPLETED,ae,this),i.on(Se.default.PLAYBACK_PLAYING,Q,this),i.on(Se.default.PLAYBACK_PROGRESS,x,this),i.on(Se.default.PLAYBACK_TIME_UPDATED,x,this),i.on(Se.default.PLAYBACK_RATE_CHANGED,ue,this),i.on(Se.default.PLAYBACK_SEEKING,V,this),i.on(Se.default.PLAYBACK_SEEKED,z,this),i.on(Se.default.PLAYBACK_STALLED,X,this),i.on(Se.default.WALLCLOCK_TIME_UPDATED,le,this),i.on(Se.default.CURRENT_TRACK_CHANGED,se,this,be.default.EVENT_PRIORITY_HIGH),i.on(Se.default.SOURCEBUFFER_REMOVE_COMPLETED,ie,this)},createBuffer:G,dischargePreBuffer:function(){if(v&&_&&"function"==typeof _.discharge){var e=_.getAllBufferRanges();if(0<e.length){for(var t="Beginning "+l+"PreBuffer discharge, adding buffer for:",n=0;n<e.length;n++)t+=" start: "+e.start(n)+", end: "+e.end(n)+";";c.debug(t)}else c.debug("PreBuffer discharge requested, but there were no media segments in the PreBuffer.");for(var i=_.discharge(),r=null,o=0;o<i.length;o++){var a=i[o],s=w.extract(a.streamId,a.representationId);s&&(r!==s&&(v.append(s),r=s),v.append(a))}_.reset(),_=null}},getType:function(){return l},getStreamProcessor:function(){return u},setSeekStartTime:de,getBuffer:function(){return v},setBuffer:function(e){v=e},getBufferLevel:function(){return a},getRangeAt:J,setMediaSource:ce,getMediaSource:function(){return g},getIsBufferingCompleted:function(){return o},switchInitData:function(e,t,n){e=w.extract(e,t);D=!0===n&&n,e?(c.info("Append Init fragment",l," with representationId:",e.representationId," and quality:",e.quality,", data size:",e.bytes.byteLength),M(e)):i.trigger(Se.default.INIT_REQUESTED,{sender:r})},getIsPruningInProgress:function(){return S},reset:function(e,t){i.off(Se.default.DATA_UPDATE_COMPLETED,oe,this),i.off(Se.default.QUALITY_CHANGE_REQUESTED,Y,this),i.off(Se.default.INIT_FRAGMENT_LOADED,K,this),i.off(Se.default.MEDIA_FRAGMENT_LOADED,q,this),i.off(Se.default.STREAM_COMPLETED,ae,this),i.off(Se.default.CURRENT_TRACK_CHANGED,se,this),i.off(Se.default.PLAYBACK_PLAYING,Q,this),i.off(Se.default.PLAYBACK_PROGRESS,x,this),i.off(Se.default.PLAYBACK_TIME_UPDATED,x,this),i.off(Se.default.PLAYBACK_RATE_CHANGED,ue,this),i.off(Se.default.PLAYBACK_SEEKING,V,this),i.off(Se.default.PLAYBACK_SEEKED,z,this),i.off(Se.default.PLAYBACK_STALLED,X,this),i.off(Se.default.WALLCLOCK_TIME_UPDATED,le,this),i.off(Se.default.SOURCEBUFFER_REMOVE_COMPLETED,ie,this),he(e,t)}},c=(0,we.default)(f).getInstance().getLogger(r),w=(0,Ie.default)(f).getInstance(),he(),r}o.__dashjs_factory_name=Ne,n.default=r.default.getClassFactory(o),t.exports=n.default},{103:103,104:104,108:108,109:109,111:111,117:117,149:149,207:207,214:214,226:226,242:242,45:45,46:46,47:47,51:51,54:54}],115:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),b=i(e(45)),S=i(e(46)),A=i(e(54)),w=i(e(159));function o(){var e,u="urn:mpeg:dash:event:2012",d=1,c="urn:mpeg:dash:event:callback:2015",f=1,p=this.context,h=(0,S.default)(p).getInstance(),g=void 0,s=void 0,l=void 0,m=void 0,t=void 0,n=void 0,y=void 0,v=void 0,_=void 0,i=void 0;function r(){i=!1,s={},l={},m={},t=null,n=100,y=Date.now()/1e3}function E(){if(!v||!_)throw new Error("setConfig function has to be called previously")}function o(){null!==t&&i&&(clearInterval(t),t=null,i=!1)}function a(){var e=_.getTime(),t=e-y;if(y=e,t=Math.max(0,t),T(l,t,e),T(s,t,e),m)for(var n=_.getTime(),i=Object.keys(m),r=0;r<i.length;r++){var o=i[r],a=m[o];null!==a&&(a.duration+a.presentationTime)/a.eventStream.timescale<n&&(g.debug("Remove Event "+o+" at time "+n),delete m[o])}}function T(e,t,n){var i,r;if(e)for(var o=Object.keys(e),a=0;a<o.length;a++){var s=o[a],l=e[s];void 0!==l&&(0==(i=l.presentationTime/l.eventStream.timescale)||i<=n&&n<i+t?(g.debug("Start Event "+s+" at "+n),0<l.duration&&(m[s]=l),l.eventStream.schemeIdUri==u&&l.eventStream.value==d?0===l.duration&&0===l.presentationTimeDelta||(E(),v.refreshManifest()):l.eventStream.schemeIdUri==c&&l.eventStream.value==f?(r=l.messageData,(0,w.default)(p).create({}).load({method:"get",url:r,request:{responseType:"arraybuffer"}})):h.trigger(l.eventStream.schemeIdUri,{event:l}),delete e[s]):i<=n-t&&delete e[s])}}return e={addInlineEvents:function(e){if(E(),s={},e)for(var t=0;t<e.length;t++){var n=e[t];s[n.id]=n,g.debug("Add inline event with id "+n.id)}g.debug("Added "+e.length+" inline events")},addInbandEvents:function(e){E();for(var t,n,i,r,o=0;o<e.length;o++){var a=e[o];a.id in l?g.debug("Repeated event with id "+a.id):(a.eventStream.schemeIdUri===u&&void 0===l[a.id]&&(r=i=n=void 0,(t=a).eventStream.value==d&&(n=t.eventStream.timescale||1,i=t.presentationTime/n,r=void 0,r=4294967295==t.presentationTime?NaN:(t.presentationTime+t.duration)/n,g.info("Manifest validity changed: Valid until: "+i+"; remaining duration: "+r),h.trigger(A.default.MANIFEST_VALIDITY_CHANGED,{id:t.id,validUntil:i,newDuration:r,newManifestValidAfter:NaN}))),l[a.id]=a,g.debug("Add inband event with id "+a.id))}},stop:o,start:function(){E(),g.debug("Start Event Controller"),i||isNaN(n)||(i=!0,t=setInterval(a,n))},setConfig:function(e){e&&(e.manifestUpdater&&(v=e.manifestUpdater),e.playbackController)&&(_=e.playbackController)},reset:function(){o(),r()}},g=(0,b.default)(p).getInstance().getLogger(e),r(),e}o.__dashjs_factory_name="EventController",n.default=r.default.getClassFactory(o),t.exports=n.default},{159:159,45:45,46:46,47:47,54:54}],116:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var f=i(e(108)),p=i(e(227)),h=i(e(149)),g=i(e(97)),m=i(e(218)),y=i(e(46)),v=i(e(54)),_=i(e(51)),r=i(e(47)),E=i(e(45));function o(n){n=n||{};var e,i=this.context,l=(0,y.default)(i).getInstance(),r=n.errHandler,o=n.mediaPlayerModel,a=n.dashMetrics,s=(0,E.default)(i).getInstance(),u=void 0,d=void 0;function t(){for(var e in d)d[e].reset();d={}}function c(e){var t,n,i,r,o,a,s;d[e.request.mediaType]===e.sender&&(t=e.request,i=e.response,n=t.isInitializationRequest(),s=t.mediaInfo.streamInfo,!e.error||e.request.mediaType!==f.default.AUDIO&&e.request.mediaType!==f.default.VIDEO&&e.request.mediaType!==f.default.FRAGMENTED_TEXT||l.trigger(v.default.SERVICE_LOCATION_BLACKLIST_ADD,{entry:e.request.serviceLocation}),i&&s?(i=i,r=t,s=s.id,o=e.type!==v.default.FRAGMENT_LOADING_PROGRESS,(a=new p.default).streamId=s,a.mediaInfo=r.mediaInfo,a.segmentType=r.type,a.start=r.startTime,a.duration=r.duration,a.end=a.start+a.duration,a.bytes=i,a.index=r.index,a.quality=r.quality,a.representationId=r.representationId,a.endFragment=o,s=a,l.trigger(n?v.default.INIT_FRAGMENT_LOADED:v.default.MEDIA_FRAGMENT_LOADED,{chunk:s,fragmentModel:e.sender})):u.warn("No "+t.mediaType+" bytes to push or stream is inactive."))}return u=s.getLogger(e={getModel:function(e){var t=d[e];return t||(t=(0,h.default)(i).create({dashMetrics:a,fragmentLoader:(0,g.default)(i).create({dashMetrics:a,mediaPlayerModel:o,errHandler:r,requestModifier:(0,m.default)(i).getInstance(),settings:n.settings,boxParser:n.boxParser,eventBus:l,events:v.default,errors:_.default,dashConstants:n.dashConstants,urlUtils:n.urlUtils}),debug:s,eventBus:l,events:v.default}),d[e]=t),t},reset:function(){l.off(v.default.FRAGMENT_LOADING_COMPLETED,c,this),l.off(v.default.FRAGMENT_LOADING_PROGRESS,c,this),t()}}),t(),l.on(v.default.FRAGMENT_LOADING_COMPLETED,c,e),l.on(v.default.FRAGMENT_LOADING_PROGRESS,c,e),e}o.__dashjs_factory_name="FragmentController",n.default=r.default.getClassFactory(o),t.exports=n.default},{108:108,149:149,218:218,227:227,45:45,46:46,47:47,51:51,54:54,97:97}],117:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var b=i(e(108)),S=i(e(54)),A=i(e(46)),r=i(e(47)),w=i(e(45)),I="neverReplace",C="alwaysReplace",R="highestBitrate",D="widestRange",N=R;function o(){var e,t=this.context,r=(0,A.default)(t).getInstance(),o=void 0,a=void 0,n=void 0,i=void 0,s=void 0,l=void 0,u=[C,I],d=[R,D];function c(e,t){return e&&t&&(t=t.id,a[t])&&a[t][e]?a[t][e].list:[]}function f(e,t){return!e||!t||t&&!a[t.id]?null:a[t.id][e].current}function p(e){var t,n,i;e&&e.streamInfo&&(t=e.type,n=(i=e.streamInfo).id,i=f(t,i),a[n])&&a[n][t]&&!v(e,i)&&(a[n][t].current=e,a[n][t].current&&r.trigger(S.default.CURRENT_TRACK_CHANGED,{oldMediaInfo:i,newMediaInfo:e,switchMode:s[t]}),e=(i={lang:e.lang,viewpoint:e.viewpoint,roles:e.roles,accessibility:e.accessibility,audioChannelConfiguration:e.audioChannelConfiguration}).lang||i.viewpoint||i.role&&0<i.role.length||i.accessibility&&0<i.accessibility.length||i.audioChannelConfiguration&&0<i.audioChannelConfiguration.length?i:null)&&a[n][t].storeLastSettings&&(e.roles&&(e.role=e.roles[0],delete e.roles),e.accessibility&&(e.accessibility=e.accessibility[0]),e.audioChannelConfiguration&&(e.audioChannelConfiguration=e.audioChannelConfiguration[0]),l.setSavedMediaSettings(t,e))}function h(e,t){e&&t&&(n[e]=t)}function g(e){return e?n[e]:null}function m(){return i||N}function y(e){return e===b.default.AUDIO||e===b.default.VIDEO||e===b.default.TEXT||e===b.default.FRAGMENTED_TEXT||e===b.default.IMAGE}function v(e,t){var n,i,r,o,a;return!e&&!t||!(!e||!t)&&(n=e.id===t.id,i=e.viewpoint===t.viewpoint,r=e.lang===t.lang,o=e.roles.toString()===t.roles.toString(),a=e.accessibility.toString()===t.accessibility.toString(),e=e.audioChannelConfiguration.toString()===t.audioChannelConfiguration.toString(),n)&&i&&r&&o&&a&&e}function _(){a={},n={audio:null,video:null},s={audio:C,video:I}}function E(t,e){var n=!t.lang||e.lang.match(t.lang),i=!t.viewpoint||t.viewpoint===e.viewpoint,r=!t.role||!!e.roles.filter(function(e){return e===t.role})[0],o=!t.accessibility||!!e.accessibility.filter(function(e){return e===t.accessibility})[0],e=!t.audioChannelConfiguration||!!e.audioChannelConfiguration.filter(function(e){return e===t.audioChannelConfiguration})[0];return n&&i&&r&&o&&e}function T(e){function t(e){var t,n=0,i=[];return e.forEach(function(e){t=Math.max.apply(Math,e.bitrateList.map(function(e){return e.bandwidth})),n<t?(n=t,i=[e]):t===n&&i.push(e)}),i}function n(e){var t,n=0,i=[];return e.forEach(function(e){t=e.representationCount,n<t?(n=t,i=[e]):t===n&&i.push(e)}),i}var i=m(),r=[];switch(i){case R:1<(r=t(e)).length&&(r=n(r));break;case D:1<(r=n(e)).length&&(r=t(e));break;default:o.warn("Track selection mode is not supported: "+i)}return r[0]}return e={checkInitialMediaSettingsForType:function(e,t){var n=g(e),t=c(e,t),i=[];e!==b.default.FRAGMENTED_TEXT?(n||h(e,n=l.getSavedMediaSettings(e)),t&&0!==t.length&&(n&&t.forEach(function(e){E(n,e)&&i.push(e)}),p(0===i.length?T(t):1<i.length?T(i):i[0]))):p(t[0])},addTrack:function(e){if(e){var t=e.type;if(y(t)){var n=e.streamInfo.id;a[n]||(a[n]={audio:{list:[],storeLastSettings:!0,current:null},video:{list:[],storeLastSettings:!0,current:null},text:{list:[],storeLastSettings:!0,current:null},fragmentedText:{list:[],storeLastSettings:!0,current:null},image:{list:[],storeLastSettings:!0,current:null}});for(var i=a[n][t].list,r=0,o=i.length;r<o;++r)if(v(i[r],e))return;i.push(e);n=g(t);n&&E(n,e)&&!f(t,e.streamInfo)&&p(e)}}},getTracksFor:c,getCurrentTrackFor:f,isCurrentTrack:function(e){var t,n;return!!e&&(t=e.type,n=e.streamInfo.id,a[n])&&a[n][t]&&v(a[n][t].current,e)},setTrack:p,setInitialSettings:h,getInitialSettings:g,setSwitchMode:function(e,t){-1!==u.indexOf(t)?s[e]=t:o.warn("Track switch mode is not supported: "+t)},getSwitchMode:function(e){return s[e]},setSelectionModeForInitialTrack:function(e){-1!==d.indexOf(e)?i=e:o.warn("Track selection mode is not supported: "+e)},getSelectionModeForInitialTrack:m,isMultiTrackSupportedByType:y,isTracksEqual:v,setConfig:function(e){e&&e.domStorage&&(l=e.domStorage)},reset:_},o=(0,w.default)(t).getInstance().getLogger(e),_(),e}o.__dashjs_factory_name="MediaController";e=r.default.getSingletonFactory(o);e.TRACK_SWITCH_MODE_NEVER_REPLACE=I,e.TRACK_SWITCH_MODE_ALWAYS_REPLACE=C,e.TRACK_SELECTION_MODE_HIGHEST_BITRATE=R,e.TRACK_SELECTION_MODE_WIDEST_RANGE=D,e.DEFAULT_INIT_TRACK_SELECTION_MODE=N,r.default.updateSingletonFactory(o.__dashjs_factory_name,e),n.default=e,t.exports=n.default},{108:108,45:45,46:46,47:47,54:54}],118:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),o=i(e(45));function a(){var i=void 0,e=this.context,t={createMediaSource:function(){var e="WebKitMediaSource"in window;return"MediaSource"in window?new MediaSource:e?new WebKitMediaSource:null},attachMediaSource:function(e,t){e=window.URL.createObjectURL(e);return t.setSource(e),e},detachMediaSource:function(e){e.setSource(null)},setDuration:function(e,t){return e.duration!=t&&(e.duration=t),e.duration},setSeekable:function(e,t,n){e&&"function"==typeof e.setLiveSeekableRange&&"function"==typeof e.clearLiveSeekableRange&&"open"===e.readyState&&0<=t&&t<n&&(e.clearLiveSeekableRange(),e.setLiveSeekableRange(t,n))},signalEndOfStream:function(e){if(e&&"open"===e.readyState){for(var t=e.sourceBuffers,n=0;n<t.length;n++){if(t[n].updating)return;if(0===t[n].buffered.length)return}i.info("call to mediaSource endOfStream"),e.endOfStream()}}},i=(0,o.default)(e).getInstance().getLogger(t);return t}a.__dashjs_factory_name="MediaSourceController",n.default=r.default.getSingletonFactory(a),t.exports=n.default},{45:45,47:47}],119:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var ge=i(e(108)),me=i(e(109)),ye=i(e(46)),ve=i(e(54)),r=i(e(47)),_e=i(e(45));function o(){var e,k=this.context,i=(0,ye.default)(k).getInstance(),o=void 0,a=void 0,r=void 0,s=void 0,l=void 0,F=void 0,u=void 0,t=void 0,d=void 0,c=void 0,f=void 0,p=void 0,h=void 0,g=void 0,n=void 0,m=void 0,y=void 0,v=void 0,_=void 0,E=void 0,B=void 0,T=void 0,b=void 0;function U(e){!h&&e.fromStreamInfo&&void 0!==d[e.fromStreamInfo.id]&&(delete f[e.fromStreamInfo.id],delete d[e.fromStreamInfo.id])}function j(){return parseFloat((H()-C()).toFixed(5))}function H(){var e=N(!0),t=h&&p?e-p.start:0;return e+(p?p.duration-t:t)}function G(){p&&l&&l.getElement()?l.play():n=!0}function S(){return p&&l?l.isPaused():null}function A(){p&&l&&l.pause()}function w(){return p&&l?l.isSeeking():null}function I(e,t,n){p&&l&&(!0===n?e!==l.getTime()&&(l.removeEventListener("seeking",x),o.info("Requesting internal seek to time: "+e),l.setCurrentTime(e,t)):(i.trigger(ve.default.PLAYBACK_SEEK_ASKED),p&&(delete f[p.id],delete d[p.id]),o.info("Requesting seek to time: "+e),l.setCurrentTime(e,t)))}function C(){return p&&l?l.getTime():null}function R(){var e,t=C();return h&&!isNaN(y)&&(e=y/1e3)<t&&(t-=e),t}function K(){return p&&l?l.getPlaybackRate():null}function q(){return p&&l?l.getEnded():null}function $(){return h}function D(){var e,t;return!h||isNaN(y)?NaN:(e=R(),isNaN(e)||0===e?0:(t=(new Date).getTime()+1e3*F.getClientTimeOffset(),Math.max(((t-y-1e3*e)/1e3).toFixed(3),0)))}function Y(){u=NaN,n=!1,d={},y=c=0,f={},l&&(i.off(ve.default.DATA_UPDATE_COMPLETED,W,this),i.off(ve.default.BUFFER_LEVEL_STATE_CHANGED,fe,this),i.off(ve.default.BYTES_APPENDED_END_FRAGMENT,de,this),i.off(ve.default.LOADING_PROGRESS,ce,this),i.off(ve.default.PERIOD_SWITCH_STARTED,U,this),i.off(ve.default.PLAYBACK_PROGRESS,L,this),i.off(ve.default.PLAYBACK_TIME_UPDATED,L,this),i.off(ve.default.PLAYBACK_ENDED,ae,this),i.off(ve.default.STREAM_INITIALIZING,he,this),O(),l.removeEventListener("canplay",X),l.removeEventListener("play",Q),l.removeEventListener("waiting",J),l.removeEventListener("playing",Z),l.removeEventListener("pause",ee),l.removeEventListener("error",se),l.removeEventListener("seeking",x),l.removeEventListener("seeked",te),l.removeEventListener("timeupdate",P),l.removeEventListener("progress",ne),l.removeEventListener("ratechange",ie),l.removeEventListener("loadedmetadata",re),l.removeEventListener("stalled",pe),l.removeEventListener("ended",oe)),h=p=l=t=null}function V(){var e,t=T.getURIFragmentData(),n=void 0;return t&&(n={},0<=(e=parseInt(t.r,10))&&p&&e<p.manifestInfo.DVRWindowSize&&null===t.t&&(t.t=Math.max(Math.floor(Date.now()/1e3)-p.manifestInfo.DVRWindowSize,p.manifestInfo.availableFrom.getTime()/1e3+p.start)+e),n.fragS=parseFloat(t.s),n.fragT=parseFloat(t.t)),n}function N(e,t){var n=void 0,i=NaN;return i=e?p?p.start:i:(e=V())?isNaN(e.fragS)?e.fragT:e.fragS:0,h?n=(n=!isNaN(i)&&p&&(n=i-p.manifestInfo.availableFrom.getTime()/1e3,u<n||n<(isNaN(t)?NaN:t-p.manifestInfo.DVRWindowSize))?null:n)||u:p&&(n=!isNaN(i)&&i<Math.max(p.manifestInfo.duration,p.duration)&&0<=i?i:void 0!==(e=d[p.id])?Math.max(void 0!==e.audio?e.audio:0,void 0!==e.video?e.video:0,p.start):p.start),n}function M(){null===t&&(t=setInterval(function(){var e;i.trigger(ve.default.WALLCLOCK_TIME_UPDATED,{isDynamic:h,time:new Date}),h&&S()&&(e=Date.now(),!m||m+500<e)&&(m=e,P())},b.get().streaming.wallclockTimeUpdateInterval))}function O(){clearInterval(t),t=null}function z(){var e,t,n;!S()&&h&&0!==l.getReadyState()&&(e=t=R(),n=(n=(n=r.getCurrentDVRInfo())?n.range:null)?e>n.end?Math.max(n.end-2*p.manifestInfo.minBufferTime,n.start):0<e&&e+.25<n.start&&Math.abs(e-n.start)<31536e4?n.start:e:NaN,isNaN(n)||n===t||I(n))}function W(e){e.error||null!==(e=(e=s.convertDataToRepresentationInfo(e.currentRepresentation))?e.mediaInfo.streamInfo:null)&&p.id===e.id&&(p=e,z())}function X(){i.trigger(ve.default.CAN_PLAY)}function Q(){o.info("Native video element event: play"),z(),M(),i.trigger(ve.default.PLAYBACK_STARTED,{startTime:C()})}function J(){o.info("Native video element event: waiting"),i.trigger(ve.default.PLAYBACK_WAITING,{playingTime:C()})}function Z(){o.info("Native video element event: playing"),i.trigger(ve.default.PLAYBACK_PLAYING,{playingTime:C()})}function ee(){o.info("Native video element event: pause"),i.trigger(ve.default.PLAYBACK_PAUSED,{ended:q()})}function x(){var e=C();o.info("Seeking to: "+e),M(),i.trigger(ve.default.PLAYBACK_SEEKING,{seekTime:e})}function te(){o.info("Native video element event: seeked"),i.trigger(ve.default.PLAYBACK_SEEKED),l.addEventListener("seeking",x)}function P(){p&&i.trigger(ve.default.PLAYBACK_TIME_UPDATED,{timeToEnd:j(),time:C()})}function ne(){i.trigger(ve.default.PLAYBACK_PROGRESS)}function ie(){var e=K();o.info("Native video element event: ratechange: ",e),i.trigger(ve.default.PLAYBACK_RATE_CHANGED,{playbackRate:e})}function re(){o.info("Native video element event: loadedmetadata"),i.trigger(ve.default.PLAYBACK_METADATA_LOADED),M()}function oe(){o.info("Native video element event: ended"),A(),O(),i.trigger(ve.default.PLAYBACK_ENDED,{isLast:a.getActiveStreamInfo().isLast})}function ae(e){t&&e.isLast&&(o.info("onPlaybackEnded -- PLAYBACK_ENDED but native video element didn't fire ended"),l.setCurrentTime(H()),A(),O())}function se(e){e=e.target||e.srcElement;i.trigger(ve.default.PLAYBACK_ERROR,{error:e.error})}function le(e,t){if(t&&0<t.length)for(var n=0,i=t.length;n<i;n++)if(e>=t.start(n)&&e<t.end(n))return 1}function L(){h&&b.get().streaming.lowLatencyEnabled&&0<b.get().streaming.liveCatchUpPlaybackRate&&!S()&&!w()&&(0<b.get().streaming.liveCatchUpPlaybackRate&&0<C()&&Math.abs(D()-g.getLiveDelay())>b.get().streaming.liveCatchUpMinDrift?function(){var e,t,n,i;l&&(t=b.get().streaming.liveCatchUpPlaybackRate,n=g.getLiveDelay(),e=D()-n,t=1-t+2*t/(1+Math.pow(Math.E,-(5*e))),E&&(i=null,a.getActiveStreamProcessors().forEach(function(e){e=e.getBufferLevel();i=null===i?e:Math.min(i,e)}),n/2<i?E=!1:0<e&&(t=1)),Math.abs(l.getPlaybackRate()-t)>B&&l.setPlaybackRate(t),0<b.get().streaming.liveCatchUpMaxDrift&&!_&&e>b.get().streaming.liveCatchUpMaxDrift?(o.info("Low Latency catchup mechanism. Latency too high, doing a seek to live point"),_=!0,I(((n=r.getCurrentDVRInfo())?n.range:null).end-g.getLiveDelay(),!0,!1)):_=!1)}:ue)()}function ue(){l&&l.setPlaybackRate(1)}function de(e){var t,n,i,r=void 0,o=e.bufferedRanges;!o||!o.length||d[p.id]&&!0===d[p.id].started||(e=e.sender.getType(),void 0===f[p.id]&&(f[p.id]=[]),f[p.id][e]=o,void 0===d[p.id]&&(d[p.id]=[],d[p.id].started=!1),void 0===d[p.id][e]&&(d[p.id][e]=Math.max(o.start(0),p.start)),t=a.isTrackTypePresent(ge.default.VIDEO),n=a.isTrackTypePresent(ge.default.AUDIO),i=N(!1),n&&t?isNaN(d[p.id].audio)||isNaN(d[p.id].video)||(o=d[p.id].audio<d[p.id].video?(r=d[p.id].video>i?d[p.id].video:i,f[p.id].audio):(r=d[p.id].audio>i?d[p.id].audio:i,f[p.id].video),le(r,o)&&(le(R(),f[p.id].audio)&&le(R(),f[p.id].video)||v||0===r||I(r,!0,!0),d[p.id].started=!0)):d[p.id][e]&&(r=d[p.id][e]>i?d[p.id][e]:i,v||I(r,!1,!0),d[p.id].started=!0))}function ce(e){!1===e.stream&&b.get().streaming.lowLatencyEnabled&&!isNaN(e.request.duration)&&(e=1.2*e.request.duration)>g.getLiveDelay()&&(o.warn("Browser does not support fetch API with StreamReader. Increasing live delay to be 20% higher than segment duration:",e.toFixed(2)),b.update({streaming:{liveDelay:e}}))}function fe(e){e.streamInfo.id===p.id&&(b.get().streaming.lowLatencyEnabled?e.state!==me.default.BUFFER_EMPTY||w()||E||(E=!0,ue()):l.setStallState(e.mediaType,e.state===me.default.BUFFER_EMPTY))}function pe(e){i.trigger(ve.default.PLAYBACK_STALLED,{e:e})}function he(e){var t=e.streamInfo,e=e.mediaInfo;if(t&&t.manifestInfo&&t.manifestInfo.serviceDescriptions){for(var n=void 0,i=0;i<t.manifestInfo.serviceDescriptions.length;i++){var r=t.manifestInfo.serviceDescriptions[i];if(r.schemeIdUri===ge.default.SERVICE_DESCRIPTION_LL_SCHEME){n=r;break}}n&&e&&e.supplementalProperties&&"true"===e.supplementalProperties[ge.default.SUPPLEMENTAL_PROPERTY_LL_SCHEME]&&(n.latency&&0<n.latency.target&&(o.debug("Apply LL properties coming from service description. Target Latency (ms):",n.latency.target),b.update({streaming:{lowLatencyEnabled:!0,liveDelay:n.latency.target/1e3,liveCatchUpMinDrift:n.latency.max>n.latency.target?(n.latency.max-n.latency.target)/1e3:void 0}})),n.playbackRate)&&1<n.playbackRate.max&&(o.debug("Apply LL properties coming from service description. Max PlaybackRate:",n.playbackRate.max),b.update({streaming:{lowLatencyEnabled:!0,liveCatchUpPlaybackRate:n.playbackRate.max-1}}))}}return e={initialize:function(e,t){p=e,l.addEventListener("canplay",X),l.addEventListener("play",Q),l.addEventListener("waiting",J),l.addEventListener("playing",Z),l.addEventListener("pause",ee),l.addEventListener("error",se),l.addEventListener("seeking",x),l.addEventListener("seeked",te),l.addEventListener("timeupdate",P),l.addEventListener("progress",ne),l.addEventListener("ratechange",ie),l.addEventListener("loadedmetadata",re),l.addEventListener("stalled",pe),l.addEventListener("ended",oe),h=p.manifestInfo.isDynamic,E=_=!1,u=p.start,v=t;e="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",t=/safari/.test(e)&&!/chrome/.test(e);B=t?.25:.02,i.on(ve.default.DATA_UPDATE_COMPLETED,W,this),i.on(ve.default.BYTES_APPENDED_END_FRAGMENT,de,this),i.on(ve.default.LOADING_PROGRESS,ce,this),i.on(ve.default.BUFFER_LEVEL_STATE_CHANGED,fe,this),i.on(ve.default.PERIOD_SWITCH_STARTED,U,this),i.on(ve.default.PLAYBACK_PROGRESS,L,this),i.on(ve.default.PLAYBACK_TIME_UPDATED,L,this),i.on(ve.default.PLAYBACK_ENDED,ae,this),i.on(ve.default.STREAM_INITIALIZING,he,this),n&&(n=!1,G())},setConfig:function(e){e&&(e.streamController&&(a=e.streamController),e.dashMetrics&&(r=e.dashMetrics),e.mediaPlayerModel&&(g=e.mediaPlayerModel),e.adapter&&(s=e.adapter),e.videoModel&&(l=e.videoModel),e.timelineConverter&&(F=e.timelineConverter),e.uriFragmentModel&&(T=e.uriFragmentModel),e.settings)&&(b=e.settings)},getStartTimeFromUriParameters:V,getStreamStartTime:N,getTimeToStreamEnd:j,getTime:C,getNormalizedTime:R,getPlaybackRate:K,getPlayedRanges:function(){return p&&l?l.getPlayedRanges():null},getEnded:q,getIsDynamic:$,getStreamController:function(){return a},setLiveStartTime:function(e){u=e},getLiveStartTime:function(){return u},computeLiveDelay:function(e,t){var n=arguments.length<=2||void 0===arguments[2]?NaN:arguments[2],i=void 0,r=void 0,o=T.getURIFragmentData(),o=(o&&(r=parseInt(o.r,10)),s.getSuggestedPresentationDelay()),r=b.get().streaming.lowLatencyEnabled?0:g.getLiveDelay()?g.getLiveDelay():null===b.get().streaming.liveDelayFragmentCount||isNaN(b.get().streaming.liveDelayFragmentCount)||isNaN(e)?r||(!0===b.get().streaming.useSuggestedPresentationDelay&&null!==o&&!isNaN(o)&&0<o?o:isNaN(e)?isNaN(n)?4*p.manifestInfo.minBufferTime:4*n:4*e):e*b.get().streaming.liveDelayFragmentCount;return null!==(o=s.getAvailabilityStartTime())&&(y=o),i=0<t?(n=Math.max(t-10,t/2),Math.min(r,n)):r,c=i},getLiveDelay:function(){return c},getCurrentLiveLatency:D,play:G,isPaused:S,pause:A,isSeeking:w,seek:I,reset:Y},o=(0,_e.default)(k).getInstance().getLogger(e),Y(),e}o.__dashjs_factory_name="PlaybackController",n.default=r.default.getSingletonFactory(o),t.exports=n.default},{108:108,109:109,45:45,46:46,47:47,54:54}],120:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var he=i(e(108)),ge=i(e(109)),me=e(244),ye=i(e(196)),ve=i(e(197)),_e=i(e(149)),Ee=i(e(46)),Te=i(e(54)),r=i(e(47)),be=i(e(45)),Se=i(e(117)),Ae=i(e(216));function o(e){e=e||{};var t,n=this.context,i=(0,Ee.default)(n).getInstance(),s=e.adapter,l=e.dashMetrics,r=e.timelineConverter,o=e.mediaPlayerModel,u=e.abrController,d=e.playbackController,k=e.streamController,c=e.textController,f=e.type,p=e.streamProcessor,h=e.mediaController,g=e.settings,m=void 0,y=void 0,v=void 0,a=void 0,_=void 0,E=void 0,F=void 0,B=void 0,T=void 0,U=void 0,j=void 0,b=void 0,S=void 0,A=void 0,w=void 0,I=void 0,C=void 0,H=void 0,R=void 0,G=void 0,D=void 0;function N(){v&&!p.isBufferingCompleted()?(m.debug("Schedule Controller starts"),fe(),_=!1,a=a&&!1,O(0)):m.warn("Start denied to Schedule Controller")}function M(){_||(m.debug("Schedule Controller stops"),_=!0,clearTimeout(B))}function K(){var e,t,n,i,r,o,a=p.getBufferController();_||E||!a||d.isPaused()&&!g.get().streaming.scheduleWhilePaused||!(f!==he.default.FRAGMENTED_TEXT&&f!==he.default.TEXT||c.isTextEnabled())?m.debug("Schedule stop!"):a.getIsBufferingCompleted()?m.debug("Schedule stop because buffering is completed!"):(a=d.getTime(),r=1.5,isNaN(v.fragmentDuration)&&(r=(o=l.getCurrentSchedulingInfo(v.mediaInfo.type))?1.5*o.duration:1.5),(o=y.getRequests({state:_e.default.FRAGMENT_MODEL_EXECUTED,time:a+r,threshold:0})[0])&&-1===w.indexOf(o)&&!s.getIsTextTrack(f)&&(a=g.get().streaming.fastSwitchEnabled,e=p.getBufferLevel(),t=u.getAbandonmentStateFor(f),n=!h.isCurrentTrack(o.mediaInfo)&&h.getSwitchMode(o.mediaInfo.type)===Se.default.TRACK_SWITCH_MODE_NEVER_REPLACE,i=o.quality<v.quality,a&&(n||i)&&r<=e&&t!==ge.default.ABANDON_LOAD?(P(o),D=!0,m.debug("Reloading outdated fragment at index: ",o.index)):o.quality>v.quality&&!C&&L(d.getTime()+e)),a=0<w.length,n=p.getStreamInfo(),C||isNaN(A)||I||a||(i=v.mediaInfo.type,r=n.id,S[r]=S[r]||{},t=u.getTopQualityIndexFor(i,r),S[r][i]!=t&&(m.info("Top quality "+i+" index has changed from "+S[r][i]+" to "+t),S[r][i]=t,1))||U.execute(p,k.isTrackTypePresent(he.default.VIDEO))?(x(!0),!a&&G&&u.checkPlaybackQuality(f),G=v.quality===A&&!I||C?(o=w.shift())&&o.isInitializationRequest()?(p.switchInitData(o.representationId),!1):(e=void 0,p.getBufferController().getIsPruningInProgress()||(e=j.execute(p,T,o),L(NaN),e&&!o&&(isNaN(e.startTime+e.duration)||p.setIndexHandlerTime(e.startTime+e.duration),e.delayLoadingTime=(new Date).getTime()+F,de(0)),!e&&n.manifestInfo&&n.manifestInfo.isDynamic&&m.debug("Next fragment seems to be at the bleeding live edge and is not available yet. Rescheduling.")),e?(m.debug("Next fragment request url is "+e.url),y.executeRequest(e)):(x(!1),O(g.get().streaming.lowLatencyEnabled?100:500)),!0):(m.debug("Quality has changed, get init request for representationid = "+v.id),I?(C=h.getSwitchMode(f)===Se.default.TRACK_SWITCH_MODE_ALWAYS_REPLACE,m.debug("Switch track has been asked, get init request for "+f+" with representationid = "+v.id+"bufferResetInProgress = "+C),p.switchInitData(v.id,C),I=!1):p.switchInitData(v.id),A=v.quality,!1)):O(500))}function O(e){clearTimeout(B),B=setTimeout(K,e)}function q(e){e.sender&&e.sender.getStreamProcessor()===p&&$(v.quality)}function x(e){E!==e?E=e:m.debug("isFragmentProcessingInProgress is already equal to",e)}function $(e){e=p.getInitRequest(e);e&&(x(!0),y.executeRequest(e))}function P(e){w.push(e)}function Y(e){if(f===e.mediaType&&p.getStreamInfo().id===e.streamInfo.id){if(null==(v=p.getRepresentationInfo(e.newQuality)))throw new Error("Unexpected error! - currentRepresentationInfo is null or undefined");ce(new Date,me.PlayListTrace.REPRESENTATION_SWITCH_STOP_REASON),fe()}}function V(e){var t;d&&y&&(t=y.getRequests({state:_e.default.FRAGMENT_MODEL_EXECUTED,time:d.getTime(),threshold:0})[0])&&d.getTime()>=t.startTime&&((!b.mediaInfo||t.mediaInfo.type===b.mediaInfo.type&&t.mediaInfo.id!==b.mediaInfo.id)&&e&&i.trigger(Te.default.TRACK_CHANGE_RENDERED,{mediaType:f,oldMediaInfo:b.mediaInfo,newMediaInfo:t.mediaInfo}),t.quality===b.quality&&t.adaptationIndex===b.adaptationIndex||!e||i.trigger(Te.default.QUALITY_CHANGE_RENDERED,{mediaType:f,oldQuality:b.quality,newQuality:t.quality}),b={mediaInfo:t.mediaInfo,quality:t.quality,adaptationIndex:t.adaptationIndex})}function z(e){e.error||e.sender.getType()!==p.getType()||(v=s.convertDataToRepresentationInfo(e.currentRepresentation))}function W(e){var t,n;e.streamInfo&&p.getStreamInfo().id===e.streamInfo.id&&(v=p.getRepresentationInfo(),a&&(d.getIsDynamic()?(r.setTimeSyncCompleted(!0),R&&(t=(e=R.getLiveEdge(p.getRepresentationInfo()))-d.computeLiveDelay(v.fragmentDuration,v.mediaInfo.streamInfo.manifestInfo.DVRWindowSize),(t=p.getFragmentRequest(v,t,{ignoreIsFinished:!0}))?g.get().streaming.lowLatencyEnabled?(n=t.duration<o.getLiveDelay()?t.startTime:t.startTime+t.duration-o.getLiveDelay(),d.setLiveStartTime(n)):d.setLiveStartTime(t.startTime):m.debug("setLiveEdgeSeekTarget : getFragmentRequest returned undefined request object"),L(d.getStreamStartTime(!1,e)),p.getBufferController().setSeekStartTime(T),T>v.mediaInfo.streamInfo.start+v.mediaInfo.streamInfo.duration&&d.seek(T),l.updateManifestUpdateInfo({currentTime:T,presentationStartTime:e,latency:e-T,clientTimeOffset:r.getClientTimeOffset()}))):(L(d.getStreamStartTime(!1)),p.getBufferController().setSeekStartTime(T))),_)&&N()}function X(e){e.fragmentModel===y&&(M(),x(!1),m.info("Stream is complete"))}function Q(e){e.sender===y&&(m.info("OnFragmentLoadingCompleted - Url:",e.request?e.request.url:"undefined",e.request.range?", Range:"+e.request.range:""),s.getIsTextTrack(f)&&x(!1),e.error&&e.request.serviceLocation&&!_&&(P(e.request),x(!1),O(0)),C)&&(H=e.request)}function J(){V(!0)}function Z(e){var t,n;e.sender.getStreamProcessor()===p&&(C&&!isNaN(e.startTime)&&(C=!1,y.addExecutedRequest(H)),x(!1),D&&!isNaN(e.startTime)?(t=d.getTime(),O((e=e.startTime+v.fragmentDuration)<=t+(n=1.5*v.fragmentDuration)?0:1e3*(e-(t+n))),D=!1):O(0))}function ee(e){e.streamProcessor===p&&(m.info("onFragmentLoadingAbandoned request: "+e.request.url+" has been aborted"),d.isSeeking()||I||(m.info("onFragmentLoadingAbandoned request: "+e.request.url+" has to be downloaded again, origin is not seeking process or switch track call"),P(e.request)),x(!1),O(0))}function te(e){var t=p.getStreamInfo(),t=t?t.id:null;e.sender.getType()===p.getType()&&e.sender.getStreamId()===t&&M()}function ne(e){var t;e.sender.getStreamProcessor()===p&&((t=p.getStreamInfo())&&(e.unintended?y.removeExecutedRequestsAfterTime(e.from):y.syncExecutedRequestsWithBufferedRange(p.getBufferController().getBuffer().getAllBufferRanges(),t.duration)),e.hasEnoughSpaceToAppend)&&e.quotaExceeded&&_&&N()}function ie(e){e.sender.getStreamProcessor()!==p||e.state!==ge.default.BUFFER_EMPTY||d.isSeeking()||(m.info("Buffer is empty! Stalling!"),ce(new Date,me.PlayListTrace.REBUFFERING_REASON))}function re(e){e.sender.getStreamProcessor()===p&&(M(),x(!1))}function oe(){y.abortRequests(),M()}function ae(e){var t=p.getStreamInfo(),t=t?t.id:null;e.sender.getStreamId()===t&&c.isTextEnabled()&&$(e.index)}function se(){!_&&g.get().streaming.scheduleWhilePaused||N()}function le(e){L(e.seekTime),de(0),_&&N();e=v.DVRWindow&&d?v.DVRWindow.end-d.getTime():NaN;l.updateManifestUpdateInfo({latency:e}),E?(m.debug("onPlaybackSeeking, call fragmentModel.abortRequests in order to seek quicker"),y.abortRequests()):O(0)}function ue(e){l.updatePlayListTraceMetrics({playbackspeed:e.playbackRate.toString()})}function L(e){T=e}function de(e){F=e}function ce(e,t){l.pushPlayListTraceMetrics(e,t)}function fe(){var e;v&&(e=d.getPlaybackRate(),l.createPlaylistTraceMetrics(v.id,1e3*d.getTime(),null!==e?e.toString():null))}function pe(){b={mediaInfo:void(F=0),quality:A=T=NaN,adaptationIndex:NaN},S={},w=[],D=C=I=!(_=a=!(E=!(G=!(H=null))))}return t={initialize:function(){y=p.getFragmentModel(),U=(0,ye.default)(n).create({abrController:u,dashMetrics:l,mediaPlayerModel:o,textController:c,settings:g}),j=(0,ve.default)(n).create({textController:c,playbackController:d}),s.getIsTextTrack(e.mimeType)&&i.on(Te.default.TIMED_TEXT_REQUESTED,ae,this),i.on(Te.default.QUALITY_CHANGE_REQUESTED,Y,this),i.on(Te.default.DATA_UPDATE_STARTED,te,this),i.on(Te.default.DATA_UPDATE_COMPLETED,z,this),i.on(Te.default.FRAGMENT_LOADING_COMPLETED,Q,this),i.on(Te.default.STREAM_COMPLETED,X,this),i.on(Te.default.STREAM_INITIALIZED,W,this),i.on(Te.default.BUFFER_LEVEL_STATE_CHANGED,ie,this),i.on(Te.default.BUFFER_CLEARED,ne,this),i.on(Te.default.BYTES_APPENDED_END_FRAGMENT,Z,this),i.on(Te.default.INIT_REQUESTED,q,this),i.on(Te.default.QUOTA_EXCEEDED,re,this),i.on(Te.default.PLAYBACK_SEEKING,le,this),i.on(Te.default.PLAYBACK_STARTED,se,this),i.on(Te.default.PLAYBACK_RATE_CHANGED,ue,this),i.on(Te.default.PLAYBACK_TIME_UPDATED,J,this),i.on(Te.default.URL_RESOLUTION_FAILED,oe,this),i.on(Te.default.FRAGMENT_LOADING_ABANDONED,ee,this)},getType:function(){return f},setSeekTarget:L,setTimeToLoadDelay:de,replaceRequest:P,switchTrackAsked:function(){I=!0},isStarted:function(){return!1===_},start:N,stop:M,reset:function(){i.off(Te.default.DATA_UPDATE_STARTED,te,this),i.off(Te.default.DATA_UPDATE_COMPLETED,z,this),i.off(Te.default.BUFFER_LEVEL_STATE_CHANGED,ie,this),i.off(Te.default.QUALITY_CHANGE_REQUESTED,Y,this),i.off(Te.default.FRAGMENT_LOADING_COMPLETED,Q,this),i.off(Te.default.STREAM_COMPLETED,X,this),i.off(Te.default.STREAM_INITIALIZED,W,this),i.off(Te.default.QUOTA_EXCEEDED,re,this),i.off(Te.default.BYTES_APPENDED_END_FRAGMENT,Z,this),i.off(Te.default.BUFFER_CLEARED,ne,this),i.off(Te.default.INIT_REQUESTED,q,this),i.off(Te.default.PLAYBACK_RATE_CHANGED,ue,this),i.off(Te.default.PLAYBACK_SEEKING,le,this),i.off(Te.default.PLAYBACK_STARTED,se,this),i.off(Te.default.PLAYBACK_TIME_UPDATED,J,this),i.off(Te.default.URL_RESOLUTION_FAILED,oe,this),i.off(Te.default.FRAGMENT_LOADING_ABANDONED,ee,this),s.getIsTextTrack(f)&&i.off(Te.default.TIMED_TEXT_REQUESTED,ae,this),M(),V(!1),pe(),R&&(R.reset(),R=null)},getBufferTarget:function(){return U.getBufferTarget(p,k.isTrackTypePresent(he.default.VIDEO))},finalisePlayList:function(e,t){ce(e,t)}},m=(0,be.default)(n).getInstance().getLogger(t),d&&d.getIsDynamic()&&(R=(0,Ae.default)(n).create({timelineConverter:r})),pe(),t}o.__dashjs_factory_name="ScheduleController",n.default=r.default.getClassFactory(o),t.exports=n.default},{108:108,109:109,117:117,149:149,196:196,197:197,216:216,244:244,45:45,46:46,47:47,54:54}],121:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var Ie=i(e(108)),Ce=i(e(109)),Re=i(e(105)),De=i(e(99)),Ne=i(e(46)),Me=i(e(54)),r=i(e(47)),Oe=e(244),xe=i(e(45)),Pe=i(e(214)),Le=i(e(221)),ke=i(e(101)),Fe=i(e(122)),Be=i(e(118)),Ue=i(e(226)),je=i(e(51));function o(){var B=40,U=2e3,u=this.context,c=(0,Ne.default)(u).getInstance(),d=void 0,f=void 0,j=void 0,p=void 0,n=void 0,h=void 0,g=void 0,m=void 0,a=void 0,o=void 0,y=void 0,H=void 0,G=void 0,K=void 0,q=void 0,$=void 0,v=void 0,_=void 0,E=void 0,T=void 0,b=void 0,S=void 0,Y=void 0,A=void 0,w=void 0,I=void 0,s=void 0,C=void 0,R=void 0,D=void 0,N=void 0,r=void 0,V=void 0,z=void 0,i=void 0,l=void 0,W=void 0,X=void 0,M=void 0,O=void 0,x=void 0,Q=void 0,J=void 0,P=void 0;function Z(){var e;t(Ie.default.VIDEO)&&(e=C.getPlaybackQuality())&&m.addDroppedFrames(e)}function ee(){if(!(!P.get().streaming.jumpGaps||0===L()||R.isSeeking()||N||A||w||I)&&B<=++X){var e=R.getTime();if(Q===e){var t=e;for(var n=L(),i=P.get().streaming.smallGapLimit,r=void 0,o=0;o<n.length;o++){var a=n[o].getBuffer().getAllBufferRanges(),s=void 0;if(a&&!(a.length<=1)){for(var l,u=0;u<a.length;u++)if(t<a.start(u)){s=a.start(u);break}0<s&&0<(l=s-t)&&l<=i&&(void 0===r||r<s)&&(r=s)}}var d=R.getTimeToStreamEnd();0<(r=void 0===r&&!isNaN(d)&&d<i?t+d:r)&&(!isNaN(d)&&t+d<=r?(f.info("Jumping media gap (discontinuity) at time ",t,". Jumping to end of the stream"),c.trigger(Me.default.PLAYBACK_ENDED,{isLast:F().isLast})):(f.info("Jumping media gap (discontinuity) at time ",t,". Jumping to time position",r),R.seek(r,!0,!0)))}else Q=e;X=0}}function te(e){var t=ue(e.seekTime);l&&(re(),i=!1),W&&(f.debug("[PreloadTimer] stop period preload timer."),clearTimeout(W),W=void 0),t===T&&x&&x.deactivate(!0),t&&(t!==T||x&&!T.isActive())?(k(Oe.PlayListTrace.END_OF_PERIOD_STOP_REASON),fe(T,t,e.seekTime)):k(Oe.PlayListTrace.USER_REQUEST_STOP_REASON),_e(Oe.PlayList.SEEK_START_REASON)}function ne(){f.debug("[onPlaybackStarted]"),r?(r=!1,_e(Oe.PlayList.INITIAL_PLAYOUT_START_REASON)):N&&(N=!1,_e(Oe.PlayList.RESUME_FROM_PAUSE_START_REASON),oe())}function ie(e){f.debug("[onPlaybackPaused]"),e.ended||(N=!0,k(Oe.PlayListTrace.USER_REQUEST_STOP_REASON),oe())}function re(){f.debug("[toggleEndPeriodTimer] stop end period timer."),clearTimeout(l),l=void 0}function oe(){var e,t;i&&(l?re():(e=R.getTimeToStreamEnd(),f.debug("[toggleEndPeriodTimer] Going to fire preload in",t=(e=0<e?1e3*e:0)<U?e/4:e-U,"milliseconds"),W=setTimeout(le,t),f.debug("[toggleEndPeriodTimer] start-up of timer to notify PLAYBACK_ENDED event. It will be triggered in",e,"milliseconds"),l=setTimeout(function(){c.trigger(Me.default.PLAYBACK_ENDED,{isLast:F().isLast})},e)))}function ae(e){var t;!e.sender||e.sender.getType()!==Ie.default.AUDIO&&e.sender.getType()!==Ie.default.VIDEO||(t=F().isLast,s&&!t&&void 0===l&&(f.info("[onTrackBufferingCompleted] end of period detected. Track",e.sender.getType(),"has finished"),!(i=!0)===N)&&oe())}function se(){var e=F().isLast;s&&e&&(f.info("[onStreamBufferingCompleted] calls signalEndOfStream of mediaSourceController."),a.signalEndOfStream(s))}function le(){var t,e=F().isLast;s&&!e&&(t=ce(),O=T.isProtectionCompatible(t)&&(J||T.isMediaCodecCompatible(t)))&&(f.info("[onStreamCanLoadNext] Preloading next stream"),T.stopEventController(),T.deactivate(!0),t.preload(s,M),(x=t).getProcessors().forEach(function(e){e.setIndexHandlerTime(t.getStartTime())}))}function ue(e){var t=0,n=null,i=E.length;0<i&&(t+=E[0].getStartTime());for(var r=0;r<i;r++)if(n=E[r],e<(t=parseFloat((t+n.getDuration()).toFixed(5))))return n;return null}function L(){return T?T.getProcessors():[]}function de(){var e=ce();e?(V=z=void 0,fe(T,e,NaN)):f.debug("StreamController no next stream found"),k(e?Oe.PlayListTrace.END_OF_PERIOD_STOP_REASON:Oe.PlayListTrace.END_OF_CONTENT_STOP_REASON),l=void 0,i=!1}function ce(){if(T){t=F().start,n=F().duration;var e={v:E.filter(function(e){return e.getStreamInfo().start===parseFloat((t+n).toFixed(5))})[0]};if("object"==typeof e)return e.v}var t,n}function fe(e,t,n){A||!t||e===t&&t.isActive()||(A=!0,c.trigger(Me.default.PERIOD_SWITCH_STARTED,{fromStreamInfo:e?e.getStreamInfo():null,toStreamInfo:t.getStreamInfo()}),O=!1,e&&(e.stopEventController(),O=T.isProtectionCompatible(t)&&(J||T.isMediaCodecCompatible(t))&&!n||t.getPreloaded(),e.deactivate(O)),T=t,x=!1,R.initialize(F(),O),C.getElement()?pe(n,e,!1,O):he(n,O))}function pe(e,t,n,i){var r=void 0;function o(){s&&"open"==s.readyState&&(f.debug("MediaSource is open!"),window.URL.revokeObjectURL(r),s.removeEventListener("sourceopen",o),s.removeEventListener("webkitsourceopen",o),ge(),t||c.trigger(Me.default.SOURCE_INITIALIZED),n?T.setMediaSource(s):he(e,i))}s?i?(he(e,i),t||c.trigger(Me.default.SOURCE_INITIALIZED)):(a.detachMediaSource(C),s.addEventListener("sourceopen",o,!1),s.addEventListener("webkitsourceopen",o,!1),r=a.attachMediaSource(s,C),f.debug("MediaSource attached to element.  Waiting on open...")):((s=a.createMediaSource()).addEventListener("sourceopen",o,!1),s.addEventListener("webkitsourceopen",o,!1),r=a.attachMediaSource(s,C),f.debug("MediaSource attached to element.  Waiting on open..."))}function he(e,t){var n,i;M=T.activate(s,t?M:void 0),z=ve(Ie.default.AUDIO),V=ve(Ie.default.VIDEO),M&&0<(n=Object.keys(M)).length&&M[n[0]].changeType&&(f.debug("SourceBuffer changeType method supported. Use it to switch codecs in periods transitions"),J=!0),r||(isNaN(e)?(i=R.getStreamStartTime(!0),t||L().forEach(function(e){e.setIndexHandlerTime(i)})):R.seek(e)),T.startEventController(),!Y&&r||R.play(),A=!1,c.trigger(Me.default.PERIOD_SWITCH_COMPLETED,{toStreamInfo:F()})}function ge(e){e=e||F().manifestInfo.duration,e=a.setDuration(s,e);f.debug("Duration successfully set to: "+e)}function me(){var e=h.getValue();b&&(c.trigger(Me.default.PROTECTION_CREATED,{controller:b,manifest:e}),b.setMediaElement(C.getElement()),S)&&b.setProtectionData(S);try{var t=g.getStreamsInfo();if(0===t.length)throw new Error("There are no streams");m.updateManifestUpdateInfo({currentTime:R.getTime(),buffered:C.getBufferRange(),presentationStartTime:t[0].start,clientTimeOffset:_.getClientTimeOffset()});for(var n,i,r,o=0,a=t.length;o<a;o++){var s=t[o],l=function(e){for(var t=0,n=E.length;t<n;t++)if(E[t].getId()===e.id)return E[t];return null}(s);l?l.updateData(s):(l=(0,Re.default)(u).create({manifestModel:h,mediaPlayerModel:D,dashMetrics:m,manifestUpdater:p,adapter:g,timelineConverter:_,capabilities:j,errHandler:v,baseURLController:y,abrController:H,playbackController:R,mediaController:G,textController:K,videoModel:C,streamController:d,settings:P}),E.push(l),l.initialize(s,b)),m.addManifestUpdateStreamInfo(s)}T||(n=R.getStartTimeFromUriParameters(),r=null,!(r=n?ue(isNaN(n.fragS)?n.fragT:n.fragS):r)&&g.getIsDynamic()&&E.length&&(f.debug("Dynamic multi-period stream: Trying to find the correct starting period"),i=g.getStreamsInfo(void 0,1)[0].manifestInfo,r=ue(_.calcPresentationTimeFromWallTime(new Date,g.getRegularPeriods()[0])-R.computeLiveDelay(NaN,i.DVRWindowSize,i.minBufferTime))),fe(null,null!==r?r:E[0],NaN)),c.trigger(Me.default.STREAMS_COMPOSED)}catch(t){v.error(new Ue.default(je.default.MANIFEST_ERROR_ID_NOSTREAMS_CODE,t.message+"nostreamscomposed",h.getValue())),I=!0,Ae()}}function ye(e){var t,n,i,r;e.error?(I=!0,Ae()):(t=e.manifest,g.updatePeriods(t),n=g.getStreamsInfo(void 0,1)[0],n=g.getMediaInfoForType(n,Ie.default.VIDEO)||g.getMediaInfoForType(n,Ie.default.AUDIO),i=void 0,n&&(i=g.getUseCalculatedLiveEdgeTimeForMediaInfo(n))&&(f.debug("SegmentTimeline detected using calculated Live Edge Time"),P.update({streaming:{useManifestDateHeaderTimeSource:!1}})),n=g.getUTCTimingSources(),i=!g.getIsDynamic()||i?n:n.concat(D.getUTCTimingSources()),r=$.isHTTPS(e.manifest.url),i.forEach(function(e){e.value.replace(/.*?:\/\//g,"")===D.getDefaultUtcTimingSource().value.replace(/.*?:\/\//g,"")&&(e.value=e.value.replace(r?new RegExp(/^(http:)?\/\//i):new RegExp(/^(https:)?\/\//i),r?"https://":"http://"),f.debug("Matching default timing source protocol to manifest protocol: ",e.value))}),y.initialize(t),o.setConfig({dashMetrics:m,baseURLController:y}),o.initialize(i,P.get().streaming.useManifestDateHeaderTimeSource))}function t(e){var t=void 0;if(e)switch(e){case Ie.default.VIDEO:t=V;break;case Ie.default.AUDIO:t=z}return t}function ve(t){var n=!1;return L().forEach(function(e){e.getMediaInfo().type===t&&(n=!0)}),n}function k(t,n){n=n||new Date,L().forEach(function(e){e=e.getScheduleController();e&&e.finalisePlayList(n,t)}),m.addPlayList()}function _e(e){m.createPlaylistMetrics(1e3*R.getTime(),e)}function Ee(e){if(e.error){var t="";switch(e.error.code){case 1:t="MEDIA_ERR_ABORTED";break;case 2:t="MEDIA_ERR_NETWORK";break;case 3:t="MEDIA_ERR_DECODE";break;case 4:t="MEDIA_ERR_SRC_NOT_SUPPORTED";break;case 5:t="MEDIA_ERR_ENCRYPTED";break;default:t="UNKNOWN"}w=!0,e.error.message&&(t+=" ("+e.error.message+")"),e.error.msExtendedCode&&(t+=" (0x"+(e.error.msExtendedCode>>>0).toString(16).toUpperCase()+")"),f.fatal("Video Element Error: "+t),e.error&&f.fatal(e.error),v.error(new Ue.default(e.error.code,t)),Ae()}}function F(){return T?T.getStreamInfo():null}function Te(){if(!(n&&n.hasOwnProperty("load")&&_&&_.hasOwnProperty("initialize")&&_.hasOwnProperty("reset")&&_.hasOwnProperty("getClientTimeOffset")&&h&&v&&m&&R))throw new Error(Ie.default.MISSING_CONFIG_ERROR)}function be(e){isNaN(e.newDuration)||ge(e.newDuration)}function Se(){T=b=null,l=z=V=void 0,i=!(Y=!(N=!(r=!(I=w=A=!(E=[]))))),X=0}function Ae(){Te(),o.reset(),k(w||I?Oe.PlayListTrace.FAILURE_STOP_REASON:Oe.PlayListTrace.USER_REQUEST_STOP_REASON);for(var e=0,t=E?E.length:0;e<t;e++)E[e].reset(w);!function(){c.off(Me.default.PLAYBACK_TIME_UPDATED,Z,this),c.off(Me.default.PLAYBACK_SEEKING,te,this),c.off(Me.default.PLAYBACK_ERROR,Ee,this),c.off(Me.default.PLAYBACK_STARTED,ne,this),c.off(Me.default.PLAYBACK_PAUSED,ie,this),c.off(Me.default.PLAYBACK_ENDED,de,this),c.off(Me.default.MANIFEST_UPDATED,ye,this),c.off(Me.default.BUFFERING_COMPLETED,ae,this),c.off(Me.default.STREAM_BUFFERING_COMPLETED,se,this),c.off(Me.default.MANIFEST_VALIDITY_CHANGED,be,this),c.off(Me.default.TIME_SYNCHRONIZATION_COMPLETED,me,this),c.off(Me.default.WALLCLOCK_TIME_UPDATED,ee,this),c.off(ke.default.METRIC_ADDED,we,this)}(),y.reset(),p.reset(),m.clearAllCurrentMetrics(),h.setValue(null),n.reset(),_.reset(),q.reset(),s&&(a.detachMediaSource(C),s=null),C=null,b&&(b.setMediaElement(null),S=b=null,h.getValue())&&c.trigger(Me.default.PROTECTION_DESTROYED,{data:h.getValue().url}),c.trigger(Me.default.STREAM_TEARDOWN_COMPLETE),Se()}function we(e){e.metric===Ce.default.DVR_INFO&&e.mediaType===Ie.default.AUDIO&&a.setSeekable(s,e.value.range.start,e.value.range.end)}return d={initialize:function(e,t){Te(),Y=e,S=t,_.initialize(),(p=(0,De.default)(u).create()).setConfig({manifestModel:h,adapter:g,manifestLoader:n,errHandler:v,settings:P}),p.initialize(),function(){c.on(Me.default.PLAYBACK_TIME_UPDATED,Z,this),c.on(Me.default.PLAYBACK_SEEKING,te,this),c.on(Me.default.PLAYBACK_ERROR,Ee,this),c.on(Me.default.PLAYBACK_STARTED,ne,this),c.on(Me.default.PLAYBACK_PAUSED,ie,this),c.on(Me.default.PLAYBACK_ENDED,de,this),c.on(Me.default.MANIFEST_UPDATED,ye,this),c.on(Me.default.BUFFERING_COMPLETED,ae,this),c.on(Me.default.STREAM_BUFFERING_COMPLETED,se,this),c.on(Me.default.MANIFEST_VALIDITY_CHANGED,be,this),c.on(Me.default.TIME_SYNCHRONIZATION_COMPLETED,me,this),c.on(Me.default.WALLCLOCK_TIME_UPDATED,ee,this),c.on(ke.default.METRIC_ADDED,we,this)}()},getActiveStreamInfo:F,isTrackTypePresent:t,switchToVideoElement:function(e){T&&(R.initialize(F()),pe(e,null,!0,!1))},getStreamById:function(t){return E.filter(function(e){return e.getId()===t})[0]},getStreamForTime:ue,getTimeRelativeToStreamId:function(e,t){for(var n,i,r=null,o=0,a=0;a<E.length;a++){if(n=(r=E[a]).getStartTime(),i=r.getDuration(),Number.isFinite(n)&&(o=n),r.getId()===t)return e-o;Number.isFinite(i)&&(o+=i)}return null},load:function(e){Te(),n.load(e)},loadWithManifest:function(e){if(!p||!p.hasOwnProperty("setManifest"))throw new Error("initialize function has to be called previously");p.setManifest(e)},getActiveStreamProcessors:L,setConfig:function(e){e&&(e.capabilities&&(j=e.capabilities),e.manifestLoader&&(n=e.manifestLoader),e.manifestModel&&(h=e.manifestModel),e.mediaPlayerModel&&(D=e.mediaPlayerModel),e.protectionController&&(b=e.protectionController),e.adapter&&(g=e.adapter),e.dashMetrics&&(m=e.dashMetrics),e.errHandler&&(v=e.errHandler),e.timelineConverter&&(_=e.timelineConverter),e.videoModel&&(C=e.videoModel),e.playbackController&&(R=e.playbackController),e.abrController&&(H=e.abrController),e.mediaController&&(G=e.mediaController),e.textController&&(K=e.textController),e.settings&&(P=e.settings),e.baseURLController)&&(y=e.baseURLController)},setProtectionData:function(e){S=e},reset:Ae},f=(0,xe.default)(u).getInstance().getLogger(d),o=(0,Fe.default)(u).getInstance(),a=(0,Be.default)(u).getInstance(),q=(0,Pe.default)(u).getInstance(),$=(0,Le.default)(u).getInstance(),Se(),d}o.__dashjs_factory_name="StreamController",n.default=r.default.getSingletonFactory(o),t.exports=n.default},{101:101,105:105,108:108,109:109,118:118,122:122,214:214,221:221,226:226,244:244,45:45,46:46,47:47,51:51,54:54,99:99}],122:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var T=i(e(226)),b=e(242),S=i(e(46)),A=i(e(54)),w=i(e(51)),r=i(e(47)),I=i(e(45)),C=i(e(221));function o(){var e,t=this.context,i=(0,S.default)(t).getInstance(),f=(0,C.default)(t).getInstance(),o=void 0,a=void 0,n=void 0,s=void 0,l=void 0,u=void 0,p=void 0;function d(e){n=e}function c(e){a=e}function r(e){var t,n,i=Date.parse(e);return isNaN(i)&&(t=void 0,e=/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2})(?::([0-9]*)(\.[0-9]*)?)?(?:([+\-])([0-9]{2})([0-9]{2}))?/.exec(e),t=Date.UTC(parseInt(e[1],10),parseInt(e[2],10)-1,parseInt(e[3],10),parseInt(e[4],10),parseInt(e[5],10),e[6]&&(parseInt(e[6],10)||0),e[7]&&1e3*parseFloat(e[7])||0),e[9]&&e[10]&&(n=60*parseInt(e[9],10)+parseInt(e[10],10),t+=("+"===e[8]?-1:1)*n*60*1e3),i=new Date(t).getTime()),i}function h(e){return Date.parse(e)}function g(e){return Date.parse(e)}function m(e,t,n){n()}function y(e,t,n){e=r(e);isNaN(e)?n():t(e)}function v(t,e,n,i,r){var o,a,s,l=!1,u=new XMLHttpRequest,d=r?b.HTTPRequest.HEAD:b.HTTPRequest.GET,c=e.match(/\S+/g);e=c.shift(),o=function(){l||(l=!0,c.length?v(t,c.join(" "),n,i,r):i())},a=function(){var e;200===u.status&&(e=r?u.getResponseHeader("Date"):u.response,e=t(e),isNaN(e)||(n(e),l=!0))},f.isRelative(e)&&(s=p.resolve())&&(e=f.resolve(e,s.url)),u.open(d,e),u.timeout=5e3,u.onload=a,u.onloadend=o,u.send()}function _(e,t,n){v(g,e,t,n,!0)}function E(e,t,n){d(!1),i.trigger(A.default.TIME_SYNCHRONIZATION_COMPLETED,{time:t,offset:n,error:e?new T.default(w.default.TIME_SYNC_FAILED_ERROR_CODE,w.default.TIME_SYNC_FAILED_ERROR_MESSAGE):null})}return e={initialize:function(e,t){s=t,a=0,n=!1,l={"urn:mpeg:dash:utc:http-head:2014":_,"urn:mpeg:dash:utc:http-xsdate:2014":v.bind(null,r),"urn:mpeg:dash:utc:http-iso:2014":v.bind(null,h),"urn:mpeg:dash:utc:direct:2014":y,"urn:mpeg:dash:utc:http-head:2012":_,"urn:mpeg:dash:utc:http-xsdate:2012":v.bind(null,r),"urn:mpeg:dash:utc:http-iso:2012":v.bind(null,h),"urn:mpeg:dash:utc:direct:2012":y,"urn:mpeg:dash:utc:http-ntp:2014":m,"urn:mpeg:dash:utc:ntp:2014":m,"urn:mpeg:dash:utc:sntp:2014":m},n||function e(t,n){function i(e,t){var n,i=!e||!t;i&&s?(n=null!==(n=u.getLatestMPDRequestHeaderValueByID("Date"))?new Date(n).getTime():Number.NaN,isNaN(n)?E(!0):(c(n-(new Date).getTime()),E(!1,n/1e3,a))):E(i,e,t)}var r=n||0,n=t[r];d(!0),n?l.hasOwnProperty(n.schemeIdUri)?l[n.schemeIdUri](n.value,function(e){var t=(new Date).getTime(),n=e-t;c(n),o.info("Local time: "+new Date(t)),o.info("Server time: "+new Date(e)),o.info("Server Time - Local Time (ms): "+n),i(e,n)},function(){e(t,r+1)}):e(t,r+1):(c(0),i())}(e)},getOffsetToDeviceTimeMs:function(){return a},setConfig:function(e){e&&(e.dashMetrics&&(u=e.dashMetrics),e.baseURLController)&&(p=e.baseURLController)},reset:function(){d(!1)}},o=(0,I.default)(t).getInstance().getLogger(e),e}o.__dashjs_factory_name="TimeSyncController";e=r.default.getSingletonFactory(o);e.HTTP_TIMEOUT_MS=5e3,r.default.updateSingletonFactory(o.__dashjs_factory_name,e),n.default=e,t.exports=n.default},{221:221,226:226,242:242,45:45,46:46,47:47,51:51,54:54}],123:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=i(e(107)),d=i(e(46)),y=i(e(54)),r=i(e(47)),c=i(e(3)),v=i(e(221)),_=i(e(61)),E="onLoad";function o(e){e=e||{};var t=this.context,f=(0,d.default)(t).getInstance(),s=(0,v.default)(t).getInstance(),n=void 0,i=void 0,p=void 0,h=void 0,r=void 0,l=void 0;function g(e,t,n){var i,r,o={};o.elements=e,o.type=t,o.resolveType=n,0===o.elements.length&&u(o);for(var a=0;a<o.elements.length;a++)i=o.elements[a],r=s.isHTTPURL(i.url)?i.url:i.originalContent.BaseURL+i.url,l.load(r,i,o)}function o(e){var t,n=void 0,n=e.element,e=e.resolveObject;n.resolvedContent&&((t=0)===n.resolvedContent.indexOf("<?xml")&&(t=n.resolvedContent.indexOf("?>")+2),t=n.resolvedContent.substr(0,t)+"<response>"+n.resolvedContent.substr(t)+"</response>",n.resolvedContent=r.xml_str2json(t)),function(e){for(var t=void 0,t=0;t<e.elements.length;t++)if(!1===e.elements[t].resolved)return;return 1}(e)&&u(e)}function u(e){for(var t,n,i=[],r=void 0,o=void 0,a=e,s=[],l=void 0,u=void 0,d=void 0,c=void 0,u=a.elements.length-1;0<=u;u--){if(t=(l=a.elements[u]).type+"_asArray",l.resolvedContent){if(l.resolvedContent)for(d=0;d<l.resolvedContent[t].length;d++)n=l.resolvedContent[t][d],s.push(n)}else delete l.originalContent["xlink:actuate"],delete l.originalContent["xlink:href"],s.push(l.originalContent);for(l.parentElement[t].splice(l.index,1),c=0;c<s.length;c++)l.parentElement[t].splice(l.index+c,0,s[c]);s=[]}if(0<a.elements.length&&p.run(h),"onActuate"===e.resolveType&&f.trigger(y.default.XLINK_READY,{manifest:h}),e.resolveType===E)switch(e.type){case _.default.PERIOD:for(r=0;r<h[_.default.PERIOD+"_asArray"].length;r++)(o=h[_.default.PERIOD+"_asArray"][r]).hasOwnProperty(_.default.ADAPTATION_SET+"_asArray")&&(i=i.concat(m(o[_.default.ADAPTATION_SET+"_asArray"],o,_.default.ADAPTATION_SET,E))),o.hasOwnProperty(_.default.EVENT_STREAM+"_asArray")&&(i=i.concat(m(o[_.default.EVENT_STREAM+"_asArray"],o,_.default.EVENT_STREAM,E)));g(i,_.default.ADAPTATION_SET,E);break;case _.default.ADAPTATION_SET:f.trigger(y.default.XLINK_READY,{manifest:h})}}function m(e,t,n,i){for(var r,o=[],a=void 0,s=void 0,s=e.length-1;0<=s;s--)(a=e[s]).hasOwnProperty("xlink:href")&&"urn:mpeg:dash:resolve-to-zero:2013"===a["xlink:href"]&&e.splice(s,1);for(s=0;s<e.length;s++)(a=e[s]).hasOwnProperty("xlink:href")&&a.hasOwnProperty("xlink:actuate")&&a["xlink:actuate"]===i&&(r={url:a["xlink:href"],parentElement:t,type:n,index:s,resolveType:i,originalContent:a,resolvedContent:null,resolved:!1},o.push(r));return o}return n={resolveManifestOnLoad:function(e){r=new c.default({escapeMode:!1,attributePrefix:"",arrayAccessForm:"property",emptyNodeForm:"object",stripWhitespaces:!1,enableToStringFunc:!1,ignoreRoot:!0,matchers:i}),g(m((h=e).Period_asArray,h,_.default.PERIOD,E),_.default.PERIOD,E)},setMatchers:function(e){e&&(i=e)},setIron:function(e){e&&(p=e)},reset:function(){f.off(y.default.XLINK_ELEMENT_LOADED,o,n),l&&(l.reset(),l=null)}},f.on(y.default.XLINK_ELEMENT_LOADED,o,n),l=(0,a.default)(t).create({errHandler:e.errHandler,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,requestModifier:e.requestModifier,settings:e.settings}),n}o.__dashjs_factory_name="XlinkController",n.default=r.default.getClassFactory(o),t.exports=n.default},{107:107,221:221,3:3,46:46,47:47,54:54,61:61}],124:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(138)),o=i(e(125)),a=i(e(126)),s=i(e(131)),l=i(e(136));function u(){var t=this.context;return{createMetricsReporting:function(e){return(0,r.default)(t).getInstance({eventBus:e.eventBus,dashMetrics:e.dashMetrics,metricsConstants:e.metricsConstants,events:e.events}),(0,a.default)(t).create(e)},getReportingFactory:function(){return(0,l.default)(t).getInstance()},getMetricsHandlerFactory:function(){return(0,s.default)(t).getInstance()}}}u.__dashjs_factory_name="MetricsReporting";e=dashjs.FactoryMaker.getClassFactory(u);e.events=o.default,dashjs.FactoryMaker.updateClassFactory(u.__dashjs_factory_name,e),n.default=e,t.exports=n.default},{125:125,126:126,131:131,136:136,138:138}],125:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(55);function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");(function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n,i=!1,s=(null===r&&(r=Function.prototype),Object.getOwnPropertyDescriptor(r,o));if(void 0!==s)return"value"in s?s.value:void 0===(s=s.get)?void 0:s.call(a);s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=a,i=!0}})(Object.getPrototypeOf(i.prototype),"constructor",this).call(this),this.METRICS_INITIALISATION_COMPLETE="internal_metricsReportingInitialized",this.BECAME_REPORTING_PLAYER="internal_becameReportingPlayer"}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,(e&&e.__esModule?e:{default:e}).default);e=new i;n.default=e,t.exports=n.default},{55:55}],126:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var s=i(e(127)),l=i(e(140)),u=i(e(125));function r(r){r=r||{};var o={},a=this.context,t=r.eventBus,e=r.events;function n(e){var i;e.error||(i=Object.keys(o),(0,l.default)(a).getInstance({adapter:r.adapter,constants:r.constants}).getMetrics(e.manifest).forEach(function(e){var t=JSON.stringify(e);if(o.hasOwnProperty(t))i.splice(t,1);else try{var n=(0,s.default)(a).create(r);n.initialize(e),o[t]=n}catch(e){}}),i.forEach(function(e){o[e].reset(),delete o[e]}),t.trigger(u.default.METRICS_INITIALISATION_COMPLETE))}function i(){Object.keys(o).forEach(function(e){o[e].reset()}),o={}}return t.on(e.MANIFEST_UPDATED,n),t.on(e.STREAM_TEARDOWN_COMPLETE,i),{reset:function(){t.off(e.MANIFEST_UPDATED,n),t.off(e.STREAM_TEARDOWN_COMPLETE,i)}}}r.__dashjs_factory_name="MetricsCollectionController",n.default=dashjs.FactoryMaker.getClassFactory(r),t.exports=n.default},{125:125,127:127,140:140}],127:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var s=i(e(129)),l=i(e(130)),u=i(e(128));function r(t){t=t||{};var n=void 0,i=void 0,r=void 0,o=this.context;function a(){n&&n.reset(),i&&i.reset(),r&&r.reset()}return{initialize:function(e){try{(r=(0,s.default)(o).create({mediaElement:t.mediaElement})).initialize(e.Range),(i=(0,l.default)(o).create({debug:t.debug,metricsConstants:t.metricsConstants})).initialize(e.Reporting,r),(n=(0,u.default)(o).create({debug:t.debug,eventBus:t.eventBus,metricsConstants:t.metricsConstants,events:t.events})).initialize(e.metrics,i)}catch(e){throw a(),e}},reset:a}}r.__dashjs_factory_name="MetricsController",n.default=dashjs.FactoryMaker.getClassFactory(r),t.exports=n.default},{128:128,129:129,130:130}],128:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(131),r=e&&e.__esModule?e:{default:e};function i(e){var o=[],t=void 0,n=this.context,i=(e=e||{}).eventBus,a=e.events,s=(0,r.default)(n).getInstance({debug:e.debug,eventBus:e.eventBus,metricsConstants:e.metricsConstants});function l(t){o.forEach(function(e){e.handleNewMetric(t.metric,t.value,t.mediaType)})}return t={initialize:function(e,r){e.split(",").forEach(function(e,t,n){var i;-1!==e.indexOf("(")&&-1===e.indexOf(")")&&(i=n[t+1])&&-1===i.indexOf("(")&&-1!==i.indexOf(")")&&(e+=","+i,delete n[t+1]),(i=s.create(e,r))&&o.push(i)}),i.on(a.METRIC_ADDED,l,t),i.on(a.METRIC_UPDATED,l,t)},reset:function(){i.off(a.METRIC_ADDED,l,t),i.off(a.METRIC_UPDATED,l,t),o.forEach(function(e){return e.reset()}),o=[]}}}i.__dashjs_factory_name="MetricsHandlersController",n.default=dashjs.FactoryMaker.getClassFactory(i),t.exports=n.default},{131:131}],129:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(209),i=e&&e.__esModule?e:{default:e};function r(e){var o=!1,t=this.context,a=void 0,s=(e=e||{}).mediaElement,e={initialize:function(e){e&&e.length&&(e.forEach(function(e){var t=e.starttime,e=t+e.duration;a.add(t,e)}),o=!!e[0]._useWallClockTime)},reset:function(){a.clear()},isEnabled:function(){var e=a.length;if(!e)return!0;for(var t=o?(new Date).getTime()/1e3:s.currentTime,n=0;n<e;n+=1){var i=a.start(n),r=a.end(n);if(i<=t&&t<r)return!0}return!1}},a=(0,i.default)(t).create();return e}r.__dashjs_factory_name="RangeController",n.default=dashjs.FactoryMaker.getClassFactory(r),t.exports=n.default},{209:209}],130:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(136),r=e&&e.__esModule?e:{default:e};function i(e){var i=[],n=(0,r.default)(this.context).getInstance(e);return{initialize:function(e,t){e.some(function(e){e=n.create(e,t);if(e)return i.push(e),!0})},reset:function(){i.forEach(function(e){return e.reset()}),i=[]},report:function(t,n){i.forEach(function(e){return e.report(t,n)})}}}i.__dashjs_factory_name="ReportingController",n.default=dashjs.FactoryMaker.getClassFactory(i),t.exports=n.default},{136:136}],131:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var u=i(e(132)),d=i(e(133)),c=i(e(135)),f=i(e(134));function r(r){var o=(r=r||{}).debug?r.debug.getLogger(void 0):{},a=/([a-zA-Z]*)(\(([0-9]*)(\,\s*([a-zA-Z]*))?\))?/,s=this.context,l={BufferLevel:u.default,DVBErrors:d.default,HttpList:c.default,PlayList:f.default,RepSwitchList:f.default,TcpList:f.default};return{create:function(e,t){var n,i=e.match(a);if(i){try{(n=l[i[1]](s).create({eventBus:r.eventBus,metricsConstants:r.metricsConstants})).initialize(i[1],t,i[3],i[5])}catch(e){n=null,o.error("MetricsHandlerFactory: Could not create handler for type "+i[1]+" with args "+i[3]+", "+i[5]+" ("+e.message+")")}return n}},register:function(e,t){l[e]=t},unregister:function(e){delete l[e]}}}r.__dashjs_factory_name="MetricsHandlerFactory",n.default=dashjs.FactoryMaker.getSingletonFactory(r),t.exports=n.default},{132:132,133:133,134:134,135:135}],132:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(139),c=e&&e.__esModule?e:{default:e};function i(e){e=e||{};var i=void 0,r=void 0,o=void 0,a=void 0,t=void 0,n=this.context,s=(0,c.default)(n).getInstance(),l=[],u=e.metricsConstants;function d(){var e=function(){try{return Object.keys(l).map(function(e){return l[e]}).reduce(function(e,t){return e.level<t.level?e:t})}catch(e){}}();e&&t!==e.t&&(t=e.t,i.report(o,e))}return{initialize:function(e,t,n){t&&(r=s.validateN(n),i=t,o=s.reconstructFullMetricName(e,n),a=setInterval(d,r))},reset:function(){clearInterval(a),r=0,t=i=a=null},handleNewMetric:function(e,t,n){e===u.BUFFER_LEVEL&&(l[n]=t)}}}i.__dashjs_factory_name="BufferLevelHandler",n.default=dashjs.FactoryMaker.getClassFactory(i),t.exports=n.default},{139:139}],133:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(125),a=e&&e.__esModule?e:{default:e};n.default=dashjs.FactoryMaker.getClassFactory(function(e){var n=void 0,i=(e=e||{}).eventBus,r=e.metricsConstants;function o(){i.off(a.default.METRICS_INITIALISATION_COMPLETE,o,this),i.trigger(a.default.BECAME_REPORTING_PLAYER)}return{initialize:function(e,t){t&&(n=t,i.on(a.default.METRICS_INITIALISATION_COMPLETE,o,this))},reset:function(){n=null},handleNewMetric:function(e,t){e===r.DVB_ERRORS&&n&&n.report(e,t)}}}),t.exports=n.default},{125:125}],134:[function(e,t,n){"use strict";function i(){var n=void 0,i=void 0;return{initialize:function(e,t){n=e,i=t},reset:function(){i=null,n=void 0},handleNewMetric:function(e,t){e===n&&i&&i.report(n,t)}}}Object.defineProperty(n,"__esModule",{value:!0}),i.__dashjs_factory_name="GenericMetricHandler",n.default=dashjs.FactoryMaker.getClassFactory(i),t.exports=n.default},{}],135:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(139),c=e&&e.__esModule?e:{default:e};function i(e){e=e||{};var r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,n=[],u=(0,c.default)(this.context).getInstance(),i=e.metricsConstants;function d(){n.length&&r&&r.report(s,n),n=[]}return{initialize:function(e,t,n,i){t&&(o=u.validateN(n),r=t,i&&i.length&&(a=i),s=u.reconstructFullMetricName(e,n,i),l=setInterval(d,o))},reset:function(){clearInterval(l),n=[],r=a=o=l=null},handleNewMetric:function(e,t){e!==i.HTTP_REQUEST||a&&a!==t.type||n.push(t)}}}i.__dashjs_factory_name="HttpListHandler",n.default=dashjs.FactoryMaker.getClassFactory(i),t.exports=n.default},{139:139}],136:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(137),s=e&&e.__esModule?e:{default:e};function i(e){var i={"urn:dvb:dash:reporting:2014":s.default},r=this.context,o=(e=e||{}).debug?e.debug.getLogger(void 0):{},a=e.metricsConstants;return{create:function(e,t){var n=void 0;try{(n=i[e.schemeIdUri](r).create({metricsConstants:a})).initialize(e,t)}catch(t){n=null,o.error("ReportingFactory: could not create Reporting with schemeIdUri "+e.schemeIdUri+" ("+t.message+")")}return n},register:function(e,t){i[e]=t},unregister:function(e){delete i[e]}}}i.__dashjs_factory_name="ReportingFactory",n.default=dashjs.FactoryMaker.getSingletonFactory(i),t.exports=n.default},{137:137}],137:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var a=i(e(141)),f=i(e(142));function r(e){var t=this.context,s=void 0,n=void 0,i=void 0,l=void 0,u=void 0,r=void 0,d=[],c=(e=e||{}).metricsConstants;function o(){l=i=!1,r=u=null}return e={report:function(a,e){Array.isArray(e)||(e=[e]),l&&r.isEnabled()&&e.forEach(function(e){var e=s.serialise(e),t=(a!==c.DVB_ERRORS&&(e="metricname="+a+"&"+e),e=u+"?"+e),n=null,i=function(){l=!1};function r(){var e=d.indexOf(o);-1!==e&&(d.splice(e,1),200<=o.status&&o.status<300?n&&n():i&&i())}var o=new XMLHttpRequest;d.push(o);try{o.open("GET",t),o.onloadend=r,o.onerror=r,o.send()}catch(t){o.onerror()}})},initialize:function(e,t){if(r=t,!(u=e["dvb:reportingUrl"]))throw new Error("required parameter missing (dvb:reportingUrl)");i||((t=e["dvb:probability"]||e["dvb:priority"]||0)&&(1e3===t||t/1e3>=n.random())&&(l=!0),i=!0)},reset:function(){o()}},s=(0,a.default)(t).getInstance(),n=(0,f.default)(t).getInstance(),o(),e}r.__dashjs_factory_name="DVBReporting",n.default=dashjs.FactoryMaker.getClassFactory(r),t.exports=n.default},{141:141,142:142}],138:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var h=i(e(143)),g=i(e(125));function r(e){var t=void 0,i=void 0,n=(e=e||{}).eventBus,r=e.dashMetrics,o=e.metricsConstants,a=e.events;function s(e){var t=new h.default;if(i){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.mpdurl||(t.mpdurl=i.originalUrl||i.url),t.terror||(t.terror=new Date),r.addDVBErrors(t)}}function l(e){e.error||(i=e.manifest)}function u(e){s({errorcode:h.default.BASE_URL_CHANGED,servicelocation:e.entry})}function d(){s({errorcode:h.default.BECAME_REPORTER})}function c(e){e.metric===o.HTTP_REQUEST&&(0===(e=e.value).responsecode||400<=e.responsecode||e.responsecode<100||600<=e.responsecode)&&s({errorcode:e.responsecode||h.default.CONNECTION_ERROR,url:e.url,terror:e.tresponse,servicelocation:e._serviceLocation})}function f(e){var t=void 0;switch(e.error?e.error.code:0){case MediaError.MEDIA_ERR_NETWORK:t=h.default.CONNECTION_ERROR;break;case MediaError.MEDIA_ERR_DECODE:t=h.default.CORRUPT_MEDIA_OTHER;break;default:return}s({errorcode:t})}function p(){n.on(a.MANIFEST_UPDATED,l,t),n.on(a.SERVICE_LOCATION_BLACKLIST_CHANGED,u,t),n.on(a.METRIC_ADDED,c,t),n.on(a.METRIC_UPDATED,c,t),n.on(a.PLAYBACK_ERROR,f,t),n.on(g.default.BECAME_REPORTING_PLAYER,d,t)}return t={initialise:p,reset:function(){n.off(a.MANIFEST_UPDATED,l,t),n.off(a.SERVICE_LOCATION_BLACKLIST_CHANGED,u,t),n.off(a.METRIC_ADDED,c,t),n.off(a.METRIC_UPDATED,c,t),n.off(a.PLAYBACK_ERROR,f,t),n.off(g.default.BECAME_REPORTING_PLAYER,d,t)}},p(),t}r.__dashjs_factory_name="DVBErrorsTranslator",n.default=dashjs.FactoryMaker.getSingletonFactory(r),t.exports=n.default},{125:125,143:143}],139:[function(e,t,n){"use strict";function i(){return{reconstructFullMetricName:function(e,t,n){return t&&(e+="("+t,n&&n.length&&(e+=","+n),e+=")"),e},validateN:function(e){if(!e)throw new Error("missing n");if(isNaN(e))throw new Error("n is NaN");if(e<0)throw new Error("n must be positive");return e}}}Object.defineProperty(n,"__esModule",{value:!0}),i.__dashjs_factory_name="HandlerHelpers",n.default=dashjs.FactoryMaker.getSingletonFactory(i),t.exports=n.default},{}],140:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(144)),c=i(e(145)),o=i(e(146));function a(e){var u=(e=e||{}).adapter,d=e.constants;return{getMetrics:function(l){var t=[];return l&&l.Metrics_asArray&&l.Metrics_asArray.forEach(function(e){var a=new r.default,s=u.getIsDynamic(l);e.hasOwnProperty("metrics")&&(a.metrics=e.metrics,e.Range_asArray&&e.Range_asArray.forEach(function(e){var t,n,i,r,o=new c.default;o.starttime=(n=l,t=e,i=void 0,r=0,s?r=u.getAvailabilityStartTime(n)/1e3:(n=u.getRegularPeriods(n)).length&&(r=n[0].start),i=r,t&&t.hasOwnProperty(d.START_TIME)&&(i+=t.starttime),i),e.hasOwnProperty("duration")?o.duration=e.duration:o.duration=u.getDuration(l),o._useWallClockTime=s,a.Range.push(o)}),e.Reporting_asArray)&&(e.Reporting_asArray.forEach(function(e){var t=new o.default;if(e.hasOwnProperty(d.SCHEME_ID_URI)){for(var n in t.schemeIdUri=e.schemeIdUri,e)e.hasOwnProperty(n)&&(t[n]=e[n]);a.Reporting.push(t)}}),t.push(a))}),t}}}a.__dashjs_factory_name="ManifestParsing",n.default=dashjs.FactoryMaker.getSingletonFactory(a),t.exports=n.default},{144:144,145:145,146:146}],141:[function(e,t,n){"use strict";function i(){return{serialise:function n(e){var t=[],i=[],r=void 0,o=void 0;for(r in e)if(e.hasOwnProperty(r)&&0!==r.indexOf("_")){if(null==(o=e[r])&&(o=""),Array.isArray(o)){if(!o.length)continue;i=[],o.forEach(function(e){var t="Object"!==Object.prototype.toString.call(e).slice(8,-1);i.push(t?e:n(e))}),o=i.map(encodeURIComponent).join(",")}else"string"==typeof o?o=encodeURIComponent(o):o instanceof Date?o=o.toISOString():"number"==typeof o&&(o=Math.round(o));t.push(r+"="+o)}return t.join("&")}}}Object.defineProperty(n,"__esModule",{value:!0}),i.__dashjs_factory_name="MetricSerialiser",n.default=dashjs.FactoryMaker.getSingletonFactory(i),t.exports=n.default},{}],142:[function(e,t,n){"use strict";function i(){var e,i=window.crypto||window.msCrypto,t=Uint32Array,r=Math.pow(2,8*t.BYTES_PER_ELEMENT)-1,o=void 0,a=void 0;function s(){i&&(o=o||new t(10),i.getRandomValues(o),a=0)}return e={random:function(e,t){var n=void 0;return e=e||0,t=t||1,i?(a===o.length&&s(),n=o[a]/r,a+=1):n=Math.random(),n*(t-e)+e}},s(),e}Object.defineProperty(n,"__esModule",{value:!0}),i.__dashjs_factory_name="RNG",n.default=dashjs.FactoryMaker.getSingletonFactory(i),t.exports=n.default},{}],143:[function(e,t,n){"use strict";function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.mpdurl=null,this.errorcode=null,this.terror=null,this.url=null,this.ipaddress=null,this.servicelocation=null}Object.defineProperty(n,"__esModule",{value:!0}),i.SSL_CONNECTION_FAILED_PREFIX="SSL",i.DNS_RESOLUTION_FAILED="C00",i.HOST_UNREACHABLE="C01",i.CONNECTION_REFUSED="C02",i.CONNECTION_ERROR="C03",i.CORRUPT_MEDIA_ISOBMFF="M00",i.CORRUPT_MEDIA_OTHER="M01",i.BASE_URL_CHANGED="F00",i.BECAME_REPORTER="S00",n.default=i,t.exports=n.default},{}],144:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.metrics="",this.Range=[],this.Reporting=[]},t.exports=n.default},{}],145:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.starttime=0,this.duration=1/0,this._useWallClockTime=!1},t.exports=n.default},{}],146:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.schemeIdUri="",this.value=""},t.exports=n.default},{}],147:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.data={baseUrls:e||null,selectedIdx:t||NaN},this.children=[]}Object.defineProperty(n,"__esModule",{value:!0});var l=i(e(217)),e=i(e(47));function r(){var r=void 0,o=void 0,e=this.context,i=(0,l.default)(e).getInstance();function a(e,t,n){n=o.getBaseURLsFromElement(n);e[t]?i.areEqual(n,e[t].data.baseUrls)||(e[t].data.baseUrls=n,e[t].data.selectedIdx=NaN):e[t]=new s(n)}function t(){r=new s}return e={reset:t,update:function(e){if(!o||!o.hasOwnProperty("getBaseURLsFromElement")||!o.hasOwnProperty("getRepresentationSortFunction"))throw new Error("setConfig function has to be called previously");var t=o.getBaseURLsFromElement(e);i.areEqual(t,r.data.baseUrls)||(r.data.baseUrls=t,r.data.selectedIdx=NaN),e&&e.Period_asArray&&e.Period_asArray.forEach(function(e,i){a(r.children,i,e),e.AdaptationSet_asArray&&e.AdaptationSet_asArray.forEach(function(e,n){a(r.children[i].children,n,e),e.Representation_asArray&&e.Representation_asArray.sort(o.getRepresentationSortFunction()).forEach(function(e,t){a(r.children[i].children[n].children,t,e)})})})},getForPath:function(e){var t=r,n=[t.data];return e&&e.forEach(function(e){(t=t.children[e])&&n.push(t.data)}),n.filter(function(e){return e.baseUrls.length})},invalidateSelectedIndexes:function(t){!function t(n,e){e=e||r;n(e.data),e.children&&e.children.forEach(function(e){return t(n,e)})}(function(e){isNaN(e.selectedIdx)||t===e.baseUrls[e.selectedIdx].serviceLocation&&(e.selectedIdx=NaN)})},setConfig:function(e){e.adapter&&(o=e.adapter)}},t(),e}r.__dashjs_factory_name="BaseURLTreeModel",n.default=e.default.getClassFactory(r),t.exports=n.default},{217:217,47:47}],148:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var d=i(e(46)),g=i(e(101)),r=i(e(47)),m=i(e(45)),y=i(e(48)),v=e(242),_=i(e(65)),E=i(e(49)),T="dash.js-v"+(0,e(50).getVersionString)();function o(){var i=void 0,e=void 0,c=void 0,f=void 0,p=void 0,n=void 0,t=this.context,r=(0,d.default)(t).getInstance(),o=(0,y.default)(t).getInstance();function a(){c={pr:1,nor:null,st:null,sf:null,sid:""+E.default.generateUuid(),bs:{audio:1,video:1},cid:null,did:T}}function h(){var e={v:1};return e.sid=(o.get().streaming.cmcd.sid?o.get().streaming.cmcd:c).sid,e.cid=(o.get().streaming.cmcd.cid?o.get().streaming.cmcd:c).cid,e.did=(o.get().streaming.cmcd.did?o.get().streaming.cmcd:c).did,e.sid='"'+e.sid+'"',e.cid='"'+e.cid+'"',e.did='"'+e.did+'"',isNaN(c.pr)||1===c.pr||null===c.pr||(e.pr=c.pr),c.st&&(e.st=c.st),c.sf&&(e.sf=c.sf),e}function s(e){try{c.pr=e.playbackRate}catch(e){}}function l(e){try{var t=i.getIsDynamic(e.data)?"l":"v",n=e.protocol&&"MSS"===e.protocol?"s":"d";c.st=t,c.sf=n}catch(e){}}function u(e){try{if(e.state&&e.mediaType){var t=null;switch(e.state){case g.default.BUFFER_LOADED:t=null;break;case g.default.BUFFER_EMPTY:n.isSeeking()&&(t=2),t=4}c.bs[e.mediaType]=t}}catch(e){}}return e={getQueryParameter:function(e){try{return o.get().streaming.cmcd&&o.get().streaming.cmcd.enabled?{key:"Common-Media-Client-Data",value:function(i){try{var e=i?(t=Object.keys(i),r=t.length,{v:t.reduce(function(e,t,n){return e+=t+"="+i[t],n<r-1&&(e+=","),e},"")}):{v:null};if("object"==typeof e)return e.v}catch(e){return null}var t,r}(function(e){try{if(e.type===v.HTTPRequest.MPD_TYPE){{var t=e;try{c.cid=""+E.default.generateHashCode(t.url)}catch(t){}}return d=h(),d.ot="m",d}else return e.type===v.HTTPRequest.MEDIA_SEGMENT_TYPE?(i=e,r=h(),o=function(e){try{var t=e.quality,n=e.mediaInfo.bitrateList;return parseInt(n[t].bandwidth/1e3)}catch(e){return null}}(i),a=function(e){try{return isNaN(e.duration)?null:Math.round(1e3*e.duration)}catch(e){return null}}(i),s="video"===i.mediaType?"v":"audio"===i.mediaType?"a":"fragmentedText"===i.mediaType?"c":null,l=function(e){try{return Math.round(f.getThroughputHistory().getSafeAverageThroughput(e))}catch(e){return null}}(i.mediaType),u=function(e){try{var t=c.pr,n=p.getCurrentBufferLevel(e);return isNaN(t)||isNaN(n)?null:parseInt(n/t*1e3)}catch(e){return null}}(i.mediaType),i=function(e){try{var t=e.mediaType;return null!==c.bs[t]?c.bs[t]:p.getCurrentBufferLevel(t)<e.duration?3:null}catch(e){}}(i),o&&(r.br=o),s&&(r.ot=s),isNaN(a)||(r.d=a),isNaN(l)||(r.mtp=l),isNaN(u)||(r.dl=u),isNaN(i)||null===i||(r.bs=i),r):e.type===v.HTTPRequest.INIT_SEGMENT_TYPE?((n=h()).ot="i",n):null}catch(e){return null}var n,i,r,o,a,s,l,u,d}(e))}:null}catch(e){return null}},setConfig:function(e){e&&(e.abrController&&(f=e.abrController),e.dashMetrics&&(p=e.dashMetrics),e.playbackController)&&(n=e.playbackController)},reset:function(){r.off(g.default.PLAYBACK_RATE_CHANGED,s,this),r.off(g.default.MANIFEST_LOADED,l,this),r.off(g.default.BUFFER_LEVEL_STATE_CHANGED,u,e),a()},initialize:function(){r.on(g.default.PLAYBACK_RATE_CHANGED,s,e),r.on(g.default.MANIFEST_LOADED,l,e),r.on(g.default.BUFFER_LEVEL_STATE_CHANGED,u,e)}},(0,m.default)(t).getInstance().getLogger(e),i=(0,_.default)(t).getInstance(),a(),e}o.__dashjs_factory_name="CmcdModel",n.default=r.default.getSingletonFactory(o),t.exports=n.default},{101:101,242:242,45:45,46:46,47:47,48:48,49:49,50:50,65:65}],149:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),_=i(e(228)),E="loading",T="executed";function o(e){var n=(e=e||{}).eventBus,i=e.events,r=e.dashMetrics,o=e.fragmentLoader,e=e.debug,a=void 0,s=void 0,t=void 0,l=void 0,u=void 0;function d(i){var r;return!!i&&(r=!1,l.some(function(e){if(t=i,n=e,!isNaN(t.index)&&t.startTime===n.startTime&&t.adaptationIndex===n.adaptationIndex&&t.type===n.type||(t=i,n=e,isNaN(t.index)&&isNaN(n.index)&&t.quality===n.quality)||i.action===_.default.ACTION_COMPLETE&&i.action===e.action)return r=!0;var t,n}),r)}function c(e){return isNaN(e.duration)?.25:Math.min(e.duration/8,.5)}function f(n){l=l.filter(function(e){var t=c(e);return isNaN(e.startTime)||void 0!==n&&e.startTime>=n-t})}function p(n,i){i<=n+.5||(l=l.filter(function(e){var t=c(e);return isNaN(e.startTime)||e.startTime>=i-t||isNaN(e.duration)||e.startTime+e.duration<=n+t}))}function h(e,t){r.addSchedulingInfo(e,t),r.addRequestsQueue(e.mediaType,u,l)}function g(e){e.sender===o&&(u.splice(u.indexOf(e.request),1),e.response&&!e.error&&l.push(e.request),h(e.request,e.error?"failed":T),n.trigger(i.FRAGMENT_LOADING_COMPLETED,{request:e.request,response:e.response,error:e.error,sender:this}))}function m(e){e.sender===o&&n.trigger(i.FRAGMENT_LOADING_PROGRESS,{request:e.request,response:e.response,error:e.error,sender:this})}function y(e){e.sender===o&&n.trigger(i.FRAGMENT_LOADING_ABANDONED,{streamProcessor:this.getStreamProcessor(),request:e.request,mediaType:e.mediaType})}function v(){l=[],u=[]}return a={setStreamProcessor:function(e){t=e},getStreamProcessor:function(){return t},getRequests:function(i){var e=i?i.state instanceof Array?i.state:[i.state]:[],r=[];return e.forEach(function(t){var n,e=function(){var e=void 0;switch(t){case E:e=u;break;case T:e=l;break;default:e=[]}return e}();r=r.concat((e=e,(n=i).hasOwnProperty("time")?[function(e,t,n){for(var i=e.length-1;0<=i;i--){var r=e[i],o=r.startTime,a=o+r.duration;if(n=isNaN(n)?c(r):n,!isNaN(o)&&!isNaN(a)&&o<=t+n&&t-n<a||isNaN(o)&&isNaN(t))return r}return null}(e,n.time,n.threshold)]:e.filter(function(e){for(var t in n)if("state"!==t&&n.hasOwnProperty(t)&&e[t]!=n[t])return!1;return!0})))}),r},isFragmentLoaded:d,isFragmentLoadedOrPending:function(e){var t,n=!1,i=0;if(!(n=d(e)))for(i=0;i<u.length;i++)t=u[i],e.url===t.url&&e.startTime===t.startTime&&(n=!0);return n},removeExecutedRequestsBeforeTime:f,removeExecutedRequestsAfterTime:function(t){l=l.filter(function(e){return isNaN(e.startTime)||void 0!==t&&e.startTime<t})},syncExecutedRequestsWithBufferedRange:function(e,t){if(e&&0!==e.length){for(var n=0,i=0,r=e.length;i<r;i++)p(n,e.start(i)),n=e.end(i);0<t&&p(n,t)}else f()},abortRequests:function(){o.abort(),u=[]},executeRequest:function(e){switch(e.action){case _.default.ACTION_COMPLETE:l.push(e),h(e,T),s.debug("executeRequest trigger STREAM_COMPLETED"),n.trigger(i.STREAM_COMPLETED,{request:e,fragmentModel:this});break;case _.default.ACTION_DOWNLOAD:h(e,E),u.push(e),n.trigger(i.FRAGMENT_LOADING_STARTED,{sender:a,request:t=e}),o.load(t);break;default:s.warn("Unknown request action.")}var t},reset:function(){n.off(i.LOADING_COMPLETED,g,this),n.off(i.LOADING_DATA_PROGRESS,m,this),n.off(i.LOADING_ABANDONED,y,this),o&&o.reset(),v()},addExecutedRequest:function(e){l.push(e)}},s=e.getLogger(a),v(),n.on(i.LOADING_COMPLETED,g,a),n.on(i.LOADING_DATA_PROGRESS,m,a),n.on(i.LOADING_ABANDONED,y,a),a}o.__dashjs_factory_name="FragmentModel";e=r.default.getClassFactory(o);e.FRAGMENT_MODEL_LOADING=E,e.FRAGMENT_MODEL_EXECUTED=T,e.FRAGMENT_MODEL_CANCELED="canceled",e.FRAGMENT_MODEL_FAILED="failed",r.default.updateClassFactory(o.__dashjs_factory_name,e),n.default=e,t.exports=n.default},{228:228,47:47}],150:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(46)),o=i(e(54)),e=i(e(47));function a(){var e=this.context,t=(0,r.default)(e).getInstance(),n=void 0;return{getValue:function(){return n},setValue:function(e){(n=e)&&t.trigger(o.default.MANIFEST_LOADED,{data:e})}}}a.__dashjs_factory_name="ManifestModel",n.default=e.default.getSingletonFactory(a),t.exports=n.default},{46:46,47:47,54:54}],151:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var d=i(e(96)),r=i(e(47)),c=i(e(108)),f=i(e(189)),p=i(e(48)),h=e(219);function o(){var r=void 0,i=void 0,o=void 0,e={scheme:"urn:mpeg:dash:utc:http-xsdate:2014",value:"http://time.akamai.com/?iso&ms"},t=this.context,n=(0,p.default)(t).getInstance();function a(e){for(var t=void 0,t=0;t<o.length;t++)if(o[t].rulename===e)return t;return-1}function s(){return n.get().streaming.lowLatencyEnabled?n.get().streaming.liveDelay||3:n.get().streaming.liveDelay}function l(e,t){u(e,t);var n=new d.default;n.schemeIdUri=e,n.value=t,r.push(n)}function u(n,i){(0,h.checkParameterType)(n,"string"),(0,h.checkParameterType)(i,"string"),r.forEach(function(e,t){e.schemeIdUri===n&&e.value===i&&r.splice(t,1)})}return i={default:!(r=[])},o=[],{getABRCustomRules:function(){return o},addABRCustomRule:function(e,t,n){if("string"!=typeof e||e!==f.default.ABANDON_FRAGMENT_RULES&&e!==f.default.QUALITY_SWITCH_RULES||"string"!=typeof t)throw c.default.BAD_ARGUMENT_ERROR;var i=a(t);-1===i?o.push({type:e,rulename:t,rule:n}):(o[i].type=e,o[i].rule=n)},removeABRCustomRule:function(e){e?-1!==(e=a(e))&&o.splice(e,1):o=[]},getStableBufferTime:function(){var e;return n.get().streaming.lowLatencyEnabled?.6*s():-1<(e=n.get().streaming.stableBufferTime)?e:n.get().streaming.fastSwitchEnabled?20:12},getRetryAttemptsForType:function(e){return n.get().streaming.lowLatencyEnabled?5*n.get().streaming.retryAttempts[e]:n.get().streaming.retryAttempts[e]},getRetryIntervalsForType:function(e){return n.get().streaming.lowLatencyEnabled?n.get().streaming.retryIntervals[e]/10:n.get().streaming.retryIntervals[e]},getLiveDelay:s,addUTCTimingSource:l,removeUTCTimingSource:u,getUTCTimingSources:function(){return r},clearDefaultUTCTimingSources:function(){r=[]},restoreDefaultUTCTimingSources:function(){l(e.scheme,e.value)},setXHRWithCredentialsForType:function t(e,n){e?i[e]=!!n:Object.keys(i).forEach(function(e){t(e,n)})},getXHRWithCredentialsForType:function(e){e=i[e];return void 0===e?i.default:e},getDefaultUtcTimingSource:function(){return e},reset:function(){}}}o.__dashjs_factory_name="MediaPlayerModel",n.default=r.default.getSingletonFactory(o),t.exports=n.default},{108:108,189:189,219:219,47:47,48:48,96:96}],152:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var p=i(e(108)),v=i(e(109)),l=i(e(232)),_=e(242),d=i(e(245)),h=i(e(238)),g=i(e(239)),m=i(e(240)),E=i(e(241)),T=e(243),b=i(e(247)),S=i(e(46)),A=i(e(246)),w=i(e(54)),e=i(e(47));function r(e){var i=(e=e||{}).settings,e=this.context,r=(0,S.default)(e).getInstance(),o=void 0;function t(){r.trigger(w.default.METRICS_CHANGED)}function a(e){r.trigger(w.default.METRIC_CHANGED,{mediaType:e}),t()}function u(e,t,n){r.trigger(w.default.METRIC_UPDATED,{mediaType:e,metric:t,value:n}),a(e)}function c(e,t,n){r.trigger(w.default.METRIC_ADDED,{mediaType:e,metric:t,value:n}),a(e)}function s(e,t){var n=null;return e&&(o.hasOwnProperty(e)?n=o[e]:t||(n=new l.default,o[e]=n)),n}function f(e,t,n){e=s(e);null!==e&&(e[t].push(n),e[t].length>i.get().streaming.metricsMaxListDepth)&&e[t].shift()}function y(e,t,n){f(e,t,n),c(e,t,n)}return o={},{clearCurrentMetricsForType:function(e){delete o[e],a(e)},clearAllCurrentMetrics:function(){o={},t()},getMetricsFor:s,addHttpRequest:function e(t,n,i,r,o,a,s,l,u,d,c,f,p,h,g){var m=new _.HTTPRequest;a&&a!==r&&(e(t,null,i,r,o,null,null,l,u,null,null,null,p,null,null),m.actualurl=a),m.tcpid=n,m.type=i,m.url=r,m.range=l,m.trequest=u,m.tresponse=d,m.responsecode=f,m._tfinish=c,m._stream=t,m._mediaduration=p,m._quality=o,m._responseHeaders=h,m._serviceLocation=s,g?g.forEach(function(e){var t,n=m,i=e.s,r=e.d,e=e.b;(t=new _.HTTPRequestTrace).s=i,t.d=r,t.b=e,n.trace.push(t),n.interval||(n.interval=0),n.interval+=r}):(delete m.interval,delete m.trace),y(t,v.default.HTTP_REQUEST,m)},addRepresentationSwitch:function(e,t,n,i,r){var o=new d.default;o.t=t,o.mt=n,o.to=i,r?o.lto=r:delete o.lto,y(e,v.default.TRACK_SWITCH,o)},addBufferLevel:function(e,t,n){var i=new h.default;i.t=t,i.level=n,y(e,v.default.BUFFER_LEVEL,i)},addBufferState:function(e,t,n){var i=new g.default;i.target=n,i.state=t,y(e,v.default.BUFFER_STATE,i)},addDVRInfo:function(e,t,n,i){var r=new m.default;r.time=t,r.range=i,r.manifestInfo=n,y(e,v.default.DVR_INFO,r)},addDroppedFrames:function(e,t){var n=new E.default,i=s(e).DroppedFrames;t&&(n.time=t.creationTime,n.droppedFrames=t.droppedVideoFrames,0<i.length&&i[i.length-1]==n||y(e,v.default.DROPPED_FRAMES,n))},addSchedulingInfo:function(e,t,n,i,r,o,a,s,l){var u=new b.default;u.mediaType=e,u.t=t,u.type=n,u.startTime=i,u.availabilityStartTime=r,u.duration=o,u.quality=a,u.range=s,u.state=l,y(e,v.default.SCHEDULING_INFO,u)},addRequestsQueue:function(e,t,n){var i=new A.default;i.loadingRequests=t,i.executedRequests=n,s(e).RequestsQueue=i,c(e,v.default.REQUESTS_QUEUE,i)},addManifestUpdate:function(e,t,n,i,r,o,a,s,l,u){var d=new T.ManifestUpdate;d.mediaType=e,d.type=t,d.requestTime=n,d.fetchTime=i,d.availabilityStartTime=r,d.presentationStartTime=o,d.clientTimeOffset=a,d.currentTime=s,d.buffered=l,d.latency=u,f(p.default.STREAM,v.default.MANIFEST_UPDATE,d),c(e,v.default.MANIFEST_UPDATE,d)},updateManifestUpdateInfo:function(e,t){if(e){for(var n in t)e[n]=t[n];u(e.mediaType,v.default.MANIFEST_UPDATE,e)}},addManifestUpdateStreamInfo:function(e,t,n,i,r){var o;e&&((o=new T.ManifestUpdateStreamInfo).id=t,o.index=n,o.start=i,o.duration=r,e.streamInfo.push(o),u(e.mediaType,v.default.MANIFEST_UPDATE_STREAM_INFO,e))},addManifestUpdateRepresentationInfo:function(e,t,n,i,r,o,a,s){var l;e&&e.representationInfo&&((l=new T.ManifestUpdateRepresentationInfo).id=t,l.index=n,l.streamIndex=i,l.mediaType=r,l.startNumber=a,l.fragmentInfoType=s,l.presentationTimeOffset=o,e.representationInfo.push(l),u(e.mediaType,v.default.MANIFEST_UPDATE_TRACK_INFO,e))},addPlayList:function(e){e.trace&&Array.isArray(e.trace)?e.trace.forEach(function(e){e.hasOwnProperty("subreplevel")&&!e.subreplevel&&delete e.subreplevel}):delete e.trace,y(p.default.STREAM,v.default.PLAY_LIST,e)},addDVBErrors:function(e){y(p.default.STREAM,v.default.DVB_ERRORS,e)}}}r.__dashjs_factory_name="MetricsModel",n.default=e.default.getSingletonFactory(r),t.exports=n.default},{108:108,109:109,232:232,238:238,239:239,240:240,241:241,242:242,243:243,245:245,246:246,247:247,46:46,47:47,54:54}],153:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var u=i(e(237)),e=i(e(47));function r(){var l=void 0;return{initialize:function(e){if(l=new u.default,!e)return null;var t=e.indexOf("#");if(-1!==t)for(var n=e.substr(t+1).split("&"),i=0,r=n.length;i<r;++i){var o,a=n[i],s=a.indexOf("=");-1!==s&&(o=a.substring(0,s),l.hasOwnProperty(o))&&(l[o]=a.substr(s+1))}},getURIFragmentData:function(){return l}}}r.__dashjs_factory_name="URIFragmentModel",n.default=e.default.getSingletonFactory(r),t.exports=n.default},{237:237,47:47}],154:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),h=i(e(46)),g=i(e(54)),m=i(e(45));function o(){var e,t=void 0,a=void 0,n=void 0,i=void 0,r=this.context,o=(0,h.default)(r).getInstance(),s=[];function l(){a&&(a.playbackRate=i||1,a.removeEventListener("canplay",l))}function u(e){a&&(a.readyState<=2&&0<e?a.addEventListener("canplay",l):a.playbackRate=e)}function d(){return 0<s.length}function c(){var e;a&&d()&&0===a.playbackRate&&((e=document.createEvent("Event")).initEvent("waiting",!0,!1),a.dispatchEvent(e))}function f(){return a?a.buffered:null}function p(e,t,n,i,r){if(a)for(var o=0;o<a.textTracks.length;o++)if(a.textTracks[o].kind===e&&(!t||a.textTracks[o].label==t)&&a.textTracks[o].language===n&&a.textTracks[o].isTTML===i&&a.textTracks[o].isEmbedded===r)return a.textTracks[o];return null}return e={initialize:function(){o.on(g.default.PLAYBACK_PLAYING,c,this)},setCurrentTime:function(e,t){if(a&&a.currentTime!=e)try{e=t?function(e){var t=f(),n=e,i=9999999999;if(t)for(var r=0;r<t.length;r++){var o=t.start(r),a=t.end(r),s=Math.abs(o-e),l=Math.abs(a-e);if(o<=e&&e<=a)return e;s<i&&(i=s,n=o),l<i&&(i=l,n=a)}return n}(e):e,a.currentTime=e}catch(t){0===a.readyState&&t.code===t.INVALID_STATE_ERR&&setTimeout(function(){a.currentTime=e},400)}},play:function(){var e;a&&(a.autoplay=!0,e=a.play())&&e.catch&&"undefined"!=typeof Promise&&e.catch(function(e){"NotAllowedError"===e.name&&o.trigger(g.default.PLAYBACK_NOT_ALLOWED),t.warn("Caught pending play exception - continuing ("+e+")")})},isPaused:function(){return a?a.paused:null},pause:function(){a&&(a.pause(),a.autoplay=!1)},isSeeking:function(){return a?a.seeking:null},getTime:function(){return a?a.currentTime:null},getPlaybackRate:function(){return a?a.playbackRate:null},setPlaybackRate:u,getPlayedRanges:function(){return a?a.played:null},getEnded:function(){return a?a.ended:null},setStallState:function(e,t){(t?function(e){var t=void 0;null===e||a.seeking||-1!==s.indexOf(e)||(s.push(e),a&&1===s.length&&((t=document.createEvent("Event")).initEvent("waiting",!0,!1),i=a.playbackRate,u(0),a.dispatchEvent(t)))}:function(e){var t=s.indexOf(e),n=void 0;null!==e&&(-1!==t&&s.splice(t,1),a)&&!1===d()&&0===a.playbackRate&&(u(i||1),a.paused||((n=document.createEvent("Event")).initEvent("playing",!0,!1),a.dispatchEvent(n)))})(e)},getElement:function(){return a},setElement:function(e){if(!(null==e||e&&/^(VIDEO|AUDIO)$/i.test(e.nodeName)))throw"element is not video or audio DOM type!";(a=e)&&(a.preload="auto")},setSource:function(e){a&&(e?a.src=e:(a.removeAttribute("src"),a.load()))},getSource:function(){return a?a.src:null},getTTMLRenderingDiv:function(){return n},setTTMLRenderingDiv:function(e){(n=e).style.position="absolute",n.style.display="flex",n.style.overflow="hidden",n.style.pointerEvents="none",n.style.top=0,n.style.left=0},getPlaybackQuality:function(){var e,t;return a?(e="webkitDroppedFrameCount"in a&&"webkitDecodedFrameCount"in a,t=null,"getVideoPlaybackQuality"in a?t=a.getVideoPlaybackQuality():e&&(t={droppedVideoFrames:a.webkitDroppedFrameCount,totalVideoFrames:a.webkitDroppedFrameCount+a.webkitDecodedFrameCount,creationTime:new Date}),t):null},addEventListener:function(e,t){a&&a.addEventListener(e,t)},removeEventListener:function(e,t){a&&a.removeEventListener(e,t)},getReadyState:function(){return a?a.readyState:NaN},getBufferRange:f,getClientWidth:function(){return a?a.clientWidth:NaN},getClientHeight:function(){return a?a.clientHeight:NaN},getTextTracks:function(){return a?a.textTracks:[]},getTextTrack:p,addTextTrack:function(e,t,n,i,r){var o;return a?((o=p(e,t,n,i,r))||((o=a.addTextTrack(e,t,n)).isEmbedded=r,o.isTTML=i),o):null},appendChild:function(e){a&&(a.appendChild(e),void 0!==e.isTTML)&&(a.textTracks[a.textTracks.length-1].isTTML=e.isTTML,a.textTracks[a.textTracks.length-1].isEmbedded=e.isEmbedded)},removeChild:function(e){a&&a.removeChild(e)},getVideoWidth:function(){return a?a.videoWidth:NaN},getVideoHeight:function(){return a?a.videoHeight:NaN},getVideoRelativeOffsetTop:function(){return a&&a.parentNode?a.getBoundingClientRect().top-a.parentNode.getBoundingClientRect().top:NaN},getVideoRelativeOffsetLeft:function(){return a&&a.parentNode?a.getBoundingClientRect().left-a.parentNode.getBoundingClientRect().left:NaN},reset:function(){o.off(g.default.PLAYBACK_PLAYING,c,this)}},t=(0,m.default)(r).getInstance().getLogger(e),e}o.__dashjs_factory_name="VideoModel",n.default=r.default.getSingletonFactory(o),t.exports=n.default},{45:45,46:46,47:47,54:54}],155:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(47),e=e&&e.__esModule?e:{default:e};function i(e){var i=(e=e||{}).requestModifier,g=e.boxParser;function m(t,e){t.reader.read().then(e).catch(function(e){t.onerror&&200===t.response.status&&t.onerror(e)})}function y(n,t){if(1<(n=n.filter(function(e){return e.bytes>t/4/n.length})).length){i=0,r=(n[n.length-1].ts-n[0].ts)/n.length,n.forEach(function(e,t){var t=n[t+1];t&&(t=t.ts-e.ts,i+=t<r?t:0)});var e={v:i};if("object"==typeof e)return e.v}var i,r;return null}return{load:function(h){var e=new Date,t=h.request,n=new Headers,t=(t.range&&n.append("Range","bytes="+t.range),t.requestStartDate||(t.requestStartDate=e),i&&i.modifyRequestHeader({setRequestHeader:function(e,t){n.append(e,t)}}),void 0),e=("function"==typeof window.AbortController&&(t=new AbortController,h.abortController=t),{method:h.method,headers:n,credentials:h.withCredentials?"include":void 0,signal:t?t.signal:void 0});fetch(h.url,e).then(function(e){h.response||(h.response={}),h.response.status=e.status,h.response.statusText=e.statusText,h.response.responseURL=e.url,e.ok||h.onerror();var t="",n=!0,i=!1,r=void 0;try{for(var o,a=e.headers.keys()[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;t+=s+": "+e.headers.get(s)+"\r\n"}}catch(e){i=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw r}}if(h.response.responseHeaders=t,!e.body)return e.arrayBuffer().then(function(e){e={loaded:(h.response.response=e).byteLength,total:e.byteLength,stream:!1};h.progress(e),h.onload(),h.onend()});var l=parseInt(e.headers.get("Content-Length"),10),u=0,d=!1,c=new Uint8Array,f=0,p=(h.reader=e.body.getReader(),[]);m(h,function e(t){var n,i,r=t.value;t.done?(c&&(h.progress({loaded:u,total:isNaN(l)?u:l,lengthComputable:!0,time:y(p,u),stream:!0}),h.response.response=c.buffer),h.onload(),h.onend()):(r&&0<r.length&&(t=r,c=0===(n=c).length?t:((i=new Uint8Array(n.length+t.length)).set(n),i.set(t,n.length),i),u+=r.length,p.push({ts:Date.now(),bytes:r.length}),(t=g.findLastTopIsoBoxCompleted(["moov","mdat"],c,f)).found?(n=t.lastCompletedOffset+t.size,i=void 0,c=n===c.length?(i=c,new Uint8Array):(i=new Uint8Array(c.subarray(0,n)),c.subarray(n)),h.progress({data:i.buffer,lengthComputable:!1,noTrace:!0}),f=0):(f=t.lastCompletedOffset,d||(h.progress({lengthComputable:!1,noTrace:!0}),d=!0))),m(h,e))})}).catch(function(e){h.onerror&&h.onerror(e)})},abort:function(e){if(e.abortController)e.abortController.abort();else if(e.reader)try{e.reader.cancel()}catch(e){}},calculateDownloadedTime:y}}i.__dashjs_factory_name="FetchLoader";e=e.default.getClassFactory(i);n.default=e,t.exports=n.default},{47:47}],156:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}Object.defineProperty(n,"__esModule",{value:!0});var D=i(e(159)),N=i(e(155)),M=e(242),o=i(e(47)),O=i(e(226)),a=i(e(148)),x=i(e(49));function s(e){var t,n,m=this.context,y=(e=e||{}).errHandler,v=e.dashMetrics,_=e.mediaPlayerModel,E=e.requestModifier,T=e.boxParser,b=e.useFetch||!1,e=e.errors,S=void 0,A=void 0,w=void 0,I=void 0,C=void 0;function R(n,t){var i=n.request,r=[],o=!0,a=!0,s=new Date,l=s,u=0,d=void 0;if(!E||!v||!y)throw new Error("config object is not correct or missing");function c(e){a=!1,i.requestStartDate=s,i.requestEndDate=new Date,i.firstByteDate=i.firstByteDate||s,i.checkExistenceOnly||(v.addHttpRequest(i,d.response?d.response.responseURL:null,d.response?d.response.status:null,d.response&&d.response.getAllResponseHeaders?d.response.getAllResponseHeaders():d.response?d.response.responseHeaders:[],e?r:null),i.type===M.HTTPRequest.MPD_TYPE&&v.addManifestUpdate(i.type,i.requestStartDate,i.requestEndDate))}function e(){var e;-1!==S.indexOf(d)&&(S.splice(S.indexOf(d),1),a)&&(c(!1),0<t?(t--,e={config:n},w.push(e),e.timeout=setTimeout(function(){-1!==w.indexOf(e)&&(w.splice(w.indexOf(e),1),R(n,t))},_.getRetryIntervalsForType(i.type))):(y.error(new O.default(I[i.type],i.url+" is not available",{request:i,response:d.response})),n.error&&n.error(i,"error",d.response.statusText),n.complete&&n.complete(i,d.response.statusText)))}var f,p=void 0,p=b&&window.fetch&&"arraybuffer"===i.responseType&&i.type===M.HTTPRequest.MEDIA_SEGMENT_TYPE?(0,N.default)(m).create({requestModifier:E,boxParser:T}):(0,D.default)(m).create({requestModifier:E}),h=E.modifyRequestURL(i.url),g=function(e){try{var t=[],n=C.getQueryParameter(e);return n&&t.push(n),t}catch(e){return[]}}(i),d={url:x.default.addAditionalQueryParameterToUrl(h,g),method:i.checkExistenceOnly?M.HTTPRequest.HEAD:M.HTTPRequest.GET,withCredentials:_.getXHRWithCredentialsForType(i.type),request:i,onload:function(){200<=d.response.status&&d.response.status<=299&&(c(!0),n.success&&n.success(d.response.response,d.response.statusText,d.response.responseURL),n.complete)&&n.complete(i,d.response.statusText)},onend:e,onerror:e,progress:function(e){var t=new Date;o&&(o=!1,!e.lengthComputable||e.lengthComputable&&e.total!==e.loaded)&&(i.firstByteDate=t),e.lengthComputable&&(i.bytesLoaded=e.loaded,i.bytesTotal=e.total),e.noTrace||(r.push({s:l,d:e.time||t.getTime()-l.getTime(),b:[e.loaded?e.loaded-u:0]}),l=t,u=e.loaded),n.progress&&e&&n.progress(e)},onabort:function(){n.abort&&n.abort(i)},loader:p},h=(new Date).getTime();isNaN(i.delayLoadingTime)||h>=i.delayLoadingTime?(S.push(d),p.load(d)):(f={httpRequest:d},A.push(f),f.delayTimeout=setTimeout(function(){if(-1!==A.indexOf(f)){A.splice(A.indexOf(f),1);try{s=new Date,l=s,S.push(f.httpRequest),p.load(f.httpRequest)}catch(e){f.httpRequest.onerror()}}},i.delayLoadingTime-h))}return t={load:function(e){e.request?R(e,_.getRetryAttemptsForType(e.request.type)):e.error&&e.error(e.request,"error")},abort:function(){w.forEach(function(e){clearTimeout(e.timeout),e.config.request&&e.config.abort&&e.config.abort(e.config.request)}),w=[],A.forEach(function(e){return clearTimeout(e.delayTimeout)}),A=[],S.forEach(function(e){e.onloadend=e.onerror=e.onprogress=void 0,e.loader.abort(e)}),S=[]}},S=[],A=[],w=[],C=(0,a.default)(m).getInstance(),r(n={},M.HTTPRequest.MPD_TYPE,e.DOWNLOAD_ERROR_ID_MANIFEST_CODE),r(n,M.HTTPRequest.XLINK_EXPANSION_TYPE,e.DOWNLOAD_ERROR_ID_XLINK_CODE),r(n,M.HTTPRequest.INIT_SEGMENT_TYPE,e.DOWNLOAD_ERROR_ID_INITIALIZATION_CODE),r(n,M.HTTPRequest.MEDIA_SEGMENT_TYPE,e.DOWNLOAD_ERROR_ID_CONTENT_CODE),r(n,M.HTTPRequest.INDEX_SEGMENT_TYPE,e.DOWNLOAD_ERROR_ID_CONTENT_CODE),r(n,M.HTTPRequest.BITSTREAM_SWITCHING_SEGMENT_TYPE,e.DOWNLOAD_ERROR_ID_CONTENT_CODE),r(n,M.HTTPRequest.OTHER_TYPE,e.DOWNLOAD_ERROR_ID_CONTENT_CODE),I=n,t}s.__dashjs_factory_name="HTTPLoader";e=o.default.getClassFactory(s);n.default=e,t.exports=n.default},{148:148,155:155,159:159,226:226,242:242,47:47,49:49}],157:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),o=i(e(156));function a(){var n=void 0;function e(){n={}}function t(){e()}return t(),{getLoader:function(e){for(var t in n)if(n.hasOwnProperty(t)&&e.startsWith(t))return n[t];return o.default},registerLoader:function(e,t){n[e]=t},unregisterLoader:function(e){n[e]&&delete n[e]},unregisterAllLoader:e,reset:t}}a.__dashjs_factory_name="SchemeLoaderFactory";e=r.default.getSingletonFactory(a);n.default=e,t.exports=n.default},{156:156,47:47}],158:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),a=i(e(157));function o(n){n=n||{};var i=this.context,r=void 0,o=void 0,r=(0,a.default)(i).getInstance();return{load:function(e){var t=r.getLoader(e&&e.request?e.request.url:null);(o=t(i).create({errHandler:n.errHandler,mediaPlayerModel:n.mediaPlayerModel,requestModifier:n.requestModifier,useFetch:n.useFetch||null,dashMetrics:n.dashMetrics,boxParser:n.boxParser||null,constants:n.constants||null,dashConstants:n.dashConstants||null,urlUtils:n.urlUtils||null,errors:n.errors})).load(e)},abort:function(){o&&o.abort()}}}o.__dashjs_factory_name="URLLoader";e=r.default.getClassFactory(o);n.default=e,t.exports=n.default},{157:157,47:47}],159:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(47),e=e&&e.__esModule?e:{default:e};function i(e){var r=(e=e||{}).requestModifier;return{load:function(e){var t=new Date,n=e.request,i=new XMLHttpRequest;i.open(e.method,e.url,!0),n.responseType&&(i.responseType=n.responseType),n.range&&i.setRequestHeader("Range","bytes="+n.range),n.requestStartDate||(n.requestStartDate=t),(i=r?r.modifyRequestHeader(i):i).withCredentials=e.withCredentials,i.onload=e.onload,i.onloadend=e.onend,i.onerror=e.onerror,i.onprogress=e.progress,i.onabort=e.onabort,i.send(),e.response=i},abort:function(e){e=e.response;e.onloadend=e.onerror=e.onprogress=void 0,e.abort()}}}i.__dashjs_factory_name="XHRLoader";e=e.default.getClassFactory(i);n.default=e,t.exports=n.default},{47:47}],160:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0});i(o,[{key:"findCencContentProtection",value:function(e){for(var t=null,n=0;n<e.length;++n){var i=e[n];"urn:mpeg:dash:mp4protection:2011"===i.schemeIdUri.toLowerCase()&&"cenc"===i.value.toLowerCase()&&(t=i)}return t}},{key:"getPSSHData",value:function(e){var t=8,n=new DataView(e),i=n.getUint8(t);return t+=20,0<i&&(t+=4+16*n.getUint32(t)),e.slice(t+=4)}},{key:"getPSSHForKeySystem",value:function(e,t){t=o.parsePSSHList(t);return e&&t.hasOwnProperty(e.uuid.toLowerCase())?t[e.uuid.toLowerCase()]:null}},{key:"parseInitDataFromContentProtection",value:function(e,t){return"pssh"in e?t.decodeArray(e.pssh.__text).buffer:null}},{key:"parsePSSHList",value:function(e){if(null==e)return[];for(var t=new DataView(e.buffer||e),n={},i=0;;){var r,o,a=void 0,s=i;if(i>=t.buffer.byteLength)break;if(r=i+t.getUint32(i),i+=4,1886614376===t.getUint32(i)&&(i+=4,0===(o=t.getUint8(i))||1===o)){i++,i+=3;for(var a="",l=void 0,u=void 0,l=0;l<4;l++)a+=1===(u=t.getUint8(i+l).toString(16)).length?"0"+u:u;for(i+=4,a+="-",l=0;l<2;l++)a+=1===(u=t.getUint8(i+l).toString(16)).length?"0"+u:u;for(i+=2,a+="-",l=0;l<2;l++)a+=1===(u=t.getUint8(i+l).toString(16)).length?"0"+u:u;for(i+=2,a+="-",l=0;l<2;l++)a+=1===(u=t.getUint8(i+l).toString(16)).length?"0"+u:u;for(i+=2,a+="-",l=0;l<6;l++)a+=1===(u=t.getUint8(i+l).toString(16)).length?"0"+u:u;i+=6,a=a.toLowerCase(),t.getUint32(i),i+=4,n[a]=t.buffer.slice(s,r)}i=r}return n}}]);var r=o;function o(){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function")}n.default=r,t.exports=n.default},{}],161:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var f=i(e(163)),p=i(e(164)),r=i(e(162)),o=i(e(169)),h=i(e(171)),g=i(e(172)),m=i(e(170)),y=[{generateKeyRequest:"generateKeyRequest",addKey:"addKey",cancelKeyRequest:"cancelKeyRequest",needkey:"needkey",keyerror:"keyerror",keyadded:"keyadded",keymessage:"keymessage"},{generateKeyRequest:"webkitGenerateKeyRequest",addKey:"webkitAddKey",cancelKeyRequest:"webkitCancelKeyRequest",needkey:"webkitneedkey",keyerror:"webkitkeyerror",keyadded:"webkitkeyadded",keymessage:"webkitkeymessage"}],v=[{setMediaKeys:"setMediaKeys",MediaKeys:"MediaKeys",release:"close",needkey:"needkey",error:"keyerror",message:"keymessage",ready:"keyadded",close:"keyclose"},{setMediaKeys:"msSetMediaKeys",MediaKeys:"MSMediaKeys",release:"close",needkey:"msneedkey",error:"mskeyerror",message:"mskeymessage",ready:"mskeyadded",close:"mskeyclose"}];function a(){var u=void 0,d=this.context;function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];if("function"==typeof e[i[Object.keys(i)[0]]])return i}return null}return u={createProtectionSystem:function(e){var t=null,n=(0,p.default)(d).getInstance();n.setConfig({debug:e.debug,BASE64:e.BASE64}),n.initialize();o=(r=(i=e).debug).getLogger(u),a=i.eventBus,l=i.errHandler;var i,r,o,a,s,l=(s=i.videoModel?i.videoModel.getElement():null)&&void 0===s.onencrypted||s&&void 0===s.mediaKeys?c(s,v)?(o.info("EME detected on this user agent! (ProtectionModel_3Feb2014)"),(0,g.default)(d).create({debug:r,eventBus:a,events:i.events,api:c(s,v)})):c(s,y)?(o.info("EME detected on this user agent! (ProtectionModel_01b)"),(0,m.default)(d).create({debug:r,eventBus:a,errHandler:l,events:i.events,api:c(s,y)})):(o.warn("No supported version of EME detected on this user agent! - Attempts to play encrypted content will fail!"),null):(o.info("EME detected on this user agent! (ProtectionModel_21Jan2015)"),(0,h.default)(d).create({debug:r,eventBus:a,events:i.events}));return!t&&l&&(t=(0,f.default)(d).create({protectionModel:l,protectionKeyController:n,eventBus:e.eventBus,debug:e.debug,events:e.events,BASE64:e.BASE64,constants:e.constants}),e.capabilities.setEncryptedMediaSupported(!0)),t}}}a.__dashjs_factory_name="Protection";e=dashjs.FactoryMaker.getClassFactory(a);e.events=r.default,e.errors=o.default,dashjs.FactoryMaker.updateClassFactory(a.__dashjs_factory_name,e),n.default=e,t.exports=n.default},{162:162,163:163,164:164,169:169,170:170,171:171,172:172}],162:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(55);function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");(function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n,i=!1,s=(null===r&&(r=Function.prototype),Object.getOwnPropertyDescriptor(r,o));if(void 0!==s)return"value"in s?s.value:void 0===(s=s.get)?void 0:s.call(a);s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=a,i=!0}})(Object.getPrototypeOf(i.prototype),"constructor",this).call(this),this.INTERNAL_KEY_MESSAGE="internalKeyMessage",this.INTERNAL_KEY_SYSTEM_SELECTED="internalKeySystemSelected",this.INTERNAL_KEY_STATUS_CHANGED="internalkeyStatusChanged",this.KEY_ADDED="public_keyAdded",this.KEY_ERROR="public_keyError",this.KEY_MESSAGE="public_keyMessage",this.KEY_SESSION_CLOSED="public_keySessionClosed",this.KEY_SESSION_CREATED="public_keySessionCreated",this.KEY_SESSION_REMOVED="public_keySessionRemoved",this.KEY_STATUSES_CHANGED="public_keyStatusesChanged",this.KEY_SYSTEM_ACCESS_COMPLETE="public_keySystemAccessComplete",this.KEY_SYSTEM_SELECTED="public_keySystemSelected",this.LICENSE_REQUEST_COMPLETE="public_licenseRequestComplete",this.NEED_KEY="needkey",this.PROTECTION_CREATED="public_protectioncreated",this.PROTECTION_DESTROYED="public_protectiondestroyed",this.SERVER_CERTIFICATE_UPDATED="serverCertificateUpdated",this.TEARDOWN_COMPLETE="protectionTeardownComplete",this.VIDEO_ELEMENT_SELECTED="videoElementSelected"}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,(e&&e.__esModule?e:{default:e}).default);e=new i;n.default=e,t.exports=n.default},{55:55}],163:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var R=i(e(160)),D=i(e(182)),N=i(e(181)),M=i(e(169)),O=i(e(226));function r(e){var h=(e=e||{}).protectionKeyController,g=e.protectionModel,m=e.eventBus,y=e.events,t=e.debug,d=e.BASE64,s=e.constants,a=[],v=void 0,c=void 0,l=void 0,f=void 0,n=void 0,u=void 0,_=void 0;function i(){if(!(m&&m.hasOwnProperty("on")&&h&&h.hasOwnProperty("getSupportedKeySystemsFromContentProtection")))throw new Error("Missing config parameter(s)")}function p(e,t){var n=R.default.getPSSHForKeySystem(_,e),i=T(_);if(n){for(var r=g.getAllInitData(),o=0;o<r.length;o++)if(h.initDataEquals(n,r[o]))return void v.warn("DRM: Ignoring initData because we have already seen it!");try{g.createKeySession(n,i,S(_),t)}catch(e){m.trigger(y.KEY_SESSION_CREATED,{data:null,error:new O.default(M.default.KEY_SESSION_CREATED_ERROR_CODE,M.default.KEY_SESSION_CREATED_ERROR_MESSAGE+e.message)})}}else e?g.createKeySession(e,i,S(_),t):m.trigger(y.KEY_SESSION_CREATED,{data:null,error:new O.default(M.default.KEY_SESSION_CREATED_ERROR_CODE,M.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Selected key system is "+(_?_.systemString:null)+".  needkey/encrypted event contains no initData corresponding to that key system!")})}function E(e,t){i(),g.loadKeySession(e,t,S(_))}function r(e){i(),e?(g.setMediaElement(e),m.on(y.NEED_KEY,C,this)):null===e&&(g.setMediaElement(e),m.off(y.NEED_KEY,C,this))}function T(e){var t=null;return t=e&&(e=e.systemString,f)?e in f?f[e]:null:t}function b(e){var t=T(e),n=[],i=[],r=t&&t.audioRobustness&&0<t.audioRobustness.length?t.audioRobustness:u,o=t&&t.videoRobustness&&0<t.videoRobustness.length?t.videoRobustness:u,e=S(e),a=t&&t.distinctiveIdentifier?t.distinctiveIdentifier:"optional",t=t&&t.persistentState?t.persistentState:"temporary"===e?"optional":"required";return l.forEach(function(e){e.type===s.AUDIO?n.push(new D.default(e.codec,r)):e.type===s.VIDEO&&i.push(new D.default(e.codec,o))}),new N.default(n,i,a,t,[e])}function S(e){e=T(e);return e&&e.sessionType?e.sessionType:n}function A(n,o){var t,a=this,e=[],s=(n=n.sort(function(e,t){return(f&&f[e.ks.systemString]&&0<=f[e.ks.systemString].priority?f[e.ks.systemString].priority:n.length)-(f&&f[t.ks.systemString]&&0<=f[t.ks.systemString].priority?f[t.ks.systemString].priority:n.length)}),void 0);if(_){for(s=0;s<n.length;s++)if(_===n[s].ks){e.push({ks:n[s].ks,configs:[b(_)]}),m.on(y.KEY_SYSTEM_ACCESS_COMPLETE,function e(t){m.off(y.KEY_SYSTEM_ACCESS_COMPLETE,e,a),t.error?o||m.trigger(y.KEY_SYSTEM_SELECTED,{error:new O.default(M.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,M.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+t.error)}):(v.info("DRM: KeySystem Access Granted"),m.trigger(y.KEY_SYSTEM_SELECTED,{data:t.data}),n[s].sessionId?E(n[s].sessionId,n[s].initData):n[s].initData&&p(n[s].initData,n[s].cdmData))},a),g.requestKeySystemAccess(e);break}}else if(void 0===_){_=null,c.push(n);for(var i=0;i<n.length;i++)e.push({ks:n[i].ks,configs:[b(n[i].ks)]});function l(e){m.off(y.KEY_SYSTEM_ACCESS_COMPLETE,l,a),e.error?(_=void 0,m.off(y.INTERNAL_KEY_SYSTEM_SELECTED,t,a),o||m.trigger(y.KEY_SYSTEM_SELECTED,{data:null,error:new O.default(M.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,M.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+e.error)})):(u=e.data,v.info("DRM: KeySystem Access Granted ("+u.keySystem.systemString+")!  Selecting key system..."),g.selectKeySystem(u))}var u=void 0;t=function e(t){if(m.off(y.INTERNAL_KEY_SYSTEM_SELECTED,e,a),m.off(y.KEY_SYSTEM_ACCESS_COMPLETE,l,a),t.error)_=void 0,o||m.trigger(y.KEY_SYSTEM_SELECTED,{data:null,error:new O.default(M.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE,M.default.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE+"Error selecting key system! -- "+t.error)});else if(g){_=g.getKeySystem(),m.trigger(y.KEY_SYSTEM_SELECTED,{data:u});var n=T(_);n&&n.serverCertificate&&0<n.serverCertificate.length&&g.setServerCertificate(d.decodeArray(n.serverCertificate).buffer);for(var i,r=0;r<c.length;r++)for(s=0;s<c[r].length;s++)if(_===c[r][s].ks){h.isClearKey(_)&&n&&n.hasOwnProperty("clearkeys")&&(i={kids:Object.keys(n.clearkeys)},c[r][s].initData=(new TextEncoder).encode(JSON.stringify(i))),c[r][s].sessionId?E(c[r][s].sessionId,c[r][s].initData):null!==c[r][s].initData&&p(c[r][s].initData,c[r][s].cdmData);break}}},m.on(y.INTERNAL_KEY_SYSTEM_SELECTED,t,a),m.on(y.KEY_SYSTEM_ACCESS_COMPLETE,l,a),g.requestKeySystemAccess(e)}else c.push(n)}function w(e,t){m.trigger(y.LICENSE_REQUEST_COMPLETE,{data:e,error:t})}function o(e){e.error?m.trigger(y.KEY_STATUSES_CHANGED,{data:null,error:e.error}):v.debug("DRM: key status = "+e.status)}function I(e){v.debug("DRM: onKeyMessage");var t=e.data,n=(m.trigger(y.KEY_MESSAGE,{data:t}),t.messageType||"license-request"),i=t.message,r=t.sessionToken,t=T(_),o=_?_.systemString:null,a=h.getLicenseServer(_,t,n),s={sessionToken:r,messageType:n};if(i&&0!==i.byteLength)if(a){if(h.isClearKey(_)){var l=h.processClearKeyLicenseRequest(_,t,i);if(l)return v.debug("DRM: ClearKey license request handled by application!"),w(s),void g.updateKeySession(r,l)}var u,d,c,f,p,l=null;t&&t.serverURL?"string"==typeof(f=t.serverURL)&&""!==f?l=f:"object"==typeof f&&f.hasOwnProperty(n)&&(l=f[n]):l=t&&t.laURL&&""!==t.laURL?t.laURL:(l=_.getLicenseServerURLFromInitData(R.default.getPSSHData(r.initData)))||e.data.laURL,(l=a.getServerURLFromMessage(l,i,n))?(d=!(u={}),f=function(e){if(e)for(var t in e)"authorization"===t.toLowerCase()&&(d=!0),u[t]=e[t]},t&&f(t.httpRequestHeaders),f(_.getRequestHeadersFromMessage(i)),t&&"boolean"==typeof t.withCredentials&&(d=t.withCredentials),c=function(e,t,n,i){i=e.response?a.getErrorResponse(e.response,n,i):"NONE";w(t,new O.default(M.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,M.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+n+' update, XHR complete. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState+".  Response is "+i))},f=_.getLicenseRequestFromMessage(i),i=a.getHTTPMethod(n),p=a.getResponseType(o,n),t=t&&!isNaN(t.httpTimeout)?t.httpTimeout:8e3,function e(t,n,i,r,o,a,s,l,u,d,c){var f,p=new XMLHttpRequest;for(f in p.open(i,t,!0),p.responseType=r,p.withCredentials=o,0<l&&(p.timeout=l),n)p.setRequestHeader(f,n[f]);function h(){s--,setTimeout(function(){e(t,n,i,r,o,a,s,l,u,d,c)},1e3)}p.onload=function(){200===this.status||s<=0?u(this):(v.warn("License request failed ("+this.status+"). Retrying it... Pending retries: "+s),h())},p.ontimeout=p.onerror=function(){s<=0?c(this):(v.warn("License request network request failed . Retrying it... Pending retries: "+s),h())},p.onabort=function(){d(this)},p.send(a)}(l,u,i,p,d,f,3,t,function(e){var t;g&&(200===e.status&&null!==(t=a.getLicenseMessage(e.response,o,n))?(w(s),g.updateKeySession(r,t)):c(e,s,o,n))},function(e){w(s,new O.default(M.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,M.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+o+' update, XHR aborted. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))},function(e){w(s,new O.default(M.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE,M.default.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE+o+' update, XHR error. status is "'+e.statusText+'" ('+e.status+"), readyState is "+e.readyState))})):w(s,new O.default(M.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE,M.default.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE))}else v.debug("DRM: License server request not required for this message (type = "+e.data.messageType+").  Session ID = "+r.getSessionID()),w(s);else w(s,new O.default(M.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE,M.default.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE))}function C(e,t){if(v.debug("DRM: onNeedKey"),"cenc"===e.key.initDataType)if(0===l.length&&(v.warn("DRM: onNeedKey called before initializeForMedia, wait until initialized"),(t=void 0===t?1:t+1)<5))a.push(setTimeout(function(){C(e,t)},500));else{var n=e.key.initData;if(ArrayBuffer.isView(n)&&(n=n.buffer),_){var i=R.default.getPSSHForKeySystem(_,n);if(i)for(var r=g.getAllInitData(),o=0;o<r.length;o++)if(h.initDataEquals(i,r[o]))return void v.warn("DRM: Ignoring initData because we have already seen it!")}v.debug("DRM: initData:",String.fromCharCode.apply(null,new Uint8Array(n)));n=h.getSupportedKeySystems(n,f);0!==n.length?A(n,!1):v.debug("DRM: Received needkey event with initData, but we don't support any of the key systems!")}else v.warn("DRM:  Only 'cenc' initData is supported!  Ignoring initData of type: "+e.key.initDataType)}return v=t.getLogger(e={initializeForMedia:function(e){if(!e)throw new Error("mediaInfo can not be null or undefined");i(),m.on(y.INTERNAL_KEY_MESSAGE,I,this),m.on(y.INTERNAL_KEY_STATUS_CHANGED,o,this),l.push(e);e=h.getSupportedKeySystemsFromContentProtection(e.contentProtection);e&&0<e.length&&A(e,!0)},createKeySession:p,loadKeySession:E,removeKeySession:function(e){i(),g.removeKeySession(e)},closeKeySession:function(e){i(),g.closeKeySession(e)},setServerCertificate:function(e){i(),g.setServerCertificate(e)},setMediaElement:r,setSessionType:function(e){n=e},setRobustnessLevel:function(e){u=e},setProtectionData:function(e){f=e,h.setProtectionData(e)},getSupportedKeySystemsFromContentProtection:function(e){return i(),h.getSupportedKeySystemsFromContentProtection(e)},getKeySystems:function(){return h?h.getKeySystems():[]},setKeySystems:function(e){h&&h.setKeySystems(e)},stop:function(){g&&g.stop()},reset:function(){i(),m.off(y.INTERNAL_KEY_MESSAGE,I,this),m.off(y.INTERNAL_KEY_STATUS_CHANGED,o,this),r(null),_=void 0,g&&(g.reset(),g=null),a.forEach(function(e){return clearTimeout(e)}),a=[],l=[]}}),c=[],l=[],n="temporary",u="",e}r.__dashjs_factory_name="ProtectionController",n.default=dashjs.FactoryMaker.getClassFactory(r),t.exports=n.default},{160:160,169:169,181:181,182:182,226:226}],164:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var u=i(e(160)),d=i(e(165)),c=i(e(167)),f=i(e(168)),p=i(e(166)),h=i(e(174)),g=i(e(175)),m=i(e(176)),y=i(e(173)),v=i(e(110));function r(){var i=this.context,t=void 0,n=void 0,r=void 0,s=void 0,o=void 0,a=void 0,l=void 0;return t={initialize:function(){s=[];var e=(0,p.default)(i).getInstance({BASE64:o});s.push(e),e=(0,f.default)(i).getInstance({BASE64:o}),s.push(e),e=(0,d.default)(i).getInstance({BASE64:o}),s.push(e),a=e,e=(0,c.default)(i).getInstance({BASE64:o,debug:n}),s.push(e),l=e},setProtectionData:function(e){for(var t,n=0;n<s.length;n++){var i=s[n];i.hasOwnProperty("init")&&i.init((i=i.systemString,void 0,t=null,t=e?i in e?e[i]:null:t))}},isClearKey:function(e){return e===a||e===l},initDataEquals:function(e,t){if(e.byteLength!==t.byteLength)return!1;for(var n=new Uint8Array(e),i=new Uint8Array(t),r=0;r<n.length;r++)if(n[r]!==i[r])return!1;return!0},getKeySystems:function(){return s},setKeySystems:function(e){s=e},getKeySystemBySystemString:function(e){for(var t=0;t<s.length;t++)if(s[t].systemString===e)return s[t];return null},getSupportedKeySystemsFromContentProtection:function(e){var t,n=void 0,i=void 0,r=void 0,o=void 0,a=[];if(e)for(r=0;r<s.length;++r)for(i=s[r],o=0;o<e.length;++o)(n=e[o]).schemeIdUri.toLowerCase()===i.schemeIdURI&&(t=i.getInitData(n),a.push({ks:s[r],initData:t,cdmData:i.getCDMData(),sessionId:i.getSessionId(n)}));return a},getSupportedKeySystems:function(e,t){for(var n,i=[],r=u.default.parsePSSHList(e),o=void 0,a=0;a<s.length;++a)n=(o=s[a]).systemString,n=!t||n in t,o.uuid in r&&n&&i.push({ks:o,initData:r[o.uuid],cdmData:o.getCDMData(),sessionId:o.getSessionId()});return i},getLicenseServer:function(e,t,n){return"license-release"===n||"individualization-request"===n?null:(n=null,t&&t.hasOwnProperty("drmtoday")?n=(0,h.default)(i).getInstance({BASE64:o}):e.systemString===v.default.WIDEVINE_KEYSTEM_STRING?n=(0,m.default)(i).getInstance():e.systemString===v.default.PLAYREADY_KEYSTEM_STRING?n=(0,g.default)(i).getInstance():e.systemString===v.default.CLEARKEY_KEYSTEM_STRING&&(n=(0,y.default)(i).getInstance()),n)},processClearKeyLicenseRequest:function(e,t,n){try{return e.getClearKeysFromProtectionData(t,n)}catch(e){return r.error("Failed to retrieve clearkeys from ProtectionData"),null}},setConfig:function(e){e&&(e.debug&&(n=e.debug,r=n.getLogger(t)),e.BASE64)&&(o=e.BASE64)}}}r.__dashjs_factory_name="ProtectionKeyController",n.default=dashjs.FactoryMaker.getSingletonFactory(r),t.exports=n.default},{110:110,160:160,165:165,166:166,167:167,168:168,173:173,174:174,175:175,176:176}],165:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var l=i(e(179)),u=i(e(177)),r=i(e(160)),e=i(e(110)),o=e.default.CLEARKEY_KEYSTEM_STRING;function a(e){var t=(e=e||{}).BASE64;return{uuid:"e2719d58-a985-b3c9-781a-b030af78d30e",schemeIdURI:"urn:uuid:e2719d58-a985-b3c9-781a-b030af78d30e",systemString:o,getInitData:function(e){return r.default.parseInitDataFromContentProtection(e,t)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(){return null},getClearKeysFromProtectionData:function(e,t){var n=null;if(e){for(var i=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),r=[],o=0;o<i.kids.length;o++){var a=i.kids[o],s=e.clearkeys&&e.clearkeys.hasOwnProperty(a)?e.clearkeys[a]:null;if(!s)throw new Error("DRM: ClearKey keyID ("+a+") is not known!");r.push(new l.default(a,s))}n=new u.default(r)}return n}}}a.__dashjs_factory_name="KeySystemClearKey",n.default=dashjs.FactoryMaker.getSingletonFactory(a),t.exports=n.default},{110:110,160:160,177:177,179:179}],166:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var c=i(e(160)),e=i(e(110)),r=e.default.PLAYREADY_KEYSTEM_STRING,o=void 0;function a(e){var s="utf-16",u=(e=e||{}).BASE64;function d(){if(!u||!u.hasOwnProperty("decodeArray")||!u.hasOwnProperty("decodeArray"))throw new Error("Missing config parameter(s)")}return{uuid:"9a04f079-9840-4286-ab92-e65be0885f95",schemeIdURI:"urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95",systemString:r,getInitData:function(e){var t,n,i=new Uint8Array([112,115,115,104,0,0,0,0]),r=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]),o=0,a=null,s=void 0,l=void 0;if(d(),!e)return null;if("pssh"in e)return c.default.parseInitDataFromContentProtection(e,u);if("pro"in e)a=u.decodeArray(e.pro.__text);else{if(!("prheader"in e))return null;a=u.decodeArray(e.prheader.__text)}return e=a.length,t=4+i.length+r.length+4+e,n=new ArrayBuffer(t),s=new Uint8Array(n),(l=new DataView(n)).setUint32(0,t),o+=4,s.set(i,4),o+=i.length,s.set(r,o),o+=r.length,l.setUint32(o,e),s.set(a,o+=4),s.buffer},getRequestHeadersFromMessage:function(e){for(var t=void 0,n={},i=new DOMParser,e=new("utf-16"===s?Uint16Array:Uint8Array)(e),e=String.fromCharCode.apply(null,e),r=(t=i.parseFromString(e,"application/xml")).getElementsByTagName("name"),o=t.getElementsByTagName("value"),a=0;a<r.length;a++)n[r[a].childNodes[0].nodeValue]=o[a].childNodes[0].nodeValue;return n.hasOwnProperty("Content")&&(n["Content-Type"]=n.Content,delete n.Content),n.hasOwnProperty("Content-Type")||(n["Content-Type"]="text/xml; charset=utf-8"),n},getLicenseRequestFromMessage:function(e){var t=null,n=new DOMParser,i=new("utf-16"===s?Uint16Array:Uint8Array)(e),i=(d(),String.fromCharCode.apply(null,i)),n=n.parseFromString(i,"application/xml");return n.getElementsByTagName("PlayReadyKeyMessage")[0]?(i=n.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue)?u.decode(i):t:e},getLicenseServerURLFromInitData:function(e){if(e)for(var t=new DataView(e),n=t.getUint16(4,!0),i=6,r=new DOMParser,o=0;o<n;o++){var a=t.getUint16(i,!0),s=(i+=2,t.getUint16(i,!0));if(i+=2,1===a){a=e.slice(i,i+s),a=String.fromCharCode.apply(null,new Uint16Array(a)),a=r.parseFromString(a,"application/xml");if(a.getElementsByTagName("LA_URL")[0]){var l=a.getElementsByTagName("LA_URL")[0].childNodes[0].nodeValue;if(l)return l}if(a.getElementsByTagName("LUI_URL")[0]){l=a.getElementsByTagName("LUI_URL")[0].childNodes[0].nodeValue;if(l)return l}}else i+=s}return null},getCDMData:function(){var e=void 0,t=void 0,n=void 0,i=void 0;if(d(),o&&o.cdmData){for(e=[],i=0;i<o.cdmData.length;++i)e.push(o.cdmData.charCodeAt(i)),e.push(0);for(e=String.fromCharCode.apply(null,e),e=u.encode(e),t='<PlayReadyCDMData type="LicenseAcquisition"><LicenseAcquisition version="1.0" Proactive="false"><CustomData encoding="base64encoded">%CUSTOMDATA%</CustomData></LicenseAcquisition></PlayReadyCDMData>'.replace("%CUSTOMDATA%",e),n=[],i=0;i<t.length;++i)n.push(t.charCodeAt(i)),n.push(0);return new Uint8Array(n).buffer}return null},getSessionId:function(e){return o&&o.sessionId?o.sessionId:e&&e.sessionId?e.sessionId:null},setPlayReadyMessageFormat:function(e){if("utf-8"!==e&&"utf-16"!==e)throw new Error('Specified message format is not one of "utf-8" or "utf-16"');s=e},init:function(e){e&&(o=e)}}}a.__dashjs_factory_name="KeySystemPlayReady",n.default=dashjs.FactoryMaker.getSingletonFactory(a),t.exports=n.default},{110:110,160:160}],167:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var u=i(e(179)),d=i(e(177)),r=i(e(160)),e=i(e(110)),o=e.default.CLEARKEY_KEYSTEM_STRING;function a(e){var t=e.BASE64,l=e.debug.getLogger(void 0);return{uuid:"1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",schemeIdURI:"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b",systemString:o,getInitData:function(e){return r.default.parseInitDataFromContentProtection(e,t)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(){return null},getClearKeysFromProtectionData:function(e,t){var n=null;if(e){for(var i=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t))),r=[],o=0;o<i.kids.length;o++){var a=i.kids[o],s=e.clearkeys&&e.clearkeys.hasOwnProperty(a)?e.clearkeys[a]:null;if(!s)throw new Error("DRM: ClearKey keyID ("+a+") is not known!");r.push(new u.default(a,s))}n=new d.default(r),l.warn("ClearKey schemeIdURI is using W3C Common PSSH systemID (1077efec-c0b2-4d02-ace3-3c1e52e2fb4b) in Content Protection. See DASH-IF IOP v4.1 section 7.6.2.4")}return n}}}a.__dashjs_factory_name="KeySystemW3CClearKey",n.default=dashjs.FactoryMaker.getSingletonFactory(a),t.exports=n.default},{110:110,160:160,177:177,179:179}],168:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(160)),e=i(e(110)),o=e.default.WIDEVINE_KEYSTEM_STRING;function a(e){var t=null,n=(e=e||{}).BASE64;return{uuid:"edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",schemeIdURI:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",systemString:o,init:function(e){e&&(t=e)},getInitData:function(e){return r.default.parseInitDataFromContentProtection(e,n)},getRequestHeadersFromMessage:function(){return null},getLicenseRequestFromMessage:function(e){return new Uint8Array(e)},getLicenseServerURLFromInitData:function(){return null},getCDMData:function(){return null},getSessionId:function(e){return t&&t.sessionId?t.sessionId:e&&e.sessionId?e.sessionId:null}}}a.__dashjs_factory_name="KeySystemWidevine",n.default=dashjs.FactoryMaker.getSingletonFactory(a),t.exports=n.default},{110:110,160:160}],169:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(52);function i(){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");(function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n,i=!1,s=(null===r&&(r=Function.prototype),Object.getOwnPropertyDescriptor(r,o));if(void 0!==s)return"value"in s?s.value:void 0===(s=s.get)?void 0:s.call(a);s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=a,i=!0}})(Object.getPrototypeOf(i.prototype),"constructor",this).call(this),this.MEDIA_KEYERR_CODE=100,this.MEDIA_KEYERR_UNKNOWN_CODE=101,this.MEDIA_KEYERR_CLIENT_CODE=102,this.MEDIA_KEYERR_SERVICE_CODE=103,this.MEDIA_KEYERR_OUTPUT_CODE=104,this.MEDIA_KEYERR_HARDWARECHANGE_CODE=105,this.MEDIA_KEYERR_DOMAIN_CODE=106,this.MEDIA_KEY_MESSAGE_ERROR_CODE=107,this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_CODE=108,this.SERVER_CERTIFICATE_UPDATED_ERROR_CODE=109,this.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE=110,this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_CODE=111,this.KEY_SYSTEM_ACCESS_DENIED_ERROR_CODE=112,this.KEY_SESSION_CREATED_ERROR_CODE=113,this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_CODE=114,this.MEDIA_KEYERR_UNKNOWN_MESSAGE="An unspecified error occurred. This value is used for errors that don't match any of the other codes.",this.MEDIA_KEYERR_CLIENT_MESSAGE="The Key System could not be installed or updated.",this.MEDIA_KEYERR_SERVICE_MESSAGE="The message passed into update indicated an error from the license service.",this.MEDIA_KEYERR_OUTPUT_MESSAGE="There is no available output device with the required characteristics for the content protection system.",this.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE="A hardware configuration change caused a content protection error.",this.MEDIA_KEYERR_DOMAIN_MESSAGE="An error occurred in a multi-device domain licensing configuration. The most common error is a failure to join the domain.",this.MEDIA_KEY_MESSAGE_ERROR_MESSAGE="Multiple key sessions were creates with a user-agent that does not support sessionIDs!! Unpredictable behavior ahead!",this.MEDIA_KEY_MESSAGE_NO_CHALLENGE_ERROR_MESSAGE="DRM: Empty key message from CDM",this.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE="Error updating server certificate -- ",this.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE="DRM: KeyStatusChange error! -- License has expired",this.MEDIA_KEY_MESSAGE_NO_LICENSE_SERVER_URL_ERROR_MESSAGE="DRM: No license server URL specified!",this.KEY_SYSTEM_ACCESS_DENIED_ERROR_MESSAGE="DRM: KeySystem Access Denied! -- ",this.KEY_SESSION_CREATED_ERROR_MESSAGE="DRM: unable to create session! --",this.MEDIA_KEY_MESSAGE_LICENSER_ERROR_MESSAGE="DRM: licenser error! --"}(function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(i,(e&&e.__esModule?e:{default:e}).default);e=new i;n.default=e,t.exports=n.default},{52:52}],170:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var _=i(e(164)),E=i(e(183)),T=i(e(226)),b=i(e(178)),S=i(e(181)),A=i(e(180)),w=i(e(169));function r(e){var t=this.context,f=(e=e||{}).eventBus,p=e.events,n=e.debug,o=e.api,a=e.errHandler,s=void 0,h=void 0,r=void 0,g=void 0,l=void 0,u=void 0,d=void 0,i=void 0;function c(){h&&v();for(var e=0;e<u.length;e++)m(u[e]);f.trigger(p.TEARDOWN_COMPLETE)}function m(t){try{h[o.cancelKeyRequest](r.systemString,t.sessionID)}catch(e){f.trigger(p.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+t.sessionID+") "+e.message})}}function y(e,t){if(t&&e)for(var n=e.length,i=0;i<n;i++)if(e[i].sessionID==t)return e[i];return null}function v(){h.removeEventListener(o.keyerror,i),h.removeEventListener(o.needkey,i),h.removeEventListener(o.keymessage,i),h.removeEventListener(o.keyadded,i)}return s=n.getLogger(e={getAllInitData:function(){for(var e=[],t=0;t<l.length;t++)e.push(l[t].initData);for(t=0;t<u.length;t++)e.push(u[t].initData);return e},requestKeySystemAccess:function(e){for(var t=(t=h)||document.createElement("video"),n=!1,i=0;i<e.length;i++)for(var r=e[i].ks.systemString,o=e[i].configs,a=null,s=0;s<o.length;s++){var l=o[s].videoCapabilities;if(l&&0!==l.length)for(var a=[],u=0;u<l.length;u++)""!==t.canPlayType(l[u].contentType,r)&&a.push(l[u]);if(a&&(!a||0!==a.length)){var n=!0,d=new S.default(null,a),c=g.getKeySystemBySystemString(r);f.trigger(p.KEY_SYSTEM_ACCESS_COMPLETE,{data:new A.default(c,d)});break}}n||f.trigger(p.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function(){return r},selectKeySystem:function(e){r=e.keySystem,f.trigger(p.INTERNAL_KEY_SYSTEM_SELECTED)},setMediaElement:function(e){if(h!==e){if(h){v();for(var t=0;t<u.length;t++)m(u[t]);u=[]}(h=e)&&(h.addEventListener(o.keyerror,i),h.addEventListener(o.needkey,i),h.addEventListener(o.keymessage,i),h.addEventListener(o.keyadded,i),f.trigger(p.VIDEO_ELEMENT_SELECTED))}},createKeySession:function(e){if(!r)throw new Error("Can not create sessions until you have selected a key system");var t;if(d||0===u.length)return l.push(t={sessionID:null,initData:e,getSessionID:function(){return this.sessionID},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"}}),h[o.generateKeyRequest](r.systemString,new Uint8Array(e)),t;throw new Error("Multiple sessions not allowed!")},updateKeySession:function(e,t){var n=e.sessionID;if(g.isClearKey(r))for(var i=0;i<t.keyPairs.length;i++)h[o.addKey](r.systemString,t.keyPairs[i].key,t.keyPairs[i].keyID,n);else h[o.addKey](r.systemString,new Uint8Array(t),new Uint8Array(e.initData),n)},closeKeySession:m,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:c,reset:c}),l=[],u=[],g=(r=h=null,_.default)(t).getInstance(),i={handleEvent:function(e){var t=null;switch(e.type){case o.needkey:var n=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData;f.trigger(p.NEED_KEY,{key:new E.default(n,"cenc")});break;case o.keyerror:if(t=(t=y(u,e.sessionId))||y(l,e.sessionId)){var i=w.default.MEDIA_KEYERR_CODE,r="";switch(e.errorCode.code){case 1:i=w.default.MEDIA_KEYERR_UNKNOWN_CODE,r+="MEDIA_KEYERR_UNKNOWN - "+w.default.MEDIA_KEYERR_UNKNOWN_MESSAGE;break;case 2:i=w.default.MEDIA_KEYERR_CLIENT_CODE,r+="MEDIA_KEYERR_CLIENT - "+w.default.MEDIA_KEYERR_CLIENT_MESSAGE;break;case 3:i=w.default.MEDIA_KEYERR_SERVICE_CODE,r+="MEDIA_KEYERR_SERVICE - "+w.default.MEDIA_KEYERR_SERVICE_MESSAGE;break;case 4:i=w.default.MEDIA_KEYERR_OUTPUT_CODE,r+="MEDIA_KEYERR_OUTPUT - "+w.default.MEDIA_KEYERR_OUTPUT_MESSAGE;break;case 5:i=w.default.MEDIA_KEYERR_HARDWARECHANGE_CODE,r+="MEDIA_KEYERR_HARDWARECHANGE - "+w.default.MEDIA_KEYERR_HARDWARECHANGE_MESSAGE;break;case 6:i=w.default.MEDIA_KEYERR_DOMAIN_CODE,r+="MEDIA_KEYERR_DOMAIN - "+w.default.MEDIA_KEYERR_DOMAIN_MESSAGE}r+="  System Code = "+e.systemCode,f.trigger(p.KEY_ERROR,{data:new T.default(i,r,t)})}else s.error("No session token found for key error");break;case o.keyadded:(t=(t=y(u,e.sessionId))||y(l,e.sessionId))?(s.debug("DRM: Key added."),f.trigger(p.KEY_ADDED,{data:t})):s.debug("No session token found for key added");break;case o.keymessage:(d=null!==e.sessionId&&void 0!==e.sessionId)?!(t=y(u,e.sessionId))&&0<l.length&&(t=l.shift(),u.push(t),t.sessionID=e.sessionId,f.trigger(p.KEY_SESSION_CREATED,{data:t})):0<l.length&&(t=l.shift(),u.push(t),0!==l.length)&&a.error(new T.default(w.default.MEDIA_KEY_MESSAGE_ERROR_CODE,w.default.MEDIA_KEY_MESSAGE_ERROR_MESSAGE)),t?(n=ArrayBuffer.isView(e.message)?e.message.buffer:e.message,t.keyMessage=n,f.trigger(p.INTERNAL_KEY_MESSAGE,{data:new b.default(t,n,e.defaultURL)})):s.warn("No session token found for key message")}}},e}r.__dashjs_factory_name="ProtectionModel_01b",n.default=dashjs.FactoryMaker.getClassFactory(r),t.exports=n.default},{164:164,169:169,178:178,180:180,181:181,183:183,226:226}],171:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var m=i(e(164)),y=i(e(183)),v=i(e(169)),_=i(e(226)),E=i(e(178)),T=i(e(180)),b=i(e(110));function r(e){var t=this.context,a=(e=e||{}).eventBus,s=e.events,e=e.debug,l=void 0,u=void 0,r=void 0,d=void 0,c=void 0,o=void 0,i=void 0;function f(e){var t=e.session;return t.removeEventListener("keystatuseschange",e),t.removeEventListener("message",e),t.close()}function p(e){for(var t=0;t<c.length;t++)if(c[t]===e){c.splice(t,1);break}}function h(e){var t=void 0,n=void 0;return e&&0<e.length&&(e[0]&&("string"==typeof e[0]?t=e[0]:n=e[0]),e[1])&&("string"==typeof e[1]?t=e[1]:n=e[1]),{status:t,keyId:n}}function g(t,e,n,i){var r={session:t,initData:e,sessionId:i,handleEvent:function(e){switch(e.type){case"keystatuseschange":a.trigger(s.KEY_STATUSES_CHANGED,{data:this}),e.target.keyStatuses.forEach(function(){var e=h(arguments);"expired"===e.status?a.trigger(s.INTERNAL_KEY_STATUS_CHANGED,{error:new _.default(v.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_CODE,v.default.KEY_STATUS_CHANGED_EXPIRED_ERROR_MESSAGE)}):a.trigger(s.INTERNAL_KEY_STATUS_CHANGED,e)});break;case"message":var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;a.trigger(s.INTERNAL_KEY_MESSAGE,{data:new E.default(this,t,void 0,e.messageType)})}},getSessionID:function(){return t.sessionId},getExpirationTime:function(){return t.expiration},getKeyStatuses:function(){return t.keyStatuses},getUsable:function(){var e=!1;return t.keyStatuses.forEach(function(){"usable"===h(arguments).status&&(e=!0)}),e},getSessionType:function(){return n}};return t.addEventListener("keystatuseschange",r),t.addEventListener("message",r),t.closed.then(function(){p(r),l.debug("DRM: Session closed.  SessionID = "+r.getSessionID()),a.trigger(s.KEY_SESSION_CLOSED,{data:r.getSessionID()})}),c.push(r),r}return l=e.getLogger(e={getAllInitData:function(){for(var e=[],t=0;t<c.length;t++)c[t].initData&&e.push(c[t].initData);return e},requestKeySystemAccess:function(e){!function t(n,e){var i,r,o;return void 0===navigator.requestMediaKeySystemAccess||"function"!=typeof navigator.requestMediaKeySystemAccess?(a.trigger(s.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Insecure origins are not allowed"}),0):(r=n[i=e].ks,e=n[i].configs,(o=r.systemString)===b.default.PLAYREADY_KEYSTEM_STRING&&"required"===e[0].persistentState&&(o+=".recommendation"),void navigator.requestMediaKeySystemAccess(o,e).then(function(e){var t="function"==typeof e.getConfiguration?e.getConfiguration():null,t=new T.default(r,t);t.mksa=e,a.trigger(s.KEY_SYSTEM_ACCESS_COMPLETE,{data:t})}).catch(function(e){++i<n.length?t(n,i):a.trigger(s.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! "+e.message})}))}(e,0)},getKeySystem:function(){return u},selectKeySystem:function(t){t.mksa.createMediaKeys().then(function(e){u=t.keySystem,d=e,r?r.setMediaKeys(d).then(function(){a.trigger(s.INTERNAL_KEY_SYSTEM_SELECTED)}):a.trigger(s.INTERNAL_KEY_SYSTEM_SELECTED)}).catch(function(){a.trigger(s.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+t.keySystem.systemString+")! Could not create MediaKeys -- TODO"})})},setMediaElement:function(e){r!==e&&(r&&(r.removeEventListener("encrypted",o),r.setMediaKeys)&&r.setMediaKeys(null),r=e)&&(r.addEventListener("encrypted",o),r.setMediaKeys)&&d&&r.setMediaKeys(d)},setServerCertificate:function(e){if(!u||!d)throw new Error("Can not set server certificate until you have selected a key system");d.setServerCertificate(e).then(function(){l.info("DRM: License server certificate successfully updated."),a.trigger(s.SERVER_CERTIFICATE_UPDATED)}).catch(function(e){a.trigger(s.SERVER_CERTIFICATE_UPDATED,{error:new _.default(v.default.SERVER_CERTIFICATE_UPDATED_ERROR_CODE,v.default.SERVER_CERTIFICATE_UPDATED_ERROR_MESSAGE+e.name)})})},createKeySession:function(e,t,n){if(!u||!d)throw new Error("Can not create sessions until you have selected a key system");var i=d.createSession(n),r=g(i,e,n),n=this.getKeySystem().systemString===b.default.CLEARKEY_KEYSTEM_STRING&&t&&t.clearkeys?"keyids":"cenc";i.generateRequest(n,e).then(function(){l.debug("DRM: Session created.  SessionID = "+r.getSessionID()),a.trigger(s.KEY_SESSION_CREATED,{data:r})}).catch(function(e){p(r),a.trigger(s.KEY_SESSION_CREATED,{data:null,error:new _.default(v.default.KEY_SESSION_CREATED_ERROR_CODE,v.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Error generating key request -- "+e.name)})})},updateKeySession:function(t,e){var n=t.session;i.isClearKey(u)&&(e=e.toJWK()),n.update(e).catch(function(e){a.trigger(s.KEY_ERROR,{data:new _.default(v.default.MEDIA_KEYERR_CODE,"Error sending update() message! "+e.name,t)})})},loadKeySession:function(t,e,n){if(!u||!d)throw new Error("Can not load sessions until you have selected a key system");for(var i=0;i<c.length;i++)if(t===c[i].sessionId)return void l.warn("DRM: Ignoring session ID because we have already seen it!");var r=d.createSession(n),o=g(r,e,n,t);r.load(t).then(function(e){e?(l.debug("DRM: Session loaded.  SessionID = "+o.getSessionID()),a.trigger(s.KEY_SESSION_CREATED,{data:o})):(p(o),a.trigger(s.KEY_SESSION_CREATED,{data:null,error:new _.default(v.default.KEY_SESSION_CREATED_ERROR_CODE,v.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session! Invalid Session ID ("+t+")")}))}).catch(function(e){p(o),a.trigger(s.KEY_SESSION_CREATED,{data:null,error:new _.default(v.default.KEY_SESSION_CREATED_ERROR_CODE,v.default.KEY_SESSION_CREATED_ERROR_MESSAGE+"Could not load session ("+t+")! "+e.name)})})},removeKeySession:function(t){t.session.remove().then(function(){l.debug("DRM: Session removed.  SessionID = "+t.getSessionID()),a.trigger(s.KEY_SESSION_REMOVED,{data:t.getSessionID()})},function(e){a.trigger(s.KEY_SESSION_REMOVED,{data:null,error:"Error removing session ("+t.getSessionID()+"). "+e.name})})},closeKeySession:function(t){f(t).catch(function(e){p(t),a.trigger(s.KEY_SESSION_CLOSED,{data:null,error:"Error closing session ("+t.getSessionID()+") "+e.name})})},stop:function(){for(var e=void 0,t=0;t<c.length;t++)(e=c[t]).getUsable()||f(e).catch(function(){p(e)})},reset:function(){var e=c.length,t=void 0;if(0!==e)for(var n=function(e){p(e),0===c.length&&(r?(r.removeEventListener("encrypted",o),r.setMediaKeys(null).then(function(){a.trigger(s.TEARDOWN_COMPLETE)})):a.trigger(s.TEARDOWN_COMPLETE))},i=0;i<e;i++)!function(e){t.session.closed.then(function(){n(e)}),f(t).catch(function(){n(e)})}(t=c[i]);else a.trigger(s.TEARDOWN_COMPLETE)}}),c=[],i=(d=r=u=null,m.default)(t).getInstance(),o={handleEvent:function(e){var t;"encrypted"===e.type&&e.initData&&(t=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData,a.trigger(s.NEED_KEY,{key:new y.default(t,e.initDataType)}))}},e}r.__dashjs_factory_name="ProtectionModel_21Jan2015",n.default=dashjs.FactoryMaker.getClassFactory(r),t.exports=n.default},{110:110,164:164,169:169,178:178,180:180,183:183,226:226}],172:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var p=i(e(164)),v=i(e(183)),_=i(e(226)),E=i(e(169)),T=i(e(178)),b=i(e(181)),S=i(e(180));function r(e){var t=this.context,h=(e=e||{}).eventBus,g=e.events,n=e.debug,m=e.api,o=void 0,i=void 0,a=void 0,s=void 0,l=void 0,u=void 0,r=void 0,y=void 0;function d(){try{for(var e=0;e<u.length;e++)c(u[e]);i&&i.removeEventListener(m.needkey,r),h.trigger(g.TEARDOWN_COMPLETE)}catch(e){h.trigger(g.TEARDOWN_COMPLETE,{error:"Error tearing down key sessions and MediaKeys! -- "+e.message})}}function c(e){var t=e.session;t.removeEventListener(m.error,e),t.removeEventListener(m.message,e),t.removeEventListener(m.ready,e),t.removeEventListener(m.close,e);for(var n=0;n<u.length;n++)if(u[n]===e){u.splice(n,1);break}t[m.release]()}function f(){function e(){i.removeEventListener("loadedmetadata",t),i[m.setMediaKeys](s),h.trigger(g.VIDEO_ELEMENT_SELECTED)}var t=null;1<=i.readyState?e():(t=e.bind(this),i.addEventListener("loadedmetadata",t))}return o=n.getLogger(e={getAllInitData:function(){for(var e=[],t=0;t<u.length;t++)e.push(u[t].initData);return e},requestKeySystemAccess:function(e){for(var t=!1,n=0;n<e.length;n++)for(var i=e[n].ks.systemString,r=e[n].configs,o=null,a=null,s=0;s<r.length;s++){var l=r[s].audioCapabilities,u=r[s].videoCapabilities;if(l&&0!==l.length)for(var o=[],d=0;d<l.length;d++)window[m.MediaKeys].isTypeSupported(i,l[d].contentType)&&o.push(l[d]);if(u&&0!==u.length)for(var a=[],c=0;c<u.length;c++)window[m.MediaKeys].isTypeSupported(i,u[c].contentType)&&a.push(u[c]);if(!(!o&&!a||o&&0===o.length||a&&0===a.length)){var t=!0,f=new b.default(o,a),p=y.getKeySystemBySystemString(i);h.trigger(g.KEY_SYSTEM_ACCESS_COMPLETE,{data:new S.default(p,f)});break}}t||h.trigger(g.KEY_SYSTEM_ACCESS_COMPLETE,{error:"Key system access denied! -- No valid audio/video content configurations detected!"})},getKeySystem:function(){return a},selectKeySystem:function(e){try{s=e.mediaKeys=new window[m.MediaKeys](e.keySystem.systemString),a=e.keySystem,l=e,i&&f(),h.trigger(g.INTERNAL_KEY_SYSTEM_SELECTED)}catch(e){h.trigger(g.INTERNAL_KEY_SYSTEM_SELECTED,{error:"Error selecting keys system ("+a.systemString+")! Could not create MediaKeys -- TODO"})}},setMediaElement:function(e){i!==e&&(i&&i.removeEventListener(m.needkey,r),i=e)&&(i.addEventListener(m.needkey,r),s)&&f()},createKeySession:function(e,t,n,i){if(!a||!s||!l)throw new Error("Can not create sessions until you have selected a key system");var r=null;if(null===(r=null===(r=l.ksConfiguration.videoCapabilities&&0<l.ksConfiguration.videoCapabilities.length?l.ksConfiguration.videoCapabilities[0]:r)&&l.ksConfiguration.audioCapabilities&&0<l.ksConfiguration.audioCapabilities.length?l.ksConfiguration.audioCapabilities[0]:r))throw new Error("Can not create sessions for unknown content types.");r=r.contentType,r=s.createSession(r,new Uint8Array(e),i?new Uint8Array(i):null),i={session:r,initData:e,getSessionID:function(){return this.session.sessionId},getExpirationTime:function(){return NaN},getSessionType:function(){return"temporary"},handleEvent:function(e){switch(e.type){case m.error:h.trigger(g.KEY_ERROR,{data:new _.default(E.default.MEDIA_KEYERR_CODE,"KeyError",this)});break;case m.message:var t=ArrayBuffer.isView(e.message)?e.message.buffer:e.message;h.trigger(g.INTERNAL_KEY_MESSAGE,{data:new T.default(this,t,e.destinationURL)});break;case m.ready:o.debug("DRM: Key added."),h.trigger(g.KEY_ADDED);break;case m.close:o.debug("DRM: Session closed.  SessionID = "+this.getSessionID()),h.trigger(g.KEY_SESSION_CLOSED,{data:this.getSessionID()})}}};r.addEventListener(m.error,i),r.addEventListener(m.message,i),r.addEventListener(m.ready,i),r.addEventListener(m.close,i),u.push(i),o.debug("DRM: Session created.  SessionID = "+i.getSessionID()),h.trigger(g.KEY_SESSION_CREATED,{data:i})},updateKeySession:function(e,t){e=e.session;y.isClearKey(a)?e.update(new Uint8Array(t.toJWK())):e.update(new Uint8Array(t))},closeKeySession:c,setServerCertificate:function(){},loadKeySession:function(){},removeKeySession:function(){},stop:d,reset:d}),u=[],y=(l=s=a=i=null,p.default)(t).getInstance(),r={handleEvent:function(e){e.type===m.needkey&&e.initData&&(e=ArrayBuffer.isView(e.initData)?e.initData.buffer:e.initData,h.trigger(g.NEED_KEY,{key:new v.default(e,"cenc")}))}},e}r.__dashjs_factory_name="ProtectionModel_3Feb2014",n.default=dashjs.FactoryMaker.getClassFactory(r),t.exports=n.default},{164:164,169:169,178:178,180:180,181:181,183:183,226:226}],173:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(179)),a=i(e(177));function r(){return{getServerURLFromMessage:function(e,t){var n=JSON.parse(String.fromCharCode.apply(null,new Uint8Array(t)));e+="/?";for(var i=0;i<n.kids.length;i++)e+=n.kids[i]+"&";return e.substring(0,e.length-1)},getHTTPMethod:function(){return"GET"},getResponseType:function(){return"json"},getLicenseMessage:function(e){if(!e.hasOwnProperty("keys"))return null;for(var t=[],n=0;n<e.keys.length;n++){var i=e.keys[n],r=i.kid.replace(/=/g,""),i=i.k.replace(/=/g,"");t.push(new o.default(r,i))}return new a.default(t)},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}r.__dashjs_factory_name="ClearKey",n.default=dashjs.FactoryMaker.getSingletonFactory(r),t.exports=n.default},{177:177,179:179}],174:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(110),r=e&&e.__esModule?e:{default:e};function i(e){var n=(e=e||{}).BASE64,i={};return i[r.default.WIDEVINE_KEYSTEM_STRING]={responseType:"json",getLicenseMessage:function(e){return n.decodeArray(e.license)},getErrorResponse:function(e){return e}},i[r.default.PLAYREADY_KEYSTEM_STRING]={responseType:"arraybuffer",getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}},{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(e){return i[e].responseType},getLicenseMessage:function(e,t){if(n&&n.hasOwnProperty("decodeArray"))return i[t].getLicenseMessage(e);throw new Error("Missing config parameter(s)")},getErrorResponse:function(e,t){return i[t].getErrorResponse(e)}}}i.__dashjs_factory_name="DRMToday",n.default=dashjs.FactoryMaker.getSingletonFactory(i),t.exports=n.default},{110:110}],175:[function(e,t,n){"use strict";function i(){var a="http://schemas.xmlsoap.org/soap/envelope/";function s(e){e=String.fromCharCode.apply(null,new Uint8Array(e));return decodeURIComponent(escape(e))}return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return function(e){if(window.DOMParser){var t=s(e),t=(new window.DOMParser).parseFromString(t,"text/xml"),t=t?t.getElementsByTagNameNS(a,"Envelope")[0]:null,t=t?t.getElementsByTagNameNS(a,"Body")[0]:null;if(t&&t.getElementsByTagNameNS(a,"Fault")[0])return null}return e}.call(this,e)},getErrorResponse:function(e){return function(e){var t="",n="",i="";if(window.DOMParser){var e=s(e),r=(new window.DOMParser).parseFromString(e,"text/xml"),r=r?r.getElementsByTagNameNS(a,"Envelope")[0]:null,r=r?r.getElementsByTagNameNS(a,"Body")[0]:null,r=r?r.getElementsByTagNameNS(a,"Fault")[0]:null,o=r?r.getElementsByTagName("detail")[0]:null,o=o?o.getElementsByTagName("Exception")[0]:null;if(null===r)return e;t=(e=r.getElementsByTagName("faultstring")[0].firstChild)?e.nodeValue:null,null!==o&&(n=(e=o.getElementsByTagName("StatusCode")[0])?e.firstChild.nodeValue:null,r=(i=(e=o.getElementsByTagName("Message")[0])?e.firstChild.nodeValue:null)?i.lastIndexOf("[")+1:-1,o=i?i.indexOf("]"):-1,i=i?i.substring(r,o):"")}e="code: "+n+", name: "+t;return i&&(e+=", message: "+i),e}.call(this,e)}}}Object.defineProperty(n,"__esModule",{value:!0}),i.__dashjs_factory_name="PlayReady",n.default=dashjs.FactoryMaker.getSingletonFactory(i),t.exports=n.default},{}],176:[function(e,t,n){"use strict";function i(){return{getServerURLFromMessage:function(e){return e},getHTTPMethod:function(){return"POST"},getResponseType:function(){return"arraybuffer"},getLicenseMessage:function(e){return e},getErrorResponse:function(e){return String.fromCharCode.apply(null,new Uint8Array(e))}}}Object.defineProperty(n,"__esModule",{value:!0}),i.__dashjs_factory_name="Widevine",n.default=dashjs.FactoryMaker.getSingletonFactory(i),t.exports=n.default},{}],177:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}Object.defineProperty(n,"__esModule",{value:!0});i(o.prototype,[{key:"toJWK",value:function(){for(var e=void 0,t=this.keyPairs.length,n={keys:[]},e=0;e<t;e++){var i={kty:"oct",alg:"A128KW",kid:this.keyPairs[e].keyID,k:this.keyPairs[e].key};n.keys.push(i)}this.type&&(n.type=this.type);var r=JSON.stringify(n),o=r.length,a=new ArrayBuffer(o),s=new Uint8Array(a);for(e=0;e<o;e++)s[e]=r.charCodeAt(e);return a}}]);var r=o;function o(e,t){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");if(t&&"persistent"!==t&&"temporary"!==t)throw new Error("Invalid ClearKey key set type!  Must be one of 'persistent' or 'temporary'");this.keyPairs=e,this.type=t}n.default=r,t.exports=n.default},{}],178:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n,i,r){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.sessionToken=t,this.message=n,this.defaultURL=i,this.messageType=r||"license-request"},t.exports=n.default},{}],179:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.keyID=t,this.key=n},t.exports=n.default},{}],180:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.keySystem=t,this.ksConfiguration=n},t.exports=n.default},{}],181:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n,i,r,o){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.initDataTypes=["cenc"],t&&t.length&&(this.audioCapabilities=t),n&&n.length&&(this.videoCapabilities=n),this.distinctiveIdentifier=i,this.persistentState=r,this.sessionTypes=o},t.exports=n.default},{}],182:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.contentType=t,this.robustness=n},t.exports=n.default},{}],183:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.initData=t,this.initDataType=n},t.exports=n.default},{}],184:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(47),e=e&&e.__esModule?e:{default:e};function i(){var r=[],o=0,a=0;return{push:function(e,t){var n=t&&t.droppedVideoFrames?t.droppedVideoFrames:0,t=t&&t.totalVideoFrames?t.totalVideoFrames:0,i=n-o,n=(o=n,t-a);a=t,isNaN(e)||(r[e]?(r[e].droppedVideoFrames+=i,r[e].totalVideoFrames+=n):r[e]={droppedVideoFrames:i,totalVideoFrames:n})},getFrameHistory:function(){return r},reset:function(e){r=[],o=e.droppedVideoFrames,a=e.totalVideoFrames}}}i.__dashjs_factory_name="DroppedFramesHistory";e=e.default.getClassFactory(i);n.default=e,t.exports=n.default},{47:47}],185:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(47),e=e&&e.__esModule?e:{default:e};function i(e){var t=(e=e||{}).abrController,n=e.switchHistory,i=e.droppedFramesHistory,r=e.currentRequest,o=e.useBufferOccupancyABR,a=e.streamProcessor?e.streamProcessor.getScheduleController():null,s=e.streamProcessor?e.streamProcessor.getRepresentationInfo():null;function l(){return s?s.mediaInfo:null}return{getMediaType:function(){var e=l();return e?e.type:null},getMediaInfo:l,getDroppedFramesHistory:function(){return i},getCurrentRequest:function(){return r},getSwitchHistory:function(){return n},getStreamInfo:function(){var e=l();return e?e.streamInfo:null},getScheduleController:function(){return a},getAbrController:function(){return t},getRepresentationInfo:function(){return s},useBufferOccupancyABR:function(){return o}}}i.__dashjs_factory_name="RulesContext",n.default=e.default.getClassFactory(i),t.exports=n.default},{47:47}],186:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(47),e=e&&e.__esModule?e:{default:e},i={DEFAULT:.5,STRONG:1,WEAK:0};function r(e,t,n){return{quality:void 0===e?-1:e,reason:void 0===t?null:t,priority:e=n!==(e=i.DEFAULT)&&n!==i.STRONG&&n!==i.WEAK?e:n}}r.__dashjs_factory_name="SwitchRequest";var o=e.default.getClassFactory(r);o.NO_CHANGE=-1,o.PRIORITY=i,e.default.updateClassFactory(r.__dashjs_factory_name,o),n.default=o,t.exports=n.default},{47:47}],187:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),a=i(e(186));function o(){var r=[],o=[];return{push:function(e){e.newValue===a.default.NO_CHANGE&&(e.newValue=e.oldValue),r[e.oldValue]||(r[e.oldValue]={noDrops:0,drops:0,dropSize:0});var t=e.newValue-e.oldValue,n=t<0?1:0,t=n?-t:0,i=n?0:1;r[e.oldValue].drops+=n,r[e.oldValue].dropSize+=t,r[e.oldValue].noDrops+=i,o.push({idx:e.oldValue,noDrop:i,drop:n,dropSize:t}),8<o.length&&(e=o.shift(),r[e.idx].drops-=e.drop,r[e.idx].dropSize-=e.dropSize,r[e.idx].noDrops-=e.noDrop)},getSwitchRequests:function(){return r},reset:function(){r=[],o=[]}}}o.__dashjs_factory_name="SwitchRequestHistory";e=r.default.getClassFactory(o);n.default=e,t.exports=n.default},{186:186,47:47}],188:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var E=i(e(108)),e=i(e(47));function r(e){var u=3,d=4,c=4,f=1.3,p=1.3,h=(e=e||{}).settings,g=void 0,m=void 0,y=void 0,v=void 0,_=void 0;function a(e,t,n,i){var r=Math.pow(.5,n/i.fast),r=(e.fastEstimate=(1-r)*t+r*e.fastEstimate,Math.pow(.5,n/i.slow));e.slowEstimate=(1-r)*t+r*e.slowEstimate,e.totalWeight+=n}function n(e,t,r){return h.get().streaming.abr.movingAverageMethod!==E.default.MOVING_AVERAGE_SLIDING_WINDOW?(n=t,s=(l=e)?_.throughputHalfLife:_.latencyHalfLife,!(n=(l?y:v)[n])||n.totalWeight<=0?NaN:(i=n.fastEstimate/(1-Math.pow(.5,n.totalWeight/s.fast)),n=n.slowEstimate/(1-Math.pow(.5,n.totalWeight/s.slow)),l?Math.min(i,n):Math.max(i,n))):(s=function(){var e=void 0,t=void 0,t=o?(e=g[a],r?u:d):(e=m[a],c);if(e){if(t>=e.length)t=e.length;else if(o)for(var n=1;n<t;++n){var i=e[n]/e[n-1];if((p<=i||i<=1/f)&&(t+=1)===e.length)break}}else t=0;return t}((o=e,a=t)),l=(o?g:m)[a],0!==s&&l&&0!==l.length?(l=l.slice(-s)).reduce(function(e,t){return e+t})/l.length:NaN);var n,i,o,a,s,l}function i(e,t){return n(!0,e,t)}function s(e){g[e]=g[e]||[],m[e]=m[e]||[],y[e]=y[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0},v[e]=v[e]||{fastEstimate:0,slowEstimate:0,totalWeight:0}}function t(){g={},m={},y={},v={}}_={throughputHalfLife:{fast:3,slow:8},latencyHalfLife:{fast:1,slow:2}};return t(),{push:function(e,t,n){if(t.trace&&t.trace.length){var i=t.tresponse.getTime()-t.trequest.getTime()||1,r=t._tfinish.getTime()-t.tresponse.getTime()||1,o=t.trace.reduce(function(e,t){return e+t.b[0]},0),t=h.get().streaming.lowLatencyEnabled?t.trace.reduce(function(e,t){return e+t.d},0):n?r:i+r,n=Math.round(8*o/t);if(s(e),o=r,(t=e)===E.default.VIDEO?o<h.get().streaming.cacheLoadThresholds[E.default.VIDEO]:t===E.default.AUDIO&&o<h.get().streaming.cacheLoadThresholds[E.default.AUDIO]){if(0<g[e].length&&!g[e].hasCachedEntries)return;g[e].hasCachedEntries=!0}else g[e]&&g[e].hasCachedEntries&&(delete g[t=e],delete m[t],delete y[t],delete v[t],s(t));g[e].push(n),20<g[e].length&&g[e].shift(),m[e].push(i),20<m[e].length&&m[e].shift(),a(y[e],n,.001*r,_.throughputHalfLife),a(v[e],i,1,_.latencyHalfLife)}},getAverageThroughput:i,getSafeAverageThroughput:function(e,t){e=i(e,t);return isNaN(e)||(e*=h.get().streaming.abr.bandwidthSafetyFactor),e},getAverageLatency:function(e){return n(!1,e)},reset:t}}r.__dashjs_factory_name="ThroughputHistory",n.default=e.default.getClassFactory(r),t.exports=n.default},{108:108,47:47}],189:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var u=i(e(195)),d=i(e(193)),c=i(e(190)),f=i(e(192)),p=i(e(194)),h=i(e(191)),r=i(e(47)),g=i(e(186)),m="qualitySwitchRules",y="abandonFragmentRules";function o(e){var s=this.context,t=(e=e||{}).mediaPlayerModel,n=e.dashMetrics,i=e.settings,r=void 0,o=void 0;function a(e){return e.filter(function(e){return e.quality>g.default.NO_CHANGE})}function l(e){var t,n,i={},r=void 0,o=void 0,a=void 0;if(0!==e.length){for(i[g.default.PRIORITY.STRONG]=g.default.NO_CHANGE,i[g.default.PRIORITY.WEAK]=g.default.NO_CHANGE,i[g.default.PRIORITY.DEFAULT]=g.default.NO_CHANGE,r=0,t=e.length;r<t;r+=1)(n=e[r]).quality!==g.default.NO_CHANGE&&(i[n.priority]=i[n.priority]>g.default.NO_CHANGE?Math.min(i[n.priority],n.quality):n.quality);return i[g.default.PRIORITY.WEAK]!==g.default.NO_CHANGE&&(o=i[g.default.PRIORITY.WEAK]),i[g.default.PRIORITY.DEFAULT]!==g.default.NO_CHANGE&&(o=i[g.default.PRIORITY.DEFAULT]),(o=i[g.default.PRIORITY.STRONG]!==g.default.NO_CHANGE?i[g.default.PRIORITY.STRONG]:o)!==g.default.NO_CHANGE&&(a=o),(0,g.default)(s).create(a)}}return{initialize:function(){r=[],o=[],i.get().streaming.abr.useDefaultABRRules&&(r.push((0,h.default)(s).create({dashMetrics:n,mediaPlayerModel:t,settings:i})),r.push((0,u.default)(s).create({dashMetrics:n})),r.push((0,d.default)(s).create({dashMetrics:n})),r.push((0,p.default)(s).create()),r.push((0,f.default)(s).create()),o.push((0,c.default)(s).create({dashMetrics:n,mediaPlayerModel:t,settings:i}))),t.getABRCustomRules().forEach(function(e){e.type===m&&r.push(e.rule(s).create()),e.type===y&&o.push(e.rule(s).create())})},reset:function(){[r,o].forEach(function(e){e&&e.length&&e.forEach(function(e){return e.reset&&e.reset()})}),r=[],o=[]},getMaxQuality:function(t){return l(a(r.map(function(e){return e.getMaxIndex(t)})))||(0,g.default)(s).create()},shouldAbandonFragment:function(t){return l(a(o.map(function(e){return e.shouldAbandon(t)})))||(0,g.default)(s).create()}}}o.__dashjs_factory_name="ABRRulesCollection";e=r.default.getClassFactory(o);e.QUALITY_SWITCH_RULES=m,e.ABANDON_FRAGMENT_RULES=y,r.default.updateSingletonFactory(o.__dashjs_factory_name,e),n.default=e,t.exports=n.default},{186:186,190:190,191:191,192:192,193:193,194:194,195:195,47:47}],190:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var m=i(e(186)),r=i(e(47)),o=i(e(45));function y(e){var l=this.context,u=(e=e||{}).mediaPlayerModel,d=e.dashMetrics,c=e.settings,f=void 0,p=void 0,h=void 0,g=void 0;function t(){p={},h={},g=[]}return e={shouldAbandon:function(e){var t=(0,m.default)(l).create(m.default.NO_CHANGE,{name:y.__dashjs_factory_name});if(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("getCurrentRequest")&&e.hasOwnProperty("getRepresentationInfo")&&e.hasOwnProperty("getAbrController")){var n=e.getMediaInfo(),i=e.getMediaType(),r=e.getCurrentRequest();if(!isNaN(r.index)){if(s=r.index,p[o=i]=p[o]||{},p[o][s]=p[o][s]||{},u.getStableBufferTime()<d.getCurrentBufferLevel(i))return t;var o=p[i][r.index];if(null===o||null===r.firstByteDate||h.hasOwnProperty(o.id))return t;if(void 0===o.firstByteTime&&(g[i]=[],o.firstByteTime=r.firstByteDate.getTime(),o.segmentDuration=r.duration,o.bytesTotal=r.bytesTotal,o.id=r.index),o.bytesLoaded=r.bytesLoaded,o.elapsedTime=(new Date).getTime()-o.firstByteTime,0<o.bytesLoaded&&0<o.elapsedTime&&(s=i,r=Math.round(8*o.bytesLoaded/o.elapsedTime),g[s]=g[s]||[],g[s].push(r)),5<=g[i].length&&500<o.elapsedTime&&o.bytesLoaded<o.bytesTotal){var a,s=g[i].reduce(function(e,t){return e+t},0);if(o.measuredBandwidthInKbps=Math.round(s/g[i].length),o.estimatedTimeOfDownload=+(8*o.bytesTotal/o.measuredBandwidthInKbps/1e3).toFixed(2),o.estimatedTimeOfDownload<1.8*o.segmentDuration||0===e.getRepresentationInfo().quality)return t;h.hasOwnProperty(o.id)||(r=e.getAbrController(),s=o.bytesTotal-o.bytesLoaded,e=r.getBitrateList(n),n=r.getQualityForBitrate(n,o.measuredBandwidthInKbps*c.get().streaming.abr.bandwidthSafetyFactor),a=void 0!==(a=r.getMinAllowedIndexFor(i))?Math.max(a,n):n,o.bytesTotal*e[a].bitrate/e[r.getQualityFor(i)].bitrate<s&&(t.quality=a,t.reason.throughput=o.measuredBandwidthInKbps,t.reason.fragmentID=o.id,h[o.id]=o,f.debug("["+i+"] frag id",o.id," is asking to abandon and switch to quality to ",a," measured bandwidth was",o.measuredBandwidthInKbps),delete p[i][o.id]))}else o.bytesLoaded===o.bytesTotal&&delete p[i][o.id]}}return t},reset:t},f=(0,o.default)(l).getInstance().getLogger(e),t(),e}y.__dashjs_factory_name="AbandonRequestsRule",n.default=r.default.getClassFactory(y),t.exports=n.default},{186:186,45:45,47:47}],191:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var f=i(e(109)),L=i(e(186)),r=i(e(47)),p=e(242),h=i(e(46)),g=i(e(54)),m=i(e(45));function o(e){var w=this.context,I=(e=e||{}).dashMetrics,C=e.mediaPlayerModel,t=(0,h.default)(w).getInstance(),n=void 0,R=void 0,D=void 0;function N(e,t,i){var n=i.reduce(function(e,t,n){return t>i[e]?n:e},0);return 0===n?null:(e=Math.max(e,10+2*t.length),{gp:t=(i[n]-1)/(e/10-1),Vp:10/t})}function M(e){e.placeholderBuffer=0,e.mostAdvancedSegmentStart=NaN,e.lastSegmentWasReplacement=!1,e.lastSegmentStart=NaN,e.lastSegmentDurationS=NaN,e.lastSegmentRequestTimeMs=NaN,e.lastSegmentFinishTimeMs=NaN}function O(e,t){var n,i,r=C.getStableBufferTime();e.stableBufferTime===r||(n=N(r,e.bitrates,e.utilities)).Vp===e.Vp&&n.gp===e.gp||(i=(t=I.getCurrentBufferLevel(t))+e.placeholderBuffer,i=(i-=10)*(n.Vp/e.Vp)+10,e.stableBufferTime=r,e.Vp=n.Vp,e.gp=n.gp,e.placeholderBuffer=Math.max(0,i-t))}function x(e,t){return e.Vp*(e.utilities[t]+e.gp)}function P(e,t){for(var n,i,r=e.bitrates[t],o=e.utilities[t],a=0,s=t-1;0<=s;--s)e.utilities[s]<e.utilities[t]&&(n=e.bitrates[s],i=e.utilities[s],i=e.Vp*(e.gp+(r*i-n*o)/(r-n)),a=Math.max(a,i));return a}function i(){for(var e in D)D.hasOwnProperty(e)&&2===D[e].state&&(D[e].placeholderBuffer=0)}function r(){for(var e in D)D.hasOwnProperty(e)&&0!==(e=D[e]).state&&(e.state=1,M(e))}function o(){}function a(e){var t,n;e&&e.chunk&&e.chunk.mediaInfo&&(t=D[e.chunk.mediaInfo.type])&&0!==t.state&&(n=e.chunk.start,isNaN(t.mostAdvancedSegmentStart)||n>t.mostAdvancedSegmentStart?(t.mostAdvancedSegmentStart=n,t.lastSegmentWasReplacement=!1):t.lastSegmentWasReplacement=!0,t.lastSegmentStart=n,t.lastSegmentDurationS=e.chunk.duration,t.lastQuality=e.chunk.quality,l(t,e.chunk.mediaInfo.type))}function s(e){var t;e&&e.metric===f.default.HTTP_REQUEST&&e.value&&e.value.type===p.HTTPRequest.MEDIA_SEGMENT_TYPE&&e.value.trace&&e.value.trace.length&&(t=D[e.mediaType])&&0!==t.state&&(t.lastSegmentRequestTimeMs=e.value.trequest.getTime(),t.lastSegmentFinishTimeMs=e.value._tfinish.getTime(),l(t,e.mediaType))}function l(e,t){var n;isNaN(e.lastSegmentStart)||isNaN(e.lastSegmentRequestTimeMs)||isNaN(e.placeholderBuffer)||(e.placeholderBuffer*=.99,isNaN(e.lastSegmentFinishTimeMs)||(t=I.getCurrentBufferLevel(t)+.001*(e.lastSegmentFinishTimeMs-e.lastSegmentRequestTimeMs),n=x(e,e.lastQuality),n=Math.max(0,n-t),e.placeholderBuffer=Math.min(n,e.placeholderBuffer)),e.lastSegmentWasReplacement&&!isNaN(e.lastSegmentDurationS)&&(e.placeholderBuffer+=e.lastSegmentDurationS),e.lastSegmentStart=NaN,e.lastSegmentRequestTimeMs=NaN)}function u(e){var t;e&&(t=D[e.mediaType])&&0!==t.state&&(t.abrQuality=e.newQuality)}function d(e){var t,n;e&&(t=D[e.mediaType])&&0!==t.state&&(e=I.getCurrentBufferLevel(e.mediaType),n=void 0,n=0<t.abrQuality?P(t,t.abrQuality):10,n=Math.max(0,n-e),t.placeholderBuffer=Math.min(t.placeholderBuffer,n))}function c(){D={}}return n={getMaxIndex:function(e){var t=(0,L.default)(w).create();if(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("getScheduleController")&&e.hasOwnProperty("getStreamInfo")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("useBufferOccupancyABR")){var n=e.getMediaInfo(),i=e.getMediaType(),r=e.getScheduleController(),o=e.getStreamInfo(),a=e.getAbrController(),s=a.getThroughputHistory(),l=o?o.id:null,o=o&&o.manifestInfo&&o.manifestInfo.isDynamic,u=e.useBufferOccupancyABR();if(t.reason=t.reason||{},u){r.setTimeToLoadDelay(0);e=(u=e).getMediaType(),(d=D[e])?0!==d.state&&O(d,e):(c={},u=(u=u).getMediaInfo().bitrateList.map(function(e){return e.bandwidth}),f=(f=u.map(function(e){return Math.log(e)})).map(function(e){return e-f[0]+1}),p=C.getStableBufferTime(),(h=N(p,u,f))?(c.state=1,c.bitrates=u,c.utilities=f,c.stableBufferTime=p,c.Vp=h.Vp,c.gp=h.gp,c.lastQuality=0,M(c)):c.state=0,d=c,D[e]=d);var d,c,f,p,h,g=d;if(0!==g.state){var m,y,v=I.getCurrentBufferLevel(i),_=s.getAverageThroughput(i,o),E=s.getSafeAverageThroughput(i,o),T=s.getAverageLatency(i),b=void 0;if(t.reason.state=g.state,t.reason.throughput=_,t.reason.latency=T,!isNaN(_))switch(g.state){case 1:b=a.getQualityForBitrate(n,E,T),t.quality=b,t.reason.throughput=E,g.placeholderBuffer=Math.max(0,P(g,b)-v),g.lastQuality=b,!isNaN(g.lastSegmentDurationS)&&v>=g.lastSegmentDurationS&&(g.state=2);break;case 2:m=g,y=i,A=Date.now(),isNaN(m.lastSegmentFinishTimeMs)?isNaN(m.lastCallTimeMs)||(S=.001*(A-m.lastCallTimeMs),m.placeholderBuffer+=Math.max(0,S)):(S=.001*(A-m.lastSegmentFinishTimeMs),m.placeholderBuffer+=Math.max(0,S)),m.lastCallTimeMs=A,m.lastSegmentStart=NaN,m.lastSegmentRequestTimeMs=NaN,m.lastSegmentFinishTimeMs=NaN,O(m,y);var b=function(e,t){for(var n=e.bitrates.length,i=NaN,r=NaN,o=0;o<n;++o){var a=(e.Vp*(e.utilities[o]+e.gp)-t)/e.bitrates[o];(isNaN(r)||r<=a)&&(r=a,i=o)}return i}(g,v+g.placeholderBuffer),S=a.getQualityForBitrate(n,E,T),A=(b>g.lastQuality&&S<b&&(b=Math.max(S,g.lastQuality)),Math.max(0,v+g.placeholderBuffer-x(g,b)));A<=g.placeholderBuffer?(g.placeholderBuffer-=A,A=0):(A-=g.placeholderBuffer,g.placeholderBuffer=0,b<a.getTopQualityIndexFor(i,l)?r.setTimeToLoadDelay(1e3*A):A=0),t.quality=b,t.reason.throughput=_,t.reason.latency=T,t.reason.bufferLevel=v,t.reason.placeholderBuffer=g.placeholderBuffer,t.reason.delay=A,g.lastQuality=b;break;default:R.debug("BOLA ABR rule invoked in bad state."),t.quality=a.getQualityForBitrate(n,E,T),t.reason.state=g.state,t.reason.throughput=E,t.reason.latency=T,g.state=1,M(g)}}}}return t},reset:function(){c(),t.off(g.default.BUFFER_EMPTY,i,n),t.off(g.default.PLAYBACK_SEEKING,r,n),t.off(g.default.PERIOD_SWITCH_STARTED,o,n),t.off(g.default.MEDIA_FRAGMENT_LOADED,a,n),t.off(g.default.METRIC_ADDED,s,n),t.off(g.default.QUALITY_CHANGE_REQUESTED,u,n),t.off(g.default.FRAGMENT_LOADING_ABANDONED,d,n)}},R=(0,m.default)(w).getInstance().getLogger(n),c(),t.on(g.default.BUFFER_EMPTY,i,n),t.on(g.default.PLAYBACK_SEEKING,r,n),t.on(g.default.PERIOD_SWITCH_STARTED,o,n),t.on(g.default.MEDIA_FRAGMENT_LOADED,a,n),t.on(g.default.METRIC_ADDED,s,n),t.on(g.default.QUALITY_CHANGE_REQUESTED,u,n),t.on(g.default.FRAGMENT_LOADING_ABANDONED,d,n),n}o.__dashjs_factory_name="BolaRule",n.default=r.default.getClassFactory(o),t.exports=n.default},{109:109,186:186,242:242,45:45,46:46,47:47,54:54}],192:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),u=i(e(186)),o=i(e(45));function a(){var s=this.context,l=void 0,e={getMaxIndex:function(e){var t=(0,u.default)(s).create();if(e&&e.hasOwnProperty("getDroppedFramesHistory")){e=e.getDroppedFramesHistory();if(e){for(var n=e.getFrameHistory(),i=0,r=0,o=u.default.NO_CHANGE,a=1;a<n.length;a++)if(n[a]&&(i=n[a].droppedVideoFrames,375<(r=n[a].totalVideoFrames))&&.15<i/r){l.debug("index: "+(o=a-1)+" Dropped Frames: "+i+" Total Frames: "+r);break}return(0,u.default)(s).create(o,{droppedFrames:i})}}return t}},l=(0,o.default)(s).getInstance().getLogger(e);return e}a.__dashjs_factory_name="DroppedFramesRule",n.default=r.default.getClassFactory(a),t.exports=n.default},{186:186,45:45,47:47}],193:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(46)),a=i(e(54)),r=i(e(47)),s=i(e(45)),f=i(e(186)),p=i(e(108)),h=i(e(109));function l(e){e=e||{};var l=this.context,t=(0,o.default)(l).getInstance(),u=e.dashMetrics,n=void 0,d=void 0,c=void 0;function i(){c={}}function r(){i()}return n={getMaxIndex:function(e){var t=(0,f.default)(l).create();if(e&&e.hasOwnProperty("getMediaType")){if(!u||!u.hasOwnProperty("getCurrentBufferLevel")||!u.hasOwnProperty("getCurrentBufferState"))throw new Error(p.default.MISSING_CONFIG_ERROR);var n,i,r,o=e.getMediaType(),a=u.getCurrentBufferState(o),s=e.getRepresentationInfo().fragmentDuration;a&&(n=a,c[i=o]=c[i]||{},r=!1,c[i].firstBufferLoadedEvent?r=!0:n&&n.state===h.default.BUFFER_LOADED&&(r=c[i].firstBufferLoadedEvent=!0),r)&&s&&(a.state===h.default.BUFFER_EMPTY?(d.debug("["+o+"] Switch to index 0; buffer is empty."),t.quality=0,t.reason="InsufficientBufferRule: Buffer is empty"):(n=e.getMediaInfo(),r=(i=e.getAbrController()).getThroughputHistory(),a=u.getCurrentBufferLevel(o),e=r.getAverageThroughput(o),r=r.getAverageLatency(o),t.quality=i.getQualityForBitrate(n,e*(a/s)*.5,r),t.reason="InsufficientBufferRule: being conservative to avoid immediate rebuffering"))}return t},reset:function(){i(),t.off(a.default.PLAYBACK_SEEKING,r,n)}},d=(0,s.default)(l).getInstance().getLogger(n),i(),t.on(a.default.PLAYBACK_SEEKING,r,n),n}l.__dashjs_factory_name="InsufficientBufferRule",n.default=r.default.getClassFactory(l),t.exports=n.default},{108:108,109:109,186:186,45:45,46:46,47:47,54:54}],194:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),o=i(e(45)),u=i(e(186));function a(){var s=this.context,l=void 0,e={getMaxIndex:function(e){for(var e=e?e.getSwitchHistory():null,t=e?e.getSwitchRequests():[],n=0,i=0,r=0,o=(0,u.default)(s).create(),a=0;a<t.length;a++)if(void 0!==t[a]&&(n+=t[a].drops,i+=t[a].noDrops,r+=t[a].dropSize,6<=n+i)&&.075<n/i){o.quality=0<a&&0<t[a].drops?a-1:a,o.reason={index:o.quality,drops:n,noDrops:i,dropSize:r},l.debug("Switch history rule index: "+o.quality+" samples: "+(n+i)+" drops: "+n);break}return o}},l=(0,o.default)(s).getInstance().getLogger(e);return e}a.__dashjs_factory_name="SwitchHistoryRule",n.default=r.default.getClassFactory(a),t.exports=n.default},{186:186,45:45,47:47}],195:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),o=i(e(45)),p=i(e(186)),h=i(e(108)),g=i(e(109));function a(e){var d=this.context,c=(e=e||{}).dashMetrics,f=void 0,e={getMaxIndex:function(e){var t=(0,p.default)(d).create();if(e&&e.hasOwnProperty("getMediaInfo")&&e.hasOwnProperty("getMediaType")&&e.hasOwnProperty("useBufferOccupancyABR")&&e.hasOwnProperty("getAbrController")&&e.hasOwnProperty("getScheduleController")){if(!c||!c.hasOwnProperty("getCurrentBufferState"))throw new Error(h.default.MISSING_CONFIG_ERROR);var n=e.getMediaInfo(),i=e.getMediaType(),r=c.getCurrentBufferState(i),o=e.getScheduleController(),a=e.getAbrController(),s=e.getStreamInfo(),s=s&&s.manifestInfo?s.manifestInfo.isDynamic:null,l=a.getThroughputHistory(),u=l.getSafeAverageThroughput(i,s),l=l.getAverageLatency(i),e=e.useBufferOccupancyABR();isNaN(u)||!r||e||a.getAbandonmentStateFor(i)===g.default.ABANDON_LOAD||r.state!==g.default.BUFFER_LOADED&&!s||(t.quality=a.getQualityForBitrate(n,u,l),o.setTimeToLoadDelay(0),f.debug("["+i+"] requesting switch to index: ",t.quality,"Average throughput",Math.round(u),"kbps"),t.reason={throughput:u,latency:l})}return t},reset:function(){}},f=(0,o.default)(d).getInstance().getLogger(e);return e}a.__dashjs_factory_name="ThroughputRule",n.default=r.default.getClassFactory(a),t.exports=n.default},{108:108,109:109,186:186,45:45,47:47}],196:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var d=i(e(108)),r=i(e(47)),c=i(e(109));function o(e){var o=(e=e||{}).dashMetrics,a=e.mediaPlayerModel,s=e.textController,l=e.abrController,u=e.settings;function n(e,t){var n,i,r=NaN;return e&&(i=e.getType(),e=e.getRepresentationInfo(),r=i===d.default.FRAGMENTED_TEXT?s.isTextEnabled()?isNaN(e.fragmentDuration)?(n=o.getCurrentSchedulingInfo(c.default.SCHEDULING_INFO))?n.duration:0:e.fragmentDuration:0:i===d.default.AUDIO&&t?(n=o.getCurrentBufferLevel(d.default.VIDEO),isNaN(e.fragmentDuration)?n:Math.max(n,e.fragmentDuration)):(i=e.mediaInfo.streamInfo,l.isPlayingAtTopQuality(i)?i.manifestInfo.duration>=u.get().streaming.longFormContentDurationThreshold?u.get().streaming.bufferTimeAtTopQualityLongForm:u.get().streaming.bufferTimeAtTopQuality:a.getStableBufferTime())),r}return{execute:function(e,t){return!e||o.getCurrentBufferLevel(e.getType())<n(e,t)},getBufferTarget:n}}o.__dashjs_factory_name="BufferLevelRule",n.default=r.default.getClassFactory(o),t.exports=n.default},{108:108,109:109,47:47}],197:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var h=i(e(108)),r=i(e(45)),o=i(e(47)),g=i(e(228));function a(e){var t=this.context,f=(e=e||{}).textController,p=e.playbackController,e={execute:function(e,t,n){if(!e)return null;var i,r,o=e.getRepresentationInfo(),a=e.getType(),s=!isNaN(t),l=e.getBufferController(),u=p.getNormalizedTime(),t=s?t:e.getIndexHandlerTime(),d=!1,c=void 0;if(isNaN(t)||a===h.default.FRAGMENTED_TEXT&&!f.isTextEnabled())return null;if(l&&(i=l.getRangeAt(t),r=l.getRangeAt(u),l=l.getBuffer().hasDiscontinuitiesAfter(u),null===i&&null===r||s||(!i||r&&r.start!=i.start&&r.end!=i.end)&&(l&&a!==h.default.FRAGMENTED_TEXT&&(e.getFragmentModel().removeExecutedRequestsAfterTime(r.end),d=!0),i=r)),n)t=n.startTime+n.duration/2,c=e.getFragmentRequest(o,t,{timeThreshold:0,ignoreIsFinished:!0});else for(c=e.getFragmentRequest(o,s||d?t:void 0,{keepIdx:!s&&!d});c&&c.action!==g.default.ACTION_COMPLETE&&e.getFragmentModel().isFragmentLoaded(c);)c=e.getFragmentRequest(o);return c}};return(0,r.default)(t).getInstance().getLogger(e),e}a.__dashjs_factory_name="NextFragmentRequestRule",n.default=o.default.getClassFactory(a),t.exports=n.default},{108:108,228:228,45:45,47:47}],198:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(47),e=e&&e.__esModule?e:{default:e};function i(){var F=0;function n(e){return"red"===e?"rgb(255, 0, 0)":"green"===e?"rgb(0, 255, 0)":"blue"===e?"rgb(0, 0, 255)":"cyan"===e?"rgb(0, 255, 255)":"magenta"===e?"rgb(255, 0, 255)":"yellow"===e?"rgb(255, 255, 0)":"white"===e?"rgb(255, 255, 255)":"black"===e?"rgb(0, 0, 0)":e}function B(e,t){e=e.videoHeight/15;return t?"font-size: "+e+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; color: "+(t.foreground?n(t.foreground):"rgb(255, 255, 255)")+"; font-style: "+(t.italics?"italic":"normal")+"; text-decoration: "+(t.underline?"underline":"none")+"; white-space: pre; background-color: "+(t.background?n(t.background):"transparent")+";":"font-size: "+e+"px; font-family: Menlo, Consolas, 'Cutive Mono', monospace; justify-content: flex-start; text-align: left; color: rgb(255, 255, 255); font-style: normal; white-space: pre; line-height: normal; font-weight: normal; text-decoration: none; width: 100%; display: flex;"}return{createHTMLCaptionsFromScreen:function(e,t,n,k){for(var i=null,r=!1,o=-1,a={start:t,end:n,spans:[]},s="style_cea608_white_black",l={},u={},d=[],c=void 0,f=void 0,c=0;c<15;++c){var p=k.rows[c],h="",g=null;if(!1===p.isEmpty()){var m=function(e){for(var t="",n=0;n<e.length;++n)t+=e[n].uchar;return t.length-t.replace(/^\s+/,"").length}(p.chars);null===i&&(i={x:m,y1:c,y2:c+1,p:[]}),m!==o&&r&&(i.p.push(a),a={start:t,end:n,spans:[]},i.y2=c,i.name="region_"+i.x+"_"+i.y1+"_"+i.y2,!1===l.hasOwnProperty(i.name)?(d.push(i),l[i.name]=i):l[i.name].p.contat(i.p),i={x:m,y1:c,y2:c+1,p:[]});for(var y=0;y<p.chars.length;++y){var v,_=p.chars[y],E=_.penState;null!==g&&E.equals(g)||(0<h.trim().length&&(a.spans.push({name:s,line:h,row:c}),h=""),v="style_cea608_"+E.foreground+"_"+E.background,E.underline&&(v+="_underline"),E.italics&&(v+="_italics"),u.hasOwnProperty(v)||(u[v]=JSON.parse(JSON.stringify(E))),g=E,s=v),h+=_.uchar}0<h.trim().length&&a.spans.push({name:s,line:h,row:c}),r=!0,o=m}else r=!1,o=-1,i&&(i.p.push(a),a={start:t,end:n,spans:[]},i.y2=c,i.name="region_"+i.x+"_"+i.y1+"_"+i.y2,!1===l.hasOwnProperty(i.name)?(d.push(i),l[i.name]=i):l[i.name].p.contat(i.p),i=null)}i&&(i.p.push(a),i.y2=c+1,i.name="region_"+i.x+"_"+i.y1+"_"+i.y2,!1===l.hasOwnProperty(i.name)?(d.push(i),l[i.name]=i):l[i.name].p.contat(i.p),i=null);var T=[];for(c=0;c<d.length;++c){var b=d[c],S="sub_cea608_"+F++,A=document.createElement("div"),w=(A.id=S,"left: "+3.125*b.x+"%; top: "+6.66*b.y1+"%; width: "+(100-3.125*b.x)+"%; height: "+6.66*Math.max(b.y2-1-b.y1,1)+"%; align-items: flex-start; overflow: visible; -webkit-writing-mode: horizontal-tb;"),w=(A.style.cssText="position: absolute; margin: 0; display: flex; box-sizing: border-box; pointer-events: none;"+w,document.createElement("div")),I=(w.className="paragraph bodyStyle",w.style.cssText=B(e),document.createElement("div"));I.className="cueUniWrapper",I.style.cssText="unicode-bidi: normal; direction: ltr;";for(var C=0;C<b.p.length;++C)for(var R=b.p[C],D=0,f=0;f<R.spans.length;++f){var N,M,O,x=R.spans[f];0<x.line.length&&(0!==f&&D!=x.row&&((N=document.createElement("br")).className="lineBreak",I.appendChild(N)),N=!1,D===x.row&&(N=!0),D=x.row,M=u[x.name],(O=document.createElement("span")).className="spanPadding "+x.name+" customSpanColor",O.style.cssText=B(e,M),0!==f&&N?f===R.spans.length-1?O.textContent=x.line.replace(/\s+$/g,""):O.textContent=x.line:1<R.spans.length&&f<R.spans.length-1&&x.row===R.spans[f+1].row?O.textContent=x.line.replace(/^\s+/g,""):O.textContent=x.line.trim(),I.appendChild(O))}w.appendChild(I),A.appendChild(w);var P,L={bodyStyle:["%",90]};for(P in u)u.hasOwnProperty(P)&&(L[P]=["%",90]);T.push({type:"html",start:t,end:n,cueHTMLElement:A,cueID:S,cellResolution:[32,15],isFromCEA608:!0,fontSize:L,lineHeight:{},linePadding:{}})}return T}}}i.__dashjs_factory_name="EmbeddedTextHtmlRender",n.default=e.default.getSingletonFactory(i),t.exports=n.default},{47:47}],199:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var y=i(e(108)),v=i(e(46)),_=i(e(54)),r=i(e(47)),E=i(e(214)),T=i(e(104)),b=i(e(201)),S=i(e(226)),A=i(e(51)),w="NotFragmentedTextBufferController";function o(e){e=e||{};var n=this.context,i=(0,v.default)(n).getInstance(),r=(0,b.default)(n).getInstance(),o=e.errHandler,a=e.type,s=e.mimeType,l=e.streamProcessor,u=void 0,t=void 0,d=void 0,c=void 0,f=void 0,p=void 0;function h(e){c=e}function g(e){var t,n;e.sender.getType()!==l.getType()||e.error||(t=e.sender.getStreamId(),n=e.sender.getCurrentRepresentation(),p.extract(t,n?n.id:null))||i.trigger(_.default.TIMED_TEXT_REQUESTED,{index:0,sender:e.sender})}function m(e){e.fragmentModel===l.getFragmentModel()&&e.chunk.bytes&&(p.save(e.chunk),f.append(e.chunk),i.trigger(_.default.STREAM_COMPLETED,{request:e.request,fragmentModel:e.fragmentModel}))}return c=null,t=d=!(u={getBufferControllerType:function(){return w},initialize:function(e){h(e),p=(0,E.default)(n).getInstance()},createBuffer:function(e){try{var t;return f=(0,T.default)(n).create(c,e),d||((t=f.getBuffer()).hasOwnProperty(y.default.INITIALIZE)&&t.initialize(s,l),d=!0),f}catch(t){if(e&&(e.isText||-1!==e.codec.indexOf('codecs="stpp')||-1!==e.codec.indexOf('codecs="wvtt')))try{f=r.getTextSourceBuffer()}catch(t){o.error(new S.default(A.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,A.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+a+" : "+t.message))}else o.error(new S.default(A.default.MEDIASOURCE_TYPE_UNSUPPORTED_CODE,A.default.MEDIASOURCE_TYPE_UNSUPPORTED_MESSAGE+a))}},getType:function(){return a},getStreamProcessor:function(){return l},setSeekStartTime:function(){},getBuffer:function(){return f},getBufferLevel:function(){return 0},setMediaSource:h,getMediaSource:function(){return c},getIsBufferingCompleted:function(){return t},getIsPruningInProgress:function(){return!1},dischargePreBuffer:function(){},switchInitData:function(e,t){p.extract(e,t)||i.trigger(_.default.TIMED_TEXT_REQUESTED,{index:0,sender:u})},getRangeAt:function(){return null},reset:function(e){i.off(_.default.DATA_UPDATE_COMPLETED,g,u),i.off(_.default.INIT_FRAGMENT_LOADED,m,u),!e&&f&&(f.abort(),f.reset(),f=null)},updateTimestampOffset:function(e){f.timestampOffset===e||isNaN(e)||(f.timestampOffset=e)}}),i.on(_.default.DATA_UPDATE_COMPLETED,g,u),i.on(_.default.INIT_FRAGMENT_LOADED,m,u),u}o.__dashjs_factory_name=w,n.default=r.default.getClassFactory(o),t.exports=n.default},{104:104,108:108,201:201,214:214,226:226,46:46,47:47,51:51,54:54}],200:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(e(108)),r=i(e(47)),a=i(e(114)),s=i(e(199));function l(e){var t,n=this.context,i=void 0;function r(){return i.getBuffer()}return t={getBufferControllerType:function(){return i.getBufferControllerType()},initialize:function(e,t){return i.initialize(e,t)},createBuffer:function(e){return i.createBuffer(e)},getType:function(){return i.getType()},getStreamProcessor:function(){i.getStreamProcessor()},setSeekStartTime:function(e){i.setSeekStartTime(e)},getBuffer:r,setBuffer:function(e){i.setBuffer(e)},getBufferLevel:function(){return i.getBufferLevel()},setMediaSource:function(e){i.setMediaSource(e)},getMediaSource:function(){return i.getMediaSource()},getIsBufferingCompleted:function(){return i.getIsBufferingCompleted()},getIsPruningInProgress:function(){return i.getIsPruningInProgress()},dischargePreBuffer:function(){return i.dischargePreBuffer()},switchInitData:function(e,t){i.switchInitData(e,t)},getRangeAt:function(e){return i.getRangeAt(e)},reset:function(e){i.reset(e)},updateTimestampOffset:function(e){var t=r();t.timestampOffset===e||isNaN(e)||(t.timestampOffset=e)}},i=(e=e||{}).type===o.default.FRAGMENTED_TEXT?(0,a.default)(n).create({type:e.type,dashMetrics:e.dashMetrics,mediaPlayerModel:e.mediaPlayerModel,manifestModel:e.manifestModel,errHandler:e.errHandler,streamController:e.streamController,mediaController:e.mediaController,adapter:e.adapter,textController:e.textController,abrController:e.abrController,playbackController:e.playbackController,streamProcessor:e.streamProcessor,settings:e.settings}):(0,s.default)(n).create({type:e.type,mimeType:e.mimeType,errHandler:e.errHandler,streamProcessor:e.streamProcessor}),t}l.__dashjs_factory_name="TextBufferController",n.default=r.default.getClassFactory(l),t.exports=n.default},{108:108,114:114,199:199,47:47}],201:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var T=i(e(108)),r=i(e(47)),b=i(e(202)),S=i(e(203)),A=i(e(222)),w=i(e(220)),I=i(e(46)),C=i(e(54)),R=e(219);function o(){var e,t=this.context,p=void 0,n=void 0,i=void 0,r=void 0,h=void 0,o=void 0,g=void 0,m=void 0,a=void 0,s=void 0,l=void 0,u=void 0,d=void 0,c=void 0,y=void 0,f=void 0,v=void 0;function _(){return y&&!f?!1:!0}function E(){y=!1}return e={setConfig:function(e){e&&(e.errHandler&&(n=e.errHandler),e.adapter&&(i=e.adapter),e.manifestModel&&(r=e.manifestModel),e.mediaController&&(h=e.mediaController),e.videoModel&&(o=e.videoModel),e.streamController&&(g=e.streamController),e.textTracks&&(m=e.textTracks),e.vttParser&&(a=e.vttParser),e.ttmlParser&&(s=e.ttmlParser),p.setConfig({errHandler:n,adapter:i,manifestModel:r,mediaController:h,videoModel:o,streamController:g,textTracks:m,vttParser:a,ttmlParser:s}))},getTextSourceBuffer:function(){return p},getAllTracksAreDisabled:function(){return y},addEmbeddedTrack:function(e){p.addEmbeddedTrack(e)},getTextDefaultLanguage:function(){return u},setTextDefaultLanguage:function(e){(0,R.checkParameterType)(e,"string"),u=e},setTextDefaultEnabled:function(e){(0,R.checkParameterType)(e,"boolean"),(c=e)||this.setTextTrack(-1)},getTextDefaultEnabled:function(){return c},enableText:function(e){(0,R.checkParameterType)(e,"boolean"),_()!==e&&(e&&this.setTextTrack(d),e||(d=this.getCurrentTrackIdx(),this.setTextTrack(-1)))},isTextEnabled:_,setTextTrack:function(e){var t=p.getConfig(),n=t.fragmentModel,i=t.fragmentedTracks,r=t.videoModel,o=void 0,a=void 0,s=(y=-1===e,m.getCurrentTrackIdx());if(s!==e){m.setModeForTrackIdx(s,T.default.TEXT_HIDDEN),m.setCurrentTrackIdx(e),m.setModeForTrackIdx(e,T.default.TEXT_SHOWING);var l=m.getCurrentTrackInfo();if(l&&l.isFragmented&&!l.isEmbedded)for(var u=0;u<i.length;u++){var d=i[u];if(l.lang===d.lang&&l.index===d.index&&(d.id?l.id===d.id:l.id===d.index))if(d!==h.getCurrentTrackFor(T.default.FRAGMENTED_TEXT,g.getActiveStreamInfo()))n.abortRequests(),n.removeExecutedRequestsBeforeTime(),p.remove(),m.deleteCuesFromTrackIdx(s),h.setTrack(d),p.setCurrentFragmentedTrackIdx(u);else if(-1===s){for(var c=g.getActiveStreamProcessors(),f=0;f<c.length;f++)if(c[f].getType()===T.default.FRAGMENTED_TEXT){a=c[f];break}a.setIndexHandlerTime(r.getTime()),a.getScheduleController().start()}}else if(l&&!l.isFragmented){for(c=g.getActiveStreamProcessors(),u=0;u<c.length;u++)if(c[u].getType()===T.default.TEXT){o=(a=c[u]).getMediaInfoArr();break}if(a&&o)for(u=0;u<o.length;u++)if(o[u].index===l.index&&o[u].lang===l.lang){a.selectMediaInfo(o[u]);break}}}},getCurrentTrackIdx:function(){return m.getCurrentTrackIdx()},enableForcedTextStreaming:function(e){(0,R.checkParameterType)(e,"boolean"),f=e},reset:function(){E(),p.resetEmbedded(),p.reset()}},d=-1,m=(f=!(c=!(u="")),S.default)(t).getInstance(),a=(0,A.default)(t).getInstance(),s=(0,w.default)(t).getInstance(),p=(0,b.default)(t).getInstance(),l=(0,I.default)(t).getInstance(),m.initialize(),l.on(C.default.TEXT_TRACKS_QUEUE_INITIALIZED,function(e){var n=this,t=e.tracks,i=e.index;t.some(function(e,t){if(e.lang===u)return n.setTextTrack(t),i=t,!0}),c||this.setTextTrack(-1),d=i,l.trigger(C.default.TEXT_TRACKS_ADDED,{enabled:_(),index:i,tracks:t})},e),l.on(C.default.PERIOD_SWITCH_STARTED,function(e){void 0===v&&null!==e.fromStreamInfo&&(v=this.getCurrentTrackIdx())},e),l.on(C.default.STREAM_COMPLETED,function(){void 0===v&&(v=this.getCurrentTrackIdx())},e),l.on(C.default.PERIOD_SWITCH_COMPLETED,function(){void 0!==v&&(this.setTextTrack(v),v=void 0)},e),E(),e}o.__dashjs_factory_name="TextController",n.default=r.default.getSingletonFactory(o),t.exports=n.default},{108:108,202:202,203:203,219:219,220:220,222:222,46:46,47:47,54:54}],202:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var Z=i(e(108)),ee=e(242),v=i(e(234)),_=i(e(207)),E=i(e(209)),r=i(e(47)),T=i(e(45)),b=i(e(203)),S=i(e(198)),te=i(e(9)),ne=i(e(2)),A=i(e(46)),w=i(e(54)),ie=i(e(226)),re=i(e(51));function o(){var r=this.context,n=(0,A.default)(r).getInstance(),o=!1,a=void 0,x=void 0,P=void 0,L=void 0,s=void 0,k=void 0,l=void 0,F=void 0,i=void 0,u=void 0,d=void 0,B=void 0,U=void 0,j=void 0,H=void 0,c=void 0,G=void 0,f=void 0,K=void 0,q=void 0,$=void 0,Y=void 0,V=void 0,z=void 0,W=void 0,X=void 0;function e(){H=NaN,K=U=null,j=!(c=[])}function t(){e(),d=[],F=null}function p(e){e=e.chunk;e.mediaInfo.embeddedCaptions&&m(e.bytes,e)}function h(){$=[],(B=(0,b.default)(r).getInstance()).setConfig({videoModel:G}),B.initialize(),P=(0,_.default)(r).getInstance(),z=[],o=!(V=q=null),W=(Y=0,S.default)(r).getInstance();var e,t=f.getActiveStreamProcessors();for(e in t)if("video"===t[e].getType()){X=t[e].getRepresentationInfo().MSETimeOffset;break}n.on(w.default.VIDEO_CHUNK_RECEIVED,p,this),n.on(w.default.BUFFER_CLEARED,y,this)}function g(e){q=e}function Q(e,t){var n=new v.default,i={subtitle:"subtitles",caption:"captions"},r=(n.captionData=e,n.lang=t.lang,n.labels=t.labels,n.id=t.id||t.index,n.index=t.index,n.isTTML=(e=!1,t.codec&&0<=t.codec.search(Z.default.STPP)&&(e=!0),e=t.mimeType&&0<=t.mimeType.search(Z.default.TTML)?!0:e),n.defaultTrack=(e=t,r=!1,1<$.length&&e.isEmbedded?r=e.id&&e.id===Z.default.CC1:1===$.length?e.id&&"string"==typeof e.id&&"CC"===e.id.substring(0,2)&&(r=!0):0===$.length&&(r=e.index===d[0].index),r),n.isFragmented=!s.getIsTextTrack(t.mimeType),n.isEmbedded=!!t.isEmbedded,n.kind=(e=0<t.roles.length?i[t.roles[0]]:i.caption)===i.caption||e===i.subtitle?e:i.caption,n.roles=t.roles,n.accessibility=t.accessibility,(d?d.length:0)+$.length);B.addTextTrack(n,r)}function m(c,e){var t=void 0,n=void 0,i=void 0,r=void 0,o=void 0,a=void 0,s=void 0,l=e.mediaInfo,u=l.type,d=l.mimeType,l=l.codec||d;if(l){if(u===Z.default.FRAGMENTED_TEXT)if(j||"InitializationSegment"!==e.segmentType){if(j)if(n=(a=P.getSamplesInfo(c)).sampleList,null===K&&0<n.length&&(K=n[0].cts-e.start*H),0<=l.search(Z.default.STPP))for(F=null!==F?F:J(l),i=0;i<n.length;i++){for(var f=(E=n[i]).cts,p=f-K,h=(this.buffered.add(p/H,(p+E.duration)/H),new DataView(c,E.offset,E.subSizes[0])),s=te.default.Utils.dataViewToString(h,Z.default.UTF8),g=[],m=E.offset+E.subSizes[0],r=1;r<E.subSizes.length;r++){var y=new Uint8Array(c,m,E.subSizes[r]),y=String.fromCharCode.apply(null,y);g.push(y),m+=E.subSizes[r]}try{var v=k.getValue().ttmlTimeIsRelative?f/H:0,t=F.parse(s,v,f/H,(f+E.duration)/H,g);B.addCaptions(q,K/H,t)}catch(c){U.removeExecutedRequestsBeforeTime(),this.remove(),x.error("TTML parser error: "+c.message)}}else{for(var _=[],i=0;i<n.length;i++){(E=n[i]).cts-=K,this.buffered.add(E.cts/H,(E.cts+E.duration)/H);var E,T=c.slice(E.offset,E.offset+E.size),b=te.default.parseBuffer(T);for(r=0;r<b.boxes.length;r++){var S=b.boxes[r];if(x.debug("VTT box1: "+S.type),"vtte"!==S.type&&"vttc"===S.type)for(x.debug("VTT vttc boxes.length = "+S.boxes.length),o=0;o<S.boxes.length;o++){var A,w,I=S.boxes[o];x.debug("VTT box2: "+I.type),"payl"===I.type&&(I=I.cue_text,x.debug("VTT cue_text = "+I),A=E.cts/H,w=(E.cts+E.duration)/H,_.push({start:A,end:w,data:I,styles:{}}),x.debug("VTT "+A+"-"+w+" : "+I))}}}0<_.length&&B.addCaptions(q,0,_)}}else j=!0,H=P.getMediaTimescaleFromMoov(c);else if(u===Z.default.TEXT){h=new DataView(c,0,c.byteLength),s=te.default.Utils.dataViewToString(h,Z.default.UTF8);try{t=J(l).parse(s,0),B.addCaptions(B.getCurrentTrackIdx(),0,t)}catch(c){L.error(new ie.default(re.default.TIMED_TEXT_ERROR_ID_PARSE_CODE,re.default.TIMED_TEXT_ERROR_MESSAGE_PARSE+c.message,s))}}else if(u===Z.default.VIDEO)if(e.segmentType===ee.HTTPRequest.INIT_SEGMENT_TYPE){if(0===Y)for(Y=P.getMediaTimescaleFromMoov(c),i=0;i<$.length;i++)Q(null,$[i])}else if(0===Y)x.warn("CEA-608: No timescale for embeddedTextTrack yet");else{d=(a=P.getSamplesInfo(c)).lastSequenceNumber;if(!z[0]&&!z[1]){var C,R=void 0;for(i=0;i<$.length;i++){if($[i].id===Z.default.CC1?R=B.getTrackIdxForId(Z.default.CC1):$[i].id===Z.default.CC3&&(R=B.getTrackIdxForId(Z.default.CC3)),-1===R)return void x.warn("CEA-608: data before track is ready.");C=function(i){return function(e,t,n){(e=G.getTTMLRenderingDiv()?W.createHTMLCaptionsFromScreen(G.getElement(),e,t,n):[{start:e,end:t,data:n.getDisplayText(),styles:{}}])&&B.addCaptions(i,0,e)}}(R),z[i]=new ne.default.Cea608Parser(i+1,{newCue:C},null)}}if(Y){if(null!==V&&d!==V+a.numSequences)for(i=0;i<z.length;i++)z[i]&&z[i].reset();for(var D=function(e){if(0===e.length)return null;for(var t={splits:[],fields:[[],[]]},n=new DataView(c),i=0;i<e.length;i++)for(var r=e[i],o=ne.default.findCea608Nalus(n,r.offset,r.size),a=null,s=0,l=0;l<o.length;l++)for(var u=ne.default.extractCea608DataFromRange(n,o[l]),d=0;d<2;d++)0<u[d].length&&(r.cts!==a?s=0:s+=1,t.fields[d].push([r.cts+X*Y,u[d],s]),a=r.cts);return t.fields.forEach(function(e){e.sort(function(e,t){return e[0]===t[0]?e[2]-t[2]:e[0]-t[0]})}),t}(a.sampleList),N=0;N<z.length;N++){var M=D.fields[N],O=z[N];if(O)for(i=0;i<M.length;i++)O.addData(M[i][0]/Y,M[i][1])}V=d}}}else x.error("No text type defined")}function J(e){var t=void 0;return 0<=e.search(Z.default.VTT)?t=i:(0<=e.search(Z.default.TTML)||0<=e.search(Z.default.STPP))&&(t=u),t}function y(t){$.forEach(function(e){e=B.getTrackIdxForId(e.id);0<=e&&B.deleteCuesFromTrackIdx(e,t.from,t.to)})}return a={initialize:function(e,t){o||h(),B.setConfig({videoModel:G}),B.initialize(),P=P||(0,_.default)(r).getInstance();e=!s.getIsTextTrack(e);if(t){if(d=d.concat(t.getMediaInfoArr()),e){U=t.getFragmentModel(),a.buffered=(0,E.default)(r).create(),c=l.getTracksFor(Z.default.FRAGMENTED_TEXT,t.getStreamInfo());for(var n=l.getCurrentTrackFor(Z.default.FRAGMENTED_TEXT,t.getStreamInfo()),i=0;i<c.length;i++)if(c[i]===n){g(i);break}}for(i=0;i<d.length;i++)Q(null,d[i])}},append:m,abort:function(){B.deleteAllTextTracks(),e(),P=null,d=[]},addEmbeddedTrack:function(e){if(o||h(),e)if(e.id===Z.default.CC1||e.id===Z.default.CC3){for(var t=0;t<$.length;t++)if($[t].id===e.id)return;$.push(e)}else x.warn("Embedded track "+e.id+" not supported!")},resetEmbedded:function(){n.off(w.default.VIDEO_CHUNK_RECEIVED,p,this),n.off(w.default.BUFFER_CLEARED,y,this),B&&B.deleteAllTextTracks(),o=!1,$=[],z=[null,null],V=null},setConfig:function(e){e&&(e.errHandler&&(L=e.errHandler),e.adapter&&(s=e.adapter),e.manifestModel&&(k=e.manifestModel),e.mediaController&&(l=e.mediaController),e.videoModel&&(G=e.videoModel),e.streamController&&(f=e.streamController),e.textTracks&&(B=e.textTracks),e.vttParser&&(i=e.vttParser),e.ttmlParser)&&(u=e.ttmlParser)},getConfig:function(){return{fragmentModel:U,fragmentedTracks:c,videoModel:G}},setCurrentFragmentedTrackIdx:g,remove:function(e,t){void 0===e&&e===t&&(e=this.buffered.start(0),t=this.buffered.end(this.buffered.length-1)),this.buffered.remove(e,t)},reset:function(){t(),B=G=f=null}},x=(0,T.default)(r).getInstance().getLogger(a),t(),a}o.__dashjs_factory_name="TextSourceBuffer",n.default=r.default.getSingletonFactory(o),t.exports=n.default},{108:108,198:198,2:2,203:203,207:207,209:209,226:226,234:234,242:242,45:45,46:46,47:47,51:51,54:54,9:9}],203:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var N=i(e(108)),o=i(e(46)),M=i(e(54)),r=i(e(47)),a=i(e(45)),s=e(17),O=e(219);function l(){var e,t=this.context,h=(0,o.default)(t).getInstance(),l=void 0,u=void 0,g=void 0,d=void 0,c=void 0,f=void 0,m=void 0,y=void 0,v=void 0,_=void 0,E=void 0,i=void 0,T=void 0,b=void 0,n=void 0,S=void 0;function p(e){var t=d[e].kind,n=void 0!==d[e].id?d[e].id:d[e].lang,i=d[e].lang,r=d[e].isTTML,e=d[e].isEmbedded;return g.addTextTrack(t,n,i,r,e)}function A(e,t){var n=g.getClientWidth(),i=g.getClientHeight(),r=g.getVideoWidth(),o=g.getVideoHeight(),a=g.getVideoRelativeOffsetTop(),s=g.getVideoRelativeOffsetLeft();if(0!==r&&0!==o){var l=r/o,u=!1,n=(e.isFromCEA608&&(l=3.5/3,u=!0),function(e,t,n,i,r,o){var a=0,s=0;n/i<e/t?a=(s=t)/i*n:s=(a=e)/n*i;n=0,i=0;return r<a/s?n=(i=s)*r:i=(n=a)/r,s=(e-n)/2,a=(t-i)/2,o?{x:s+.1*n,y:a+.1*i,w:.8*n,h:.8*i}:{x:s,y:a,w:n,h:i}}.call(this,n,i,r,o,l,u)),i=n.w,r=n.h,o=n.x,l=n.y;if(i!=v||r!=_||o!=m||l!=y||t){m=o+s,y=l+a,v=i,_=r,E&&(u=E.style)&&(u.left=m+"px",u.top=y+"px",u.width=v+"px",u.height=_+"px",u.zIndex=T&&document[T]||b?S:null,h.trigger(M.default.CAPTION_CONTAINER_RESIZE,{}));var d=e.activeCues;if(d)for(var c=d.length,f=0;f<c;++f){var p=d[f];p.scaleCue(p)}}}}function w(e){var t=v,n=_,i=void 0,r=void 0,o=void 0,a=void 0,s=void 0;if(e.cellResolution){var l=[t/e.cellResolution[0],n/e.cellResolution[1]];if(e.linePadding)for(i in e.linePadding)if(e.linePadding.hasOwnProperty(i))for(var r=(e.linePadding[i]*l[0]).toString(),u=document.getElementsByClassName("spanPadding"),d=0;d<u.length;d++)u[d].style.cssText=u[d].style.cssText.replace(/(padding-left\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r),u[d].style.cssText=u[d].style.cssText.replace(/(padding-right\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r);if(e.fontSize){for(i in e.fontSize)if(e.fontSize.hasOwnProperty(i)){"%"===e.fontSize[i][0]?o=e.fontSize[i][1]/100:"c"===e.fontSize[i][0]&&(o=e.fontSize[i][1]),r=(o*l[1]).toString();for(var s="defaultFontSize"!==i?document.getElementsByClassName(i):document.getElementsByClassName("paragraph"),c=0;c<s.length;c++)s[c].style.cssText=s[c].style.cssText.replace(/(font-size\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r)}if(e.lineHeight)for(i in e.lineHeight)if(e.lineHeight.hasOwnProperty(i)){"%"===e.lineHeight[i][0]?a=e.lineHeight[i][1]/100:"c"===e.fontSize[i][0]&&(a=e.lineHeight[i][1]),r=(a*l[1]).toString(),s=document.getElementsByClassName(i);for(var f=0;f<s.length;f++)s[f].style.cssText=s[f].style.cssText.replace(/(line-height\s*:\s*)[\d.,]+(?=\s*px)/gi,"$1"+r)}}}e.isd&&((t=document.getElementById(e.cueID))&&E.removeChild(t),I(e))}function I(o){var e;E&&(e=document.createElement("div"),E.appendChild(e),n=(0,s.renderHTML)(o.isd,e,function(e){var t,n,i=/^(urn:)(mpeg:[a-z0-9][a-z0-9-]{0,31}:)(subs:)([0-9]+)$/,r=/^#(.*)$/;return i.test(e)?(t=i.exec(e),n=parseInt(t[4],10)-1,"data:image/png;base64,"+btoa(o.images[n])):r.test(e)?(n=(t=r.exec(e))[1],"data:image/png;base64,"+o.embeddedImages[n]):null},E.clientHeight,E.clientWidth,!1,function(e){l.info("renderCaption :",e)},n,!0),e.id=o.cueID,h.trigger(M.default.CAPTION_RENDERED,{captionDiv:e,currentTrackIdx:f}))}function C(e){return 0<=e&&d[e]?g.getTextTrack(d[e].kind,d[e].id,d[e].lang,d[e].isTTML,d[e].isEmbedded):null}function R(e){e!==f&&(e=C(f=e),function(e){r.call(this),(e&&"html"===e.renderingType?function(){var e=document.getElementById("native-cue-style");if(!e){(e=document.createElement("style")).id="native-cue-style",document.head.appendChild(e);var t=e.sheet,n=g.getElement();try{n&&(n.id?t.insertRule("#"+n.id+"::cue {background: transparent}",0):0!==n.classList.length?t.insertRule("."+n.className+"::cue {background: transparent}",0):t.insertRule("video::cue {background: transparent}",0))}catch(e){l.info(""+e.message)}}}:function(){var e=document.getElementById("native-cue-style");e&&document.head.removeChild(e)}).call(this)}.call(this,e),i&&(clearInterval(i),i=null),e)&&"html"===e.renderingType&&(A.call(this,e,!0),i=setInterval(A.bind(this,e),500))}function D(e,t,n){if(e.cues)for(var i=e.cues,r=i.length-1;0<=r;r--)o=i[r],a=t,s=n,(isNaN(a)||o.startTime>=a)&&(isNaN(s)||o.endTime<=s)&&e.removeCue(i[r]);var o,a,s}function r(){if(E)for(;E.firstChild;)E.removeChild(E.firstChild)}return e={initialize:function(){"undefined"!=typeof window&&"undefined"!=typeof navigator&&(u=window.VTTCue||window.TextTrackCue,d=[],c=[],b=!(f=-1),S=2147483647,n=i=E=null,void(_=v=y=m=0)!==document.fullscreenElement?T="fullscreenElement":void 0!==document.webkitIsFullScreen?T="webkitIsFullScreen":document.msFullscreenElement?T="msFullscreenElement":document.mozFullScreen&&(T="mozFullScreen"))},setDisplayCConTop:function(e){(0,O.checkParameterType)(e,"boolean"),b=e,E&&!document[T]&&(E.style.zIndex=e?S:null)},addTextTrack:function(e,t){var n=this;if(d.length!==t){if(d.push(e),d.length===t){d.sort(function(e,t){return e.index-t.index}),E=g.getTTMLRenderingDiv();for(var i=-1,r=0;r<d.length;r++){var o=p.call(n,r),o=(c.push(o),d[r].defaultTrack&&(o.default=!0,i=r),C(r));o&&(o.mode=N.default.TEXT_SHOWING,E&&(d[r].isTTML||d[r].isEmbedded)?o.renderingType="html":o.renderingType="default"),n.addCaptions(r,0,d[r].captionData),h.trigger(M.default.TEXT_TRACK_ADDED)}if(R.call(n,i),0<=i){h.on(M.default.PLAYBACK_METADATA_LOADED,function e(){var t=C(i);t&&A.call(this,t,!0),h.off(M.default.PLAYBACK_METADATA_LOADED,e,this)},n);for(var a=0;a<d.length;a++){var s=C(a);s&&(s.mode=a===i?N.default.TEXT_SHOWING:N.default.TEXT_HIDDEN)}}h.trigger(M.default.TEXT_TRACKS_QUEUE_INITIALIZED,{index:f,tracks:d})}}else l.error("Trying to add too many tracks.")},addCaptions:function(e,t,n){var i=C(e),r=this;if(i&&Array.isArray(n)&&0!==n.length)for(var o=0;o<n.length;o++){var a=void 0,s=n[o];i.cellResolution=s.cellResolution,i.isFromCEA608=s.isFromCEA608,"html"===s.type&&E?((a=new u(s.start-t,s.end-t,"")).cueHTMLElement=s.cueHTMLElement,a.isd=s.isd,a.images=s.images,a.embeddedImages=s.embeddedImages,a.cueID=s.cueID,a.scaleCue=w.bind(r),a.cellResolution=s.cellResolution,a.lineHeight=s.lineHeight,a.linePadding=s.linePadding,a.fontSize=s.fontSize,E.style.left=m+"px",E.style.top=y+"px",E.style.width=v+"px",E.style.height=_+"px",a.onenter=function(){i.mode===N.default.TEXT_SHOWING&&(this.isd?(I(this),l.debug("Cue enter id:"+this.cueID)):(E.appendChild(this.cueHTMLElement),w.call(r,this),h.trigger(M.default.CAPTION_RENDERED,{captionDiv:this.cueHTMLElement,currentTrackIdx:f})))},a.onexit=function(){if(E)for(var e=E.childNodes,t=0;t<e.length;++t)e[t].id===this.cueID&&(l.debug("Cue exit id:"+e[t].id),E.removeChild(e[t]),--t)}):s.data&&(a=new u(s.start-t,s.end-t,s.data),s.styles&&(void 0!==s.styles.align&&"align"in a&&(a.align=s.styles.align),void 0!==s.styles.line&&"line"in a&&(a.line=s.styles.line),void 0!==s.styles.position&&"position"in a&&(a.position=s.styles.position),void 0!==s.styles.size)&&"size"in a&&(a.size=s.styles.size),a.onenter=function(){i.mode===N.default.TEXT_SHOWING&&h.trigger(M.default.CAPTION_RENDERED,{currentTrackIdx:f})});try{a?i.addCue(a):l.error("impossible to display subtitles.")}catch(e){throw D(i),i.addCue(a),e}}},getCurrentTrackIdx:function(){return f},setCurrentTrackIdx:R,getTrackIdxForId:function(e){for(var t=-1,n=0;n<d.length;n++)if(d[n].id===e){t=n;break}return t},getCurrentTrackInfo:function(){return d[f]},setModeForTrackIdx:function(e,t){e=C(e);e&&e.mode!==t&&(e.mode=t)},deleteCuesFromTrackIdx:function(e,t,n){e=C(e);e&&D(e,t,n)},deleteAllTextTracks:function(){for(var e=c?c.length:0,t=0;t<e;t++){var n=C(t);n&&(D.call(this,n),n.mode="disabled")}c=[],d=[],i&&(clearInterval(i),i=null),f=-1,r.call(this)},deleteTextTrack:function(e){g.removeChild(c[e]),c.splice(e,1)},setConfig:function(e){e&&e.videoModel&&(g=e.videoModel)}},l=(0,a.default)(t).getInstance().getLogger(e),e}l.__dashjs_factory_name="TextTracks",n.default=r.default.getSingletonFactory(l),t.exports=n.default},{108:108,17:17,219:219,45:45,46:46,47:47,54:54}],204:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),o=i(e(108)),s=i(e(235)),l=i(e(205)),u=i(e(225)),d=e(80);function a(e){var t,n=this.context,a=void 0;function i(){a&&a.reset()}return t={get:function(e,t){var n=a.getCurrentTrack(),i=void 0;if(!n||n.segmentDuration<=0||null==e)return null;isNaN(n.segmentDuration)&&(i=a.getThumbnailRequestForTime(e))&&(n.segmentDuration=i.duration);var r=e%n.segmentDuration,r=Math.floor(r*n.tilesHor*n.tilesVert/n.segmentDuration),o=new s.default;return o.width=Math.floor(n.widthPerTile),o.height=Math.floor(n.heightPerTile),o.x=Math.floor(r%n.tilesHor)*n.widthPerTile,o.y=Math.floor(r/n.tilesHor)*n.heightPerTile,"readThumbnail"in n?n.readThumbnail(e,function(e){o.url=e,t&&t(o)}):(i?(o.url=i.url,n.segmentDuration=NaN):(r=Math.floor(e/n.segmentDuration),o.url=(e=r+(i=n).startNumber,r=(0,d.replaceTokenForTemplate)(i.templateUrl,"Number",e),r=(0,d.replaceTokenForTemplate)(r,"Time",(e-1)*i.segmentDuration),r=(0,d.replaceTokenForTemplate)(r,"Bandwidth",i.bandwidth),(0,d.unescapeDollarsInTemplate)(r))),t&&t(o),o)},setTrackByIndex:function(e){a.setTrackByIndex(e)},getCurrentTrackIndex:function(){return a.getCurrentTrackIndex()},getBitrateList:function(){var e=a.getTracks(),n=0;return e.map(function(e){var t=new u.default;return t.mediaType=o.default.IMAGE,t.qualityIndex=n++,t.bitrate=e.bitrate,t.width=e.width,t.height=e.height,t})},reset:i},i(),a=(0,l.default)(n).create({adapter:e.adapter,baseURLController:e.baseURLController,stream:e.stream,timelineConverter:e.timelineConverter,debug:e.debug,eventBus:e.eventBus,events:e.events,dashConstants:e.dashConstants}),t}a.__dashjs_factory_name="ThumbnailController",n.default=r.default.getClassFactory(a),t.exports=n.default},{108:108,205:205,225:225,235:235,47:47,80:80}],205:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var E=i(e(108)),T=i(e(61)),r=i(e(47)),b=i(e(236)),S=i(e(221)),A=e(80),w=i(e(54)),I=i(e(207)),C=i(e(159)),R=i(e(57)),D=["http://dashif.org/thumbnail_tile","http://dashif.org/guidelines/thumbnail_tile"];function o(e){var t=this.context,s=e.adapter,a=e.baseURLController,n=e.stream,l=e.timelineConverter,i=e.debug,r=e.eventBus,o=e.events,u=e.dashConstants,d=(0,S.default)(t).getInstance(),c=void 0,f=void 0,p=void 0,h=void 0,g=void 0,m=void 0;function y(){var e;_(),g=(0,C.default)(t).create({}),m=(0,I.default)(t).getInstance(),(f=(0,R.default)(t).create({timelineConverter:l,baseURLController:a,debug:i,eventBus:r,events:o,dashConstants:u})).initialize(!!s&&s.getIsDynamic()),n&&s&&(e=n.getStreamInfo())&&(h=s.getMediaInfoForType(e,E.default.IMAGE))&&((e=s.getVoRepresentations(h))&&0<e.length&&e.forEach(function(e){(e.segmentInfoType===T.default.SEGMENT_TEMPLATE&&0<e.segmentDuration&&e.media||e.segmentInfoType===T.default.SEGMENT_TIMELINE)&&v(e),e.segmentInfoType===T.default.SEGMENT_BASE&&v(e,!0)}),0<c.length)&&(c.sort(function(e,t){return e.bitrate-t.bitrate}),p=c.length-1)}function v(e,t){var n=new b.default;n.id=e.id,n.bitrate=e.bandwidth,n.width=e.width,n.height=e.height,n.tilesHor=1,n.tilesVert=1,e.essentialProperties&&e.essentialProperties.forEach(function(e){0<=D.indexOf(e.schemeIdUri)&&e.value&&(2!==(e=e.value.split("x")).length||isNaN(e[0])||isNaN(e[1])||(n.tilesHor=parseInt(e[0],10),n.tilesVert=parseInt(e[1],10)))}),t?r.trigger(w.default.SEGMENTBASE_SEGMENTSLIST_REQUEST_NEEDED,{mimeType:h.mimeType,mediaType:E.default.IMAGE,representation:e,function:function(e,r){var o=[];e=function(e,t){for(var n,i=[],r=0,o=void 0,o=0,a=e.length;o<a;o++)n=e[o],(n=(0,A.getTimeBasedSegment)(l,s.getIsDynamic(),t,n.startTime,n.duration,n.timescale,n.media,n.mediaRange,r))&&(i.push(n),r++);return i}(e,r),n.segmentDuration=e[0].duration,n.readThumbnail=function(t,i){var n=null;o.some(function(e){if(e.start<=t&&e.end>t)return n=e.url,!0}),n?i(n):e.some(function(n){var e;if(n.mediaStartTime<=t&&n.mediaStartTime+n.duration>t)return e=a.resolve(r.path),g.load({method:"get",url:e.url,request:{range:n.mediaRange,responseType:"arraybuffer"},onload:function(e){var t=m.getSamplesInfo(e.target.response),e=new Blob([e.target.response.slice(t.sampleList[0].offset,t.sampleList[0].offset+t.sampleList[0].size)],{type:"image/jpeg"}),t=window.URL.createObjectURL(e);o.push({start:n.mediaStartTime,end:n.mediaStartTime+n.duration,url:t}),i&&i(t)}}),!0})}}}):(n.startNumber=e.startNumber,n.segmentDuration=e.segmentDuration,n.timescale=e.timescale,n.templateUrl=(e=d.isRelative((t=e).media)?d.resolve(t.media,a.resolve(t.path).url):t.media)?(0,A.replaceIDForTemplate)(e,t.id):""),0<n.tilesHor&&0<n.tilesVert&&(n.widthPerTile=n.width/n.tilesHor,n.heightPerTile=n.height/n.tilesVert,c.push(n))}function _(){c=[],p=-1,h=null}return e={initialize:y,getTracks:function(){return c},reset:_,setTrackByIndex:function(e){c&&0!==c.length&&(e>=c.length&&(e=c.length-1),p=e)},getCurrentTrack:function(){return p<0?null:c[p]},getCurrentTrackIndex:function(){return p},getThumbnailRequestForTime:function(e){for(var t=void 0,n=s.getVoRepresentations(h),i=0;i<n.length;i++)if(c[p].id===n[i].id){t=n[i];break}return f.getSegmentRequestForTime(h,t,e)}},y(),e}n.THUMBNAILS_SCHEME_ID_URIS=D,o.__dashjs_factory_name="ThumbnailTracks",n.default=r.default.getClassFactory(o)},{108:108,159:159,207:207,221:221,236:236,47:47,54:54,57:57,61:61,80:80}],206:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var l=i(e(51)),u=i(e(46)),d=i(e(54)),c=i(e(113)),f=i(e(224)),p=i(e(223)),r=i(e(47)),h=i(e(226)),g=e(219);function o(){var e,t=this.context,r=(0,u.default)(t).getInstance(),n=void 0,o=void 0,i=void 0,a=void 0;function s(){n.reset()}return e={chooseSelector:function(e){(0,g.checkParameterType)(e,"boolean"),a=e?i:o},select:function(e){var t,n,i;if(e)return t=e.baseUrls,n=e.selectedIdx,isNaN(n)?(i=a.select(t))?(e.selectedIdx=t.indexOf(i),i):(r.trigger(d.default.URL_RESOLUTION_FAILED,{error:new h.default(l.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_CODE,l.default.URL_RESOLUTION_FAILED_GENERIC_ERROR_MESSAGE)}),void(a===o&&s())):t[n]},reset:s,setConfig:function(e){e.selector&&(a=e.selector)}},n=(0,c.default)(t).create({updateEventName:d.default.SERVICE_LOCATION_BLACKLIST_CHANGED,addBlacklistEventName:d.default.SERVICE_LOCATION_BLACKLIST_ADD}),o=(0,p.default)(t).create({blacklistController:n}),i=(0,f.default)(t).create({blacklistController:n}),a=o,e}o.__dashjs_factory_name="BaseURLSelector",n.default=r.default.getClassFactory(o),t.exports=n.default},{113:113,219:219,223:223,224:224,226:226,46:46,47:47,51:51,54:54}],207:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(45)),o=i(e(215)),a=i(e(47)),s=i(e(9)),u=i(e(231));function l(){var e,i=void 0,n=this.context;function N(e){if(!e)return null;void 0===e.fileStart&&(e.fileStart=0);var e=s.default.parseBuffer(e),t=(0,o.default)(n).create();return t.setData(e),t}return e={parse:N,findLastTopIsoBoxCompleted:function(e,t,n){if(void 0===n&&(n=0),!t||n+8>=t.byteLength)return new u.default(0,!1);for(var i,r=t instanceof ArrayBuffer?new Uint8Array(t):t,o=void 0,a=0;n<r.byteLength;){var s=r[(s=n)+3]>>>0|r[s+2]<<8>>>0|r[s+1]<<16>>>0|r[s]<<24>>>0,l=(l=r,i=n+4,String.fromCharCode(l[i++])+String.fromCharCode(l[i++])+String.fromCharCode(l[i++])+String.fromCharCode(l[i]));if(0==s)break;n+s<=r.byteLength&&(0<=e.indexOf(l)?o=new u.default(n,!0,s):a=n+s),n+=s}return o||new u.default(a,!1)},getMediaTimescaleFromMoov:function(e){e=N(e),e=e?e.getBox("mdhd"):void 0;return e?e.timescale:NaN},getSamplesInfo:function(e){if(!e||0===e.byteLength)return{sampleList:[],lastSequenceNumber:NaN,totalDuration:NaN,numSequences:NaN};for(var t,e=N(e),n=e.getBoxes("moof"),i=e.getBoxes("mfhd"),r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,d=void 0,c=void 0,f=void 0,p=void 0,e=e.getBoxes("moof").length,i=i[i.length-1].sequence_number,o=[],h=-1,g=-1,u=0;u<n.length;u++)for(var m=n[u],y=m.getChildBoxes("traf"),s=0;s<y.length;s++){for(var v=y[s],_=v.getChildBox("tfhd"),E=v.getChildBox("tfdt"),r=E.baseMediaDecodeTime,T=v.getChildBoxes("trun"),b=v.getChildBoxes("subs"),l=0;l<T.length;l++)for(var S=T[l],A=S.sample_count,f=(_.base_data_offset||0)+(S.data_offset||0),a=0;a<A;a++){var w=void 0!==(t=S.samples[a]).sample_duration?t.sample_duration:_.default_sample_duration,I=void 0!==t.sample_size?t.sample_size:_.default_sample_size,C={dts:r,cts:r+(void 0!==t.sample_composition_time_offset?t.sample_composition_time_offset:0),duration:w,offset:m.offset+f,size:I,subSizes:[I]};if(b)for(d=0;d<b.length;d++){var R=b[d];if(h<R.entry_count-1&&g<a&&(h++,g+=R.entries[h].sample_delta),a==g){C.subSizes=[];for(var D=R.entries[h],c=0;c<D.subsample_count;c++)C.subSizes.push(D.subsamples[c].subsample_size)}}o.push(C),f+=I,r+=w}p=r-E.baseMediaDecodeTime}return{sampleList:o,lastSequenceNumber:i,totalDuration:p,numSequences:e}},findInitRange:function(e){var t,n=null,e=N(e);return e&&(t=e.getBox("ftyp"),e=e.getBox("moov"),i.debug("Searching for initialization."),e)&&e.isComplete&&(n=(t||e).offset+"-"+(e.offset+e.size-1),i.debug("Found the initialization.  Range: "+n)),n}},i=(0,r.default)(n).getInstance().getLogger(e),e}l.__dashjs_factory_name="BoxParser",n.default=a.default.getSingletonFactory(l),t.exports=n.default},{215:215,231:231,45:45,47:47,9:9}],208:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(47),e=e&&e.__esModule?e:{default:e};function i(){var t=void 0,t=!1;return{supportsMediaSource:function(){var e="WebKitMediaSource"in window,t="MediaSource"in window;return e||t},supportsEncryptedMedia:function(){return t},supportsCodec:function(e){return!!("MediaSource"in window&&MediaSource.isTypeSupported(e))||!!("WebKitMediaSource"in window&&WebKitMediaSource.isTypeSupported(e))},setEncryptedMediaSupported:function(e){t=e}}}i.__dashjs_factory_name="Capabilities",n.default=e.default.getSingletonFactory(i),t.exports=n.default},{47:47}],209:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e(47),i=i&&i.__esModule?i:{default:i},r=e(219);function o(){return{customTimeRangeArray:[],length:0,add:function(e,t){for(var n=0,n=0;n<this.customTimeRangeArray.length&&e>this.customTimeRangeArray[n].start;n++);for(this.customTimeRangeArray.splice(n,0,{start:e,end:t}),n=0;n<this.customTimeRangeArray.length-1;n++)this.mergeRanges(n,n+1)&&n--;this.length=this.customTimeRangeArray.length},clear:function(){this.customTimeRangeArray=[],this.length=0},remove:function(e,t){for(var n=0;n<this.customTimeRangeArray.length;n++)if(e<=this.customTimeRangeArray[n].start&&t>=this.customTimeRangeArray[n].end)this.customTimeRangeArray.splice(n,1),n--;else{if(e>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end){this.customTimeRangeArray.splice(n+1,0,{start:t,end:this.customTimeRangeArray[n].end}),this.customTimeRangeArray[n].end=e;break}e>this.customTimeRangeArray[n].start&&e<this.customTimeRangeArray[n].end?this.customTimeRangeArray[n].end=e:t>this.customTimeRangeArray[n].start&&t<this.customTimeRangeArray[n].end&&(this.customTimeRangeArray[n].start=t)}this.length=this.customTimeRangeArray.length},mergeRanges:function(e,t){var n=this.customTimeRangeArray[e],i=this.customTimeRangeArray[t];return n.start<=i.start&&i.start<=n.end&&n.end<=i.end?(n.end=i.end,this.customTimeRangeArray.splice(t,1),!0):i.start<=n.start&&n.start<=i.end&&i.end<=n.end?(n.start=i.start,this.customTimeRangeArray.splice(t,1),!0):i.start<=n.start&&n.start<=i.end&&n.end<=i.end?(this.customTimeRangeArray.splice(e,1),!0):n.start<=i.start&&i.start<=n.end&&i.end<=n.end&&(this.customTimeRangeArray.splice(t,1),!0)},start:function(e){return(0,r.checkInteger)(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].start},end:function(e){return(0,r.checkInteger)(e),e>=this.customTimeRangeArray.length||e<0?NaN:this.customTimeRangeArray[e].end}}}o.__dashjs_factory_name="CustomTimeRanges",n.default=i.default.getClassFactory(o),t.exports=n.default},{219:219,47:47}],210:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),o=i(e(45)),d=i(e(108)),c=[{oldKey:"dashjs_vbitrate",newKey:"dashjs_video_bitrate"},{oldKey:"dashjs_abitrate",newKey:"dashjs_audio_bitrate"},{oldKey:"dashjs_vsettings",newKey:"dashjs_video_settings"},{oldKey:"dashjs_asettings",newKey:"dashjs_audio_settings"}],f="dashjs_?_bitrate",p="dashjs_?_settings",h="localStorage",g="lastBitrate",m="lastMediaSettings";function a(e){var t=this.context,a=(e=e||{}).settings,s=void 0,n=void 0;function i(e){if(void 0===n){n=!1;var t=void 0;try{"undefined"!=typeof window&&(t=window[e])}catch(e){return s.warn("DOMStorage access denied: "+e.message),n}if(t&&(e===h||"sessionStorage"===e))try{t.setItem("1","1"),t.removeItem("1"),n=!0}catch(e){s.warn("DOMStorage is supported, but cannot be used: "+e.message)}}return n}function r(){return 6e5*Math.round((new Date).getTime()/6e5)}function l(e,t){return i(e)&&a.get().streaming[t+"CachingInfo"].enabled}function u(){if(!a)throw new Error(d.default.MISSING_CONFIG_ERROR)}return e={getSavedBitrateSettings:function(e){var t=NaN;if(u(),l(h,g)){var n=f.replace(/\?/,e);try{var i=JSON.parse(localStorage.getItem(n))||{},r=(new Date).getTime()-parseInt(i.timestamp,10)>=a.get().streaming.lastBitrateCachingInfo.ttl||!1,o=parseFloat(i.bitrate);isNaN(o)||r?r&&localStorage.removeItem(n):(t=o,s.debug("Last saved bitrate for "+e+" was "+o))}catch(e){return null}}return t},setSavedBitrateSettings:function(e,t){if(l(h,g)&&t){var n=f.replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({bitrate:t.toFixed(3),timestamp:r()}))}catch(e){s.error(e.message)}}},getSavedMediaSettings:function(e){var t=null;if(u(),l(h,m)){var n=p.replace(/\?/,e);try{var i=JSON.parse(localStorage.getItem(n))||{},r=(new Date).getTime()-parseInt(i.timestamp,10)>=a.get().streaming.lastMediaSettingsCachingInfo.ttl||!1,t=i.settings;r&&(localStorage.removeItem(n),t=null)}catch(e){return null}}return t},setSavedMediaSettings:function(e,t){if(l(h,m)){var n=p.replace(/\?/,e);try{localStorage.setItem(n,JSON.stringify({settings:t,timestamp:r()}))}catch(e){s.error(e.message)}}}},s=(0,o.default)(t).getInstance().getLogger(e),i(h)&&c.forEach(function(e){var t=localStorage.getItem(e.oldKey);if(t){localStorage.removeItem(e.oldKey);try{localStorage.setItem(e.newKey,t)}catch(e){s.error(e.message)}}}),e}a.__dashjs_factory_name="DOMStorage";e=r.default.getSingletonFactory(a);n.default=e,t.exports=n.default},{108:108,45:45,47:47}],211:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(47),e=e&&e.__esModule?e:{default:e};function i(){function e(e,t){try{return new window.URL(e,t).toString()}catch(t){return e}}function t(e,t){var n=s;if(!t)return e;if(!d(e))return e;c(e)&&(n=l);n=(n=f(e)?u:n)(t),t="/"!==n.charAt(n.length-1)&&"/"!==e.charAt(0)?"/":"";return[n,e].join(t)}var n=void 0,i=/^[a-z][a-z0-9+\-_.]*:/i,r=/^https?:\/\//i,o=/^https:\/\//i,a=/^([a-z][a-z0-9+\-_.]*:\/\/[^\/]+)\/?/i;function s(e){var t=e.indexOf("/"),n=e.lastIndexOf("/");return-1!==t?n===t+1?e:(e=-1!==e.indexOf("?")?e.substring(0,e.indexOf("?")):e).substring(0,n+1):""}function l(e){e=e.match(a);return e?e[1]:""}function u(e){e=e.match(i);return e?e[0]:""}function d(e){return!i.test(e)}function c(e){return d(e)&&"/"===e.charAt(0)}function f(e){return 0===e.indexOf("//")}try{new window.URL("x","http://y"),n=e}catch(e){}finally{n=n||t}return{parseBaseUrl:s,parseOrigin:l,parseScheme:u,isRelative:d,isPathAbsolute:c,isSchemeRelative:f,isHTTPURL:function(e){return r.test(e)},isHTTPS:function(e){return o.test(e)},removeHostname:function(e){return/^(?:\w+\:\/\/)?([^\/]+)(.*)$/.exec(e)[2].substring(1)},resolve:function(e,t){return n(e,t)}}}i.__dashjs_factory_name="DefaultURLUtils",n.default=e.default.getSingletonFactory(i),t.exports=n.default},{47:47}],212:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(47),e=e&&e.__esModule?e:{default:e};function i(e){e=e||{};var n=void 0,s=new DataView(e.data),l=0;function i(e,t){var n,i=!0;if(void 0===t&&(t=!1),n=16777215<e.tag?(s.getUint32(l)!==e.tag&&(i=!1),4):65535<e.tag?(256*s.getUint16(l)+s.getUint8(l+2)!==e.tag&&(i=!1),3):255<e.tag?(s.getUint16(l)!==e.tag&&(i=!1),2):(s.getUint8(l)!==e.tag&&(i=!1),1),i||!e.required||t)return i&&(l+=n),i;throw new Error("required tag not found")}function r(e){for(var t=1,n=128,i=-1,r=0,o=s.getUint8(l),a=0,a=0;a<8;a+=1){if((o&n)===n){r=void 0===e?o&~n:o,i=a;break}n>>=1}for(a=0;a<i;a+=1,t+=1)r=r<<8|255&s.getUint8(l+t);return l+=t,r}return n={getPos:function(){return l},setPos:function(e){l=e},consumeTag:i,consumeTagAndSize:function(e,t){e=i(e,t);return e&&r(),e},parseTag:function(e){var t;return i(e),t=r(),n[e.parse](t)},skipOverElement:function(e,t){e=i(e,t);return e&&(t=r(),l+=t),e},getMatroskaCodedNum:r,getMatroskaFloat:function(e){var t=void 0;switch(e){case 4:t=s.getFloat32(l),l+=4;break;case 8:t=s.getFloat64(l),l+=8}return t},getMatroskaUint:function(e){for(var t=0,n=0;n<e;n+=1)t=(t<<=8)|255&s.getUint8(l+n);return l+=e,t},moreData:function(){return l<s.byteLength}}}i.__dashjs_factory_name="EBMLParser",n.default=e.default.getClassFactory(i),t.exports=n.default},{47:47}],213:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(46)),o=i(e(54)),e=i(e(47));function a(){var e=this.context,t=(0,r.default)(e).getInstance();return{error:function(e){t.trigger(o.default.ERROR,{error:e})}}}a.__dashjs_factory_name="ErrorHandler",n.default=e.default.getSingletonFactory(a),t.exports=n.default},{46:46,47:47,54:54}],214:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(47),e=e&&e.__esModule?e:{default:e};function i(){var i={};return{save:function(e){var t=e.streamId,n=e.representationId;i[t]=i[t]||{},i[t][n]=e},extract:function(e,t){return i&&i[e]&&i[e][t]?i[e][t]:null},reset:function(){i={}}}}i.__dashjs_factory_name="InitCache",n.default=e.default.getSingletonFactory(i),t.exports=n.default},{47:47}],215:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(230)),e=i(e(47));function o(){var a=void 0;function t(e){var t=[];if(e&&a&&"function"==typeof a.fetchAll)for(var n,i=a.fetchAll(e),r=0,o=i.length;r<o;r++)(n=s(i[r]))&&t.push(n);return t}function s(e){var t;return e?(t=new r.default(e),e.hasOwnProperty("_incomplete")&&(t.isComplete=!e._incomplete),t):null}return{getBox:function(e){return e&&a&&a.boxes&&0!==a.boxes.length&&"function"==typeof a.fetch?s(a.fetch(e)):null},getBoxes:t,setData:function(e){a=e},getLastBox:function(){var e;return a&&a.boxes&&a.boxes.length&&0<(e=t(a.boxes[a.boxes.length-1].type)).length?e[e.length-1]:null}}}o.__dashjs_factory_name="IsoFile",n.default=e.default.getClassFactory(o),t.exports=n.default},{230:230,47:47}],216:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),o=i(e(108));function a(e){var i=(e=e||{}).timelineConverter;return{getLiveEdge:function(e){var t,n;if(i&&i.hasOwnProperty("getExpectedLiveEdge"))return n=t=e.DVRWindow?e.DVRWindow.end:0,e.useCalculatedLiveEdgeTime&&(n=i.getExpectedLiveEdge(),i.setClientTimeOffset(n-t)),n;throw new Error(o.default.MISSING_CONFIG_ERROR)},reset:function(){i=null}}}a.__dashjs_factory_name="LiveEdgeFinder",n.default=r.default.getClassFactory(a),t.exports=n.default},{108:108,47:47}],217:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),o=i(e(12));function a(){return{areEqual:function(e,t){return(0,o.default)(e,t)}}}a.__dashjs_factory_name="ObjectUtils",n.default=r.default.getSingletonFactory(a),t.exports=n.default},{12:12,47:47}],218:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(47),e=e&&e.__esModule?e:{default:e};function i(){return{modifyRequestURL:function(e){return e},modifyRequestHeader:function(e){return e}}}i.__dashjs_factory_name="RequestModifier",n.default=e.default.getSingletonFactory(i),t.exports=n.default},{47:47}],219:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.checkParameterType=function(e,t){if(typeof e!==t)throw i.default.BAD_ARGUMENT_ERROR},n.checkInteger=function(e){if(null===e||isNaN(e)||e%1!=0)throw i.default.BAD_ARGUMENT_ERROR+" : argument is not an integer"},n.checkRange=function(e,t,n){if(e<t||n<e)throw i.default.BAD_ARGUMENT_ERROR+" : argument out of range"},n.checkIsVideoOrAudioType=function(e){if("string"!=typeof e||e!==i.default.AUDIO&&e!==i.default.VIDEO)throw i.default.BAD_ARGUMENT_ERROR};var n=e(108),i=n&&n.__esModule?n:{default:n}},{108:108}],220:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),o=i(e(45)),a=i(e(46)),b=i(e(54)),S=e(17);function s(){var e=this.context,_=(0,a.default)(e).getInstance(),E=void 0,T=0,t={parse:function(e,t,n,i,r){var o="",a=[],s=void 0,l=void 0,u=void 0,d={},c={},f="",p="",h={onOpenTag:function(e,t,n){"image"===t&&"http://www.smpte-ra.org/schemas/2052-1/2010/smpte-tt"===e&&(n[" imagetype"]&&"PNG"===n[" imagetype"].value?f=n["http://www.w3.org/XML/1998/namespace id"].value:E.warn("smpte-tt imagetype != PNG. Discarded"))},onCloseTag:function(){f&&(c[f]=p.trim()),f=p=""},onText:function(e){f&&(p+=e)}};if(!e)throw o="no ttml data to parse",new Error(o);d.data=e,_.trigger(b.default.TTML_TO_PARSE,d);var g=(0,S.fromXML)(d.data,function(e){o=e},h);_.trigger(b.default.TTML_PARSED,{ttmlString:d.data,ttmlDoc:g});for(var m,y=g.getMediaTimeEvents(),u=0;u<y.length;u++){var v=(0,S.generateISD)(g,y[u],function(e){o=e});v.contents.some(function(e){return e.contents.length})&&(s=y[u]+t<n?n:y[u]+t)<(l=y[u+1]+t>i?i:y[u+1]+t)&&a.push({start:s,end:l,type:"html",cueID:(m="cue_TTML_"+T,T++,m),isd:v,images:r,embeddedImages:c})}if(""!==o)throw E.error(o),new Error(o);return a}},E=(0,o.default)(e).getInstance().getLogger(t);return t}s.__dashjs_factory_name="TTMLParser",n.default=r.default.getSingletonFactory(s),t.exports=n.default},{17:17,45:45,46:46,47:47,54:54}],221:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),a=i(e(211));function o(){var r=void 0,o=[],e=this.context;function n(e,t,n){var i=function(e){for(var t=void 0,t=0;t<o.length;t++)if(o[t].regex.test(e))return o[t].utils;return r}(n||t);return(i&&"function"==typeof i[e]?i:r)[e](t,n)}return r=(0,a.default)(e).getInstance(),{registerUrlRegex:function(e,t){o.push({regex:e,utils:t})},parseBaseUrl:function(e){return n("parseBaseUrl",e)},parseOrigin:function(e){return n("parseOrigin",e)},parseScheme:function(e){return n("parseScheme",e)},isRelative:function(e){return n("isRelative",e)},isPathAbsolute:function(e){return n("isPathAbsolute",e)},isSchemeRelative:function(e){return n("isSchemeRelative",e)},isHTTPURL:function(e){return n("isHTTPURL",e)},isHTTPS:function(e){return n("isHTTPS",e)},removeHostname:function(e){return n("removeHostname",e)},resolve:function(e,t){return n("resolve",e,t)}}}o.__dashjs_factory_name="URLUtils";e=r.default.getSingletonFactory(o);n.default=e,t.exports=n.default},{211:211,47:47}],222:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(47)),o=i(e(45));function a(){var e,t=this.context,u=void 0,d=void 0,c=void 0,f=void 0,p=void 0;function h(e){var t=e.split(":"),n=t.length-1;return e=60*parseInt(t[n-1],10)+parseFloat(t[n]),2==n&&(e+=3600*parseInt(t[0],10)),e}return e={parse:function(e){var t=[],n=void 0;if(e)for(var i=(e=e.split(d)).length,n=-1,r=0;r<i;r++){var o,a,s,l=e[r];0<l.length&&"WEBVTT"!==l&&l.match(c)&&(s=(l=function(e){var n,t=(e=e.split(c))[1].split(p);return t.shift(),e[1]=t[0],t.shift(),{cuePoints:e,styles:(n={},t.forEach(function(e){var t;1<e.split(/:/).length&&((t=e.split(/:/)[1])&&-1!=t.search(/%/)&&(t=parseInt(t.replace(/%/,""),10)),(e.match(/align/)||e.match(/A/))&&(n.align=t),(e.match(/line/)||e.match(/L/))&&(n.line=t),(e.match(/position/)||e.match(/P/))&&(n.position=t),e.match(/size/)||e.match(/S/))&&(n.size=t)}),n)}}(l)).cuePoints,l=l.styles,o=function(e,t){for(var n,i=t,r="",o="";""!==e[i]&&i<e.length;)i++;if(1<(n=i-t))for(var a=0;a<n;a++){if((o=e[t+a]).match(c)){r="";break}r+=o,a!==n-1&&(r+="\n")}else(o=e[t]).match(c)||(r=o);return r}(e,r+1),a=h(s[0].replace(f,"")),s=h(s[1].replace(f,"")),!isNaN(a)&&!isNaN(s)&&n<=a&&a<s?""!==o?t.push({start:n=a,end:s,data:o,styles:l}):u.error("Skipping cue due to empty/malformed cue text"):u.error("Skipping cue due to incorrect cue timing"))}return t}},u=(0,o.default)(t).getInstance().getLogger(e),d=/(?:\r\n|\r|\n)/gm,c=/-->/,f=/(^[\s]+|[\s]+$)/g,p=/\s\b/g,e}a.__dashjs_factory_name="VTTParser",n.default=r.default.getSingletonFactory(a),t.exports=n.default},{45:45,47:47}],223:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(47),e=e&&e.__esModule?e:{default:e};function i(e){var i=(e=e||{}).blacklistController;return{select:function(e){var n=0,t=void 0;return t=e&&e.some(function(e,t){return n=t,!i.contains(e.serviceLocation)})?e[n]:t}}}i.__dashjs_factory_name="BasicSelector",n.default=e.default.getClassFactory(i),t.exports=n.default},{47:47}],224:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});e=e(47),e=e&&e.__esModule?e:{default:e};function i(e){var n=(e=e||{}).blacklistController;return{select:function(e){return e&&function(e){var n,t=0,i=[],r=0,o=void 0;if((o=e.sort(function(e,t){e=e.dvb_priority-t.dvb_priority;return isNaN(e)?0:e}).filter(function(e,t,n){return!t||n[0].dvb_priority&&e.dvb_priority&&n[0].dvb_priority===e.dvb_priority})).length)return 1<o.length&&(o.forEach(function(e){t+=e.dvb_weight,i.push(t)}),n=Math.floor(Math.random()*(t-1)),i.every(function(e,t){return r=t,!(n<e)})),o[r]}((t=[],e.filter(function(e){return!n.contains(e.serviceLocation)||(e.dvb_priority&&t.push(e.dvb_priority),!1)}).filter(function(e){return!t.length||!e.dvb_priority||-1===t.indexOf(e.dvb_priority)})));var t}}}i.__dashjs_factory_name="DVBSelector",n.default=e.default.getClassFactory(i),t.exports=n.default},{47:47}],225:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.mediaType=null,this.bitrate=null,this.width=null,this.height=null,this.scanType=null,this.qualityIndex=NaN},t.exports=n.default},{}],226:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n,i){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.code=t||null,this.message=n||null,this.data=i||null},t.exports=n.default},{}],227:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.streamId=null,this.mediaInfo=null,this.segmentType=null,this.quality=NaN,this.index=NaN,this.bytes=null,this.start=NaN,this.end=NaN,this.duration=NaN,this.representationId=null,this.endFragment=null},t.exports=n.default},{}],228:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}var r,o=e(242),a=(e=s,(a=[{key:"isInitializationRequest",value:function(){return this.type&&this.type===o.HTTPRequest.INIT_SEGMENT_TYPE}},{key:"setInfo",value:function(e){this.type=e&&e.init?o.HTTPRequest.INIT_SEGMENT_TYPE:o.HTTPRequest.MEDIA_SEGMENT_TYPE,this.url=e&&e.url?e.url:null,this.range=e&&e.range?e.range.start+"-"+e.range.end:null,this.mediaType=e&&e.mediaType?e.mediaType:null}}])&&i(e.prototype,a),r&&i(e,r),s);function s(e){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.action=s.ACTION_DOWNLOAD,this.startTime=NaN,this.mediaType=null,this.mediaInfo=null,this.type=null,this.duration=NaN,this.timescale=NaN,this.range=null,this.url=e||null,this.serviceLocation=null,this.requestStartDate=null,this.firstByteDate=null,this.requestEndDate=null,this.quality=NaN,this.index=NaN,this.availabilityStartTime=null,this.availabilityEndTime=null,this.wallStartTime=null,this.bytesLoaded=NaN,this.bytesTotal=NaN,this.delayLoadingTime=NaN,this.responseType="arraybuffer",this.representationId=null}a.ACTION_DOWNLOAD="download",a.ACTION_COMPLETE="complete",n.default=a,t.exports=n.default},{242:242}],229:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(228),i=r,e=(e&&e.__esModule?e:{default:e}).default;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function r(e){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");(function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n,i=!1,s=(null===r&&(r=Function.prototype),Object.getOwnPropertyDescriptor(r,o));if(void 0!==s)return"value"in s?s.value:void 0===(s=s.get)?void 0:s.call(a);s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=a,i=!0}})(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,e),this.checkForExistenceOnly=!0}i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e),n.default=r,t.exports=n.default},{228:228}],230:[function(e,t,n){"use strict";function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");if(this.offset=e._offset,this.type=e.type,this.size=e.size,this.boxes=[],e.boxes)for(var t=0;t<e.boxes.length;t++)this.boxes.push(new o(e.boxes[t]));switch(this.isComplete=!0,e.type){case"sidx":if(this.timescale=e.timescale,this.earliest_presentation_time=e.earliest_presentation_time,this.first_offset=e.first_offset,this.references=e.references,e.references)for(this.references=[],t=0;t<e.references.length;t++){var n={reference_type:e.references[t].reference_type,referenced_size:e.references[t].referenced_size,subsegment_duration:e.references[t].subsegment_duration};this.references.push(n)}break;case"emsg":this.id=e.id,this.value=e.value,this.timescale=e.timescale,this.scheme_id_uri=e.scheme_id_uri,this.presentation_time_delta=1===e.version?e.presentation_time:e.presentation_time_delta,this.event_duration=e.event_duration,this.message_data=e.message_data;break;case"mdhd":this.timescale=e.timescale;break;case"mfhd":this.sequence_number=e.sequence_number;break;case"subs":this.entry_count=e.entry_count,this.entries=e.entries;break;case"tfhd":this.base_data_offset=e.base_data_offset,this.sample_description_index=e.sample_description_index,this.default_sample_duration=e.default_sample_duration,this.default_sample_size=e.default_sample_size,this.default_sample_flags=e.default_sample_flags,this.flags=e.flags;break;case"tfdt":this.version=e.version,this.baseMediaDecodeTime=e.baseMediaDecodeTime,this.flags=e.flags;break;case"trun":if(this.sample_count=e.sample_count,this.first_sample_flags=e.first_sample_flags,this.data_offset=e.data_offset,this.flags=e.flags,this.samples=e.samples,e.samples){this.samples=[];for(var t=0,i=e.samples.length;t<i;t++){var r={sample_size:e.samples[t].sample_size,sample_duration:e.samples[t].sample_duration,sample_composition_time_offset:e.samples[t].sample_composition_time_offset};this.samples.push(r)}}}}Object.defineProperty(n,"__esModule",{value:!0}),i(o.prototype,[{key:"getChildBox",value:function(e){for(var t=0;t<this.boxes.length;t++)if(this.boxes[t].type===e)return this.boxes[t]}},{key:"getChildBoxes",value:function(e){for(var t=[],n=0;n<this.boxes.length;n++)this.boxes[n].type===e&&t.push(this.boxes[n]);return t}}]),n.default=o,t.exports=n.default},{}],231:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(t,n,i){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.lastCompletedOffset=t,this.found=n,this.size=i},t.exports=n.default},{}],232:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.TcpList=[],this.HttpList=[],this.RepSwitchList=[],this.BufferLevel=[],this.BufferState=[],this.PlayList=[],this.DroppedFrames=[],this.SchedulingInfo=[],this.DVRInfo=[],this.ManifestUpdate=[],this.RequestsQueue=null,this.DVBErrors=[]},t.exports=n.default},{}],233:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(n,"__esModule",{value:!0});var r=i(e(108)),o=a,e=i(e(228)).default;if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);function a(e,t){if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");(function(e,t,n){for(var i=!0;i;){var r=e,o=t,a=n,i=!1,s=(null===r&&(r=Function.prototype),Object.getOwnPropertyDescriptor(r,o));if(void 0!==s)return"value"in s?s.value:void 0===(s=s.get)?void 0:s.call(a);s=Object.getPrototypeOf(r);if(null===s)return;e=s,t=o,n=a,i=!0}})(Object.getPrototypeOf(a.prototype),"constructor",this).call(this),this.url=e||null,this.type=t||null,this.mediaType=r.default.STREAM,this.responseType=""}o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e),n.default=a,t.exports=n.default},{108:108,228:228}],234:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.captionData=null,this.label=null,this.lang=null,this.defaultTrack=!1,this.kind=null,this.isFragmented=!1,this.isEmbedded=!1},t.exports=n.default},{}],235:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.url=null,this.width=null,this.height=null,this.x=null,this.y=null},t.exports=n.default},{}],236:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.bitrate=0,this.width=0,this.height=0,this.tilesHor=0,this.tilesVert=0,this.widthPerTile=0,this.heightPerTile=0,this.startNumber=0,this.segmentDuration=0,this.timescale=0,this.templateUrl="",this.id=""},t.exports=n.default},{}],237:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.t=null,this.xywh=null,this.track=null,this.id=null,this.s=null,this.r=null},t.exports=n.default},{}],238:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.t=null,this.level=null},t.exports=n.default},{}],239:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e=e(109),i=e&&e.__esModule?e:{default:e};n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.target=null,this.state=i.default.BUFFER_EMPTY},t.exports=n.default},{109:109}],240:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.time=null,this.range=null,this.manifestInfo=null},t.exports=n.default},{}],241:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.time=null,this.droppedFrames=null},t.exports=n.default},{}],242:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){i(this,r),this.tcpid=null,this.type=null,this.url=null,this.actualurl=null,this.range=null,this.trequest=null,this.tresponse=null,this.responsecode=null,this.interval=null,this.trace=[],this._stream=null,this._tfinish=null,this._mediaduration=null,this._quality=null,this._responseHeaders=null,this._serviceLocation=null}Object.defineProperty(n,"__esModule",{value:!0}),r.GET="GET",r.HEAD="HEAD",r.MPD_TYPE="MPD",r.XLINK_EXPANSION_TYPE="XLinkExpansion",r.INIT_SEGMENT_TYPE="InitializationSegment",r.INDEX_SEGMENT_TYPE="IndexSegment",r.MEDIA_SEGMENT_TYPE="MediaSegment",r.BITSTREAM_SWITCHING_SEGMENT_TYPE="BitstreamSwitchingSegment",r.OTHER_TYPE="other",n.HTTPRequest=r,n.HTTPRequestTrace=function e(){i(this,e),this.s=null,this.d=null,this.b=[]}},{}],243:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ManifestUpdate=function e(){i(this,e),this.mediaType=null,this.type=null,this.requestTime=null,this.fetchTime=null,this.availabilityStartTime=null,this.presentationStartTime=0,this.clientTimeOffset=0,this.currentTime=null,this.buffered=null,this.latency=0,this.streamInfo=[],this.representationInfo=[]},n.ManifestUpdateStreamInfo=function e(){i(this,e),this.id=null,this.index=null,this.start=null,this.duration=null},n.ManifestUpdateRepresentationInfo=function e(){i(this,e),this.id=null,this.index=null,this.mediaType=null,this.streamIndex=null,this.presentationTimeOffset=null,this.startNumber=null,this.fragmentInfoType=null}},{}],244:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){i(this,r),this.start=null,this.mstart=null,this.starttype=null,this.trace=[]}function o(){i(this,o),this.representationid=null,this.subreplevel=null,this.start=null,this.mstart=null,this.duration=null,this.playbackspeed=null,this.stopreason=null}Object.defineProperty(n,"__esModule",{value:!0}),r.INITIAL_PLAYOUT_START_REASON="initial_playout",r.SEEK_START_REASON="seek",r.RESUME_FROM_PAUSE_START_REASON="resume",r.METRICS_COLLECTION_START_REASON="metrics_collection_start",o.REPRESENTATION_SWITCH_STOP_REASON="representation_switch",o.REBUFFERING_REASON="rebuffering",o.USER_REQUEST_STOP_REASON="user_request",o.END_OF_PERIOD_STOP_REASON="end_of_period",o.END_OF_CONTENT_STOP_REASON="end_of_content",o.METRICS_COLLECTION_STOP_REASON="metrics_collection_end",o.FAILURE_STOP_REASON="failure",n.PlayList=r,n.PlayListTrace=o},{}],245:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.t=null,this.mt=null,this.to=null,this.lto=null},t.exports=n.default},{}],246:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.loadingRequests=[],this.executedRequests=[]},t.exports=n.default},{}],247:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.mediaType=null,this.t=null,this.type=null,this.startTime=null,this.availabilityStartTime=null,this.duration=null,this.quality=null,this.range=null,this.state=null},t.exports=n.default},{}]},{},[4]),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(e.document)return t(e);throw new Error("jQuery requires a window with a document")}:t(e)}("undefined"!=typeof window?window:this,function(b,k){"use strict";function v(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item}function g(e){return null!=e&&e===e.window}var t=[],F=Object.getPrototypeOf,s=t.slice,B=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},U=t.push,j=t.indexOf,H={},G=H.toString,K=H.hasOwnProperty,q=K.toString,$=q.call(Object),m={},S=b.document,Y={type:!0,src:!0,nonce:!0,noModule:!0};function V(e,t,n){var i,r,o=(n=n||S).createElement("script");if(o.text=e,t)for(i in Y)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function h(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?H[G.call(e)]||"object":typeof e}var A=function(e,t){return new A.fn.init(e,t)};function z(e){var t=!!e&&"length"in e&&e.length,n=h(e);return!v(e)&&!g(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}A.fn=A.prototype={jquery:"3.6.3",constructor:A,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){e=A.merge(this.constructor(),e);return e.prevObject=this,e},each:function(e){return A.each(this,e)},map:function(n){return this.pushStack(A.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(A.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(A.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,e=+e+(e<0?t:0);return this.pushStack(0<=e&&e<t?[this[e]]:[])},end:function(){return this.prevObject||this.constructor()},push:U,sort:t.sort,splice:t.splice},A.extend=A.fn.extend=function(){var e,t,n,i,r,o=arguments[0]||{},a=1,s=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[a]||{},a++),"object"==typeof o||v(o)||(o={}),a===s&&(o=this,a--);a<s;a++)if(null!=(e=arguments[a]))for(t in e)n=e[t],"__proto__"!==t&&o!==n&&(l&&n&&(A.isPlainObject(n)||(i=Array.isArray(n)))?(r=o[t],r=i&&!Array.isArray(r)?[]:i||A.isPlainObject(r)?r:{},i=!1,o[t]=A.extend(l,r,n)):void 0!==n&&(o[t]=n));return o},A.extend({expando:"jQuery"+("3.6.3"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){return!(!e||"[object Object]"!==G.call(e)||(e=F(e))&&("function"!=typeof(e=K.call(e,"constructor")&&e.constructor)||q.call(e)!==$))},isEmptyObject:function(e){for(var t in e)return!1;return!0},globalEval:function(e,t,n){V(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(z(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){t=t||[];return null!=e&&(z(Object(e))?A.merge(t,"string"==typeof e?[e]:e):U.call(t,e)),t},inArray:function(e,t,n){return null==t?-1:j.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!=a&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,a=[];if(z(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&a.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&a.push(r);return B(a)},guid:1,support:m}),"function"==typeof Symbol&&(A.fn[Symbol.iterator]=t[Symbol.iterator]),A.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){H["[object "+t+"]"]=t.toLowerCase()});function i(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&A(e).is(n))break;i.push(e)}return i}function W(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}var e=function(k){function c(e,t){return e="0x"+e.slice(1)-65536,t||(e<0?String.fromCharCode(65536+e):String.fromCharCode(e>>10|55296,1023&e|56320))}function F(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e}function B(){b()}var e,f,E,o,U,p,j,H,T,l,u,b,S,n,A,h,i,r,g,w="sizzle"+ +new Date,d=k.document,I=0,G=0,K=M(),q=M(),$=M(),m=M(),Y=function(e,t){return e===t&&(u=!0),0},V={}.hasOwnProperty,t=[],z=t.pop,W=t.push,C=t.push,X=t.slice,v=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",a="[\\x20\\t\\r\\n\\f]",s="(?:\\\\[\\da-fA-F]{1,6}"+a+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",J="\\["+a+"*("+s+")(?:"+a+"*([*^$|!~]?=)"+a+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+s+"))|)"+a+"*\\]",Z=":("+s+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+J+")*)|.*)\\)|)",ee=new RegExp(a+"+","g"),y=new RegExp("^"+a+"+|((?:^|[^\\\\])(?:\\\\.)*)"+a+"+$","g"),te=new RegExp("^"+a+"*,"+a+"*"),ne=new RegExp("^"+a+"*([>+~]|"+a+")"+a+"*"),ie=new RegExp(a+"|>"),re=new RegExp(Z),oe=new RegExp("^"+s+"$"),_={ID:new RegExp("^#("+s+")"),CLASS:new RegExp("^\\.("+s+")"),TAG:new RegExp("^("+s+"|[*])"),ATTR:new RegExp("^"+J),PSEUDO:new RegExp("^"+Z),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+a+"*(even|odd|(([+-]|)(\\d*)n|)"+a+"*(?:([+-]|)"+a+"*(\\d+)|))"+a+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+a+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+a+"*((?:-\\d)?\\d*)"+a+"*\\)|)(?=[^-]|$)","i")},ae=/HTML$/i,se=/^(?:input|select|textarea|button)$/i,le=/^h\d$/i,R=/^[^{]+\{\s*\[native \w/,ue=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,de=/[+~]/,D=new RegExp("\\\\[\\da-fA-F]{1,6}"+a+"?|\\\\([^\\r\\n\\f])","g"),ce=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,fe=ve(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{C.apply(t=X.call(d.childNodes),d.childNodes),t[d.childNodes.length].nodeType}catch(e){C={apply:t.length?function(e,t){W.apply(e,X.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function N(e,t,n,i){var r,o,a,s,l,u,d=t&&t.ownerDocument,c=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==c&&9!==c&&11!==c)return n;if(!i&&(b(t),t=t||S,A)){if(11!==c&&(s=ue.exec(e)))if(r=s[1]){if(9===c){if(!(u=t.getElementById(r)))return n;if(u.id===r)return n.push(u),n}else if(d&&(u=d.getElementById(r))&&g(t,u)&&u.id===r)return n.push(u),n}else{if(s[2])return C.apply(n,t.getElementsByTagName(e)),n;if((r=s[3])&&f.getElementsByClassName&&t.getElementsByClassName)return C.apply(n,t.getElementsByClassName(r)),n}if(f.qsa&&!m[e+" "]&&(!h||!h.test(e))&&(1!==c||"object"!==t.nodeName.toLowerCase())){if(u=e,d=t,1===c&&(ie.test(e)||ne.test(e))){for((d=de.test(e)&&me(t.parentNode)||t)===t&&f.scope||((a=t.getAttribute("id"))?a=a.replace(ce,F):t.setAttribute("id",a=w)),o=(l=p(e)).length;o--;)l[o]=(a?"#"+a:":scope")+" "+L(l[o]);u=l.join(",")}try{if(f.cssSupportsSelector&&!CSS.supports("selector(:is("+u+"))"))throw new Error;return C.apply(n,d.querySelectorAll(u)),n}catch(t){m(e,!0)}finally{a===w&&t.removeAttribute("id")}}}return H(e.replace(y,"$1"),t,n,i)}function M(){var i=[];return function e(t,n){return i.push(t+" ")>E.cacheLength&&delete e[i.shift()],e[t+" "]=n}}function O(e){return e[w]=!0,e}function x(e){var t=S.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t)}}function pe(e,t){for(var n=e.split("|"),i=n.length;i--;)E.attrHandle[n[i]]=t}function he(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&fe(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function P(a){return O(function(o){return o=+o,O(function(e,t){for(var n,i=a([],e.length,o),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in f=N.support={},U=N.isXML=function(e){var t=e&&e.namespaceURI,e=e&&(e.ownerDocument||e).documentElement;return!ae.test(t||e&&e.nodeName||"HTML")},b=N.setDocument=function(e){var e=e?e.ownerDocument||e:d;return e!=S&&9===e.nodeType&&e.documentElement&&(n=(S=e).documentElement,A=!U(S),d!=S&&(e=S.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",B,!1):e.attachEvent&&e.attachEvent("onunload",B)),f.scope=x(function(e){return n.appendChild(e).appendChild(S.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),f.cssSupportsSelector=x(function(){return CSS.supports("selector(*)")&&S.querySelectorAll(":is(:jqfake)")&&!CSS.supports("selector(:is(*,:jqfake))")}),f.attributes=x(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=x(function(e){return e.appendChild(S.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=R.test(S.getElementsByClassName),f.getById=x(function(e){return n.appendChild(e).id=w,!S.getElementsByName||!S.getElementsByName(w).length}),f.getById?(E.filter.ID=function(e){var t=e.replace(D,c);return function(e){return e.getAttribute("id")===t}},E.find.ID=function(e,t){if(void 0!==t.getElementById&&A)return(t=t.getElementById(e))?[t]:[]}):(E.filter.ID=function(e){var t=e.replace(D,c);return function(e){e=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return e&&e.value===t}},E.find.ID=function(e,t){if(void 0!==t.getElementById&&A){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),E.find.TAG=f.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):f.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},E.find.CLASS=f.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&A)return t.getElementsByClassName(e)},i=[],h=[],(f.qsa=R.test(S.querySelectorAll))&&(x(function(e){var t;n.appendChild(e).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&h.push("[*^$]="+a+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||h.push("\\["+a+"*(?:value|"+Q+")"),e.querySelectorAll("[id~="+w+"-]").length||h.push("~="),(t=S.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||h.push("\\["+a+"*name"+a+"*="+a+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||h.push(":checked"),e.querySelectorAll("a#"+w+"+*").length||h.push(".#.+[+~]"),e.querySelectorAll("\\\f"),h.push("[\\r\\n\\f]")}),x(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=S.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&h.push("name"+a+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&h.push(":enabled",":disabled"),n.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&h.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),h.push(",.*:")})),(f.matchesSelector=R.test(r=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.oMatchesSelector||n.msMatchesSelector))&&x(function(e){f.disconnectedMatch=r.call(e,"*"),r.call(e,"[s!='']:x"),i.push("!=",Z)}),f.cssSupportsSelector||h.push(":has"),h=h.length&&new RegExp(h.join("|")),i=i.length&&new RegExp(i.join("|")),e=R.test(n.compareDocumentPosition),g=e||R.test(n.contains)?function(e,t){var n=9===e.nodeType&&e.documentElement||e,t=t&&t.parentNode;return e===t||!(!t||1!==t.nodeType||!(n.contains?n.contains(t):e.compareDocumentPosition&&16&e.compareDocumentPosition(t)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=e?function(e,t){var n;return e===t?(u=!0,0):!e.compareDocumentPosition-!t.compareDocumentPosition||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===n?e==S||e.ownerDocument==d&&g(d,e)?-1:t==S||t.ownerDocument==d&&g(d,t)?1:l?v(l,e)-v(l,t):0:4&n?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e==S?-1:t==S?1:r?-1:o?1:l?v(l,e)-v(l,t):0;if(r===o)return he(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?he(a[i],s[i]):a[i]==d?-1:s[i]==d?1:0}),S},N.matches=function(e,t){return N(e,null,null,t)},N.matchesSelector=function(e,t){if(b(e),f.matchesSelector&&A&&!m[t+" "]&&(!i||!i.test(t))&&(!h||!h.test(t)))try{var n=r.call(e,t);if(n||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){m(t,!0)}return 0<N(t,S,null,[e]).length},N.contains=function(e,t){return(e.ownerDocument||e)!=S&&b(e),g(e,t)},N.attr=function(e,t){(e.ownerDocument||e)!=S&&b(e);var n=E.attrHandle[t.toLowerCase()],n=n&&V.call(E.attrHandle,t.toLowerCase())?n(e,t,!A):void 0;return void 0!==n?n:f.attributes||!A?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},N.escape=function(e){return(e+"").replace(ce,F)},N.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},N.uniqueSort=function(e){var t,n=[],i=0,r=0;if(u=!f.detectDuplicates,l=!f.sortStable&&e.slice(0),e.sort(Y),u){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return l=null,e},o=N.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=o(t);return n},(E=N.selectors={cacheLength:50,createPseudo:O,match:_,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(D,c),e[3]=(e[3]||e[4]||e[5]||"").replace(D,c),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||N.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&N.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return _.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&re.test(n)&&(t=(t=p(n,!0))&&n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(D,c).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=K[e+" "];return t||(t=new RegExp("(^|"+a+")"+e+"("+a+"|$)"))&&K(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(e){e=N.attr(e,t);return null==e?"!="===n:!n||(e+="","="===n?e===i:"!="===n?e!==i:"^="===n?i&&0===e.indexOf(i):"*="===n?i&&-1<e.indexOf(i):"$="===n?i&&e.slice(-i.length)===i:"~="===n?-1<(" "+e.replace(ee," ")+" ").indexOf(i):"|="===n&&(e===i||e.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,m){var y="nth"!==h.slice(0,3),v="last"!==h.slice(-4),_="of-type"===e;return 1===g&&0===m?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,a,s,l,u=y!=v?"nextSibling":"previousSibling",d=e.parentNode,c=_&&e.nodeName.toLowerCase(),f=!n&&!_,p=!1;if(d){if(y){for(;u;){for(a=e;a=a[u];)if(_?a.nodeName.toLowerCase()===c:1===a.nodeType)return!1;l=u="only"===h&&!l&&"nextSibling"}return!0}if(l=[v?d.firstChild:d.lastChild],v&&f){for(p=(s=(i=(r=(o=(a=d)[w]||(a[w]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===I&&i[1])&&i[2],a=s&&d.childNodes[s];a=++s&&a&&a[u]||(p=s=0,l.pop());)if(1===a.nodeType&&++p&&a===e){r[h]=[I,s,p];break}}else if(!1===(p=f?s=(i=(r=(o=(a=e)[w]||(a[w]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===I&&i[1]:p))for(;(a=++s&&a&&a[u]||(p=s=0,l.pop()))&&((_?a.nodeName.toLowerCase()!==c:1!==a.nodeType)||!++p||(f&&((r=(o=a[w]||(a[w]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[I,p]),a!==e)););return(p-=m)===g||p%g==0&&0<=p/g}}},PSEUDO:function(e,o){var t,a=E.pseudos[e]||E.setFilters[e.toLowerCase()]||N.error("unsupported pseudo: "+e);return a[w]?a(o):1<a.length?(t=[e,e,"",o],E.setFilters.hasOwnProperty(e.toLowerCase())?O(function(e,t){for(var n,i=a(e,o),r=i.length;r--;)e[n=v(e,i[r])]=!(t[n]=i[r])}):function(e){return a(e,0,t)}):a}},pseudos:{not:O(function(e){var i=[],r=[],s=j(e.replace(y,"$1"));return s[w]?O(function(e,t,n,i){for(var r,o=s(e,null,i,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,t,n){return i[0]=e,s(i,null,n,r),i[0]=null,!r.pop()}}),has:O(function(t){return function(e){return 0<N(t,e).length}}),contains:O(function(t){return t=t.replace(D,c),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:O(function(n){return oe.test(n||"")||N.error("unsupported lang: "+n),n=n.replace(D,c).toLowerCase(),function(e){var t;do{if(t=A?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=k.location&&k.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===n},focus:function(e){return e===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!E.pseudos.empty(e)},header:function(e){return le.test(e.nodeName)},input:function(e){return se.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(e=e.getAttribute("type"))||"text"===e.toLowerCase())},first:P(function(){return[0]}),last:P(function(e,t){return[t-1]}),eq:P(function(e,t,n){return[n<0?n+t:n]}),even:P(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:P(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:P(function(e,t,n){for(var i=n<0?n+t:t<n?t:n;0<=--i;)e.push(i);return e}),gt:P(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=E.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[e]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(e);for(e in{submit:!0,reset:!0})E.pseudos[e]=function(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}(e);function ye(){}function L(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ve(a,e,t){var s=e.dir,l=e.next,u=l||s,d=t&&"parentNode"===u,c=G++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||d)return a(e,t,n);return!1}:function(e,t,n){var i,r,o=[I,c];if(n){for(;e=e[s];)if((1===e.nodeType||d)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||d)if(r=(r=e[w]||(e[w]={}))[e.uniqueID]||(r[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[s]||e;else{if((i=r[u])&&i[0]===I&&i[1]===c)return o[2]=i[2];if((r[u]=o)[2]=a(e,t,n))return!0}return!1}}function _e(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function Ee(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)!(o=e[s])||n&&!n(o,i,r)||(a.push(o),u&&t.push(s));return a}function Te(e){for(var i,t,n,r=e.length,o=E.relative[e[0].type],a=o||E.relative[" "],s=o?1:0,l=ve(function(e){return e===i},a,!0),u=ve(function(e){return-1<v(i,e)},a,!0),d=[function(e,t,n){e=!o&&(n||t!==T)||((i=t).nodeType?l:u)(e,t,n);return i=null,e}];s<r;s++)if(t=E.relative[e[s].type])d=[ve(_e(d),t)];else{if((t=E.filter[e[s].type].apply(null,e[s].matches))[w]){for(n=++s;n<r&&!E.relative[e[n].type];n++);return function e(p,h,g,m,y,t){return m&&!m[w]&&(m=e(m)),y&&!y[w]&&(y=e(y,t)),O(function(e,t,n,i){var r,o,a,s=[],l=[],u=t.length,d=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)N(e,t[i],n);return n}(h||"*",n.nodeType?[n]:n,[]),c=!p||!e&&h?d:Ee(d,s,p,n,i),f=g?y||(e?p:u||m)?[]:t:c;if(g&&g(c,f,n,i),m)for(r=Ee(f,l),m(r,[],n,i),o=r.length;o--;)(a=r[o])&&(f[l[o]]=!(c[l[o]]=a));if(e){if(y||p){if(y){for(r=[],o=f.length;o--;)(a=f[o])&&r.push(c[o]=a);y(null,f=[],r,i)}for(o=f.length;o--;)(a=f[o])&&-1<(r=y?v(e,a):s[o])&&(e[r]=!(t[r]=a))}}else f=Ee(f===t?f.splice(u,f.length):f),y?y(null,t,f,i):C.apply(t,f)})}(1<s&&_e(d),1<s&&L(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(y,"$1"),t,s<n&&Te(e.slice(s,n)),n<r&&Te(e=e.slice(n)),n<r&&L(e))}d.push(t)}return _e(d)}return ye.prototype=E.filters=E.pseudos,E.setFilters=new ye,p=N.tokenize=function(e,t){var n,i,r,o,a,s,l,u=q[e+" "];if(u)return t?0:u.slice(0);for(a=e,s=[],l=E.preFilter;a;){for(o in n&&!(i=te.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=ne.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(y," ")}),a=a.slice(n.length)),E.filter)!(i=_[o].exec(a))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?N.error(e):q(e,s).slice(0)},j=N.compile=function(e,t){var n,m,y,v,_,i,r=[],o=[],a=$[e+" "];if(!a){for(n=(t=t||p(e)).length;n--;)((a=Te(t[n]))[w]?r:o).push(a);(a=$(e,(v=0<(y=r).length,_=0<(m=o).length,i=function(e,t,n,i,r){var o,a,s,l=0,u="0",d=e&&[],c=[],f=T,p=e||_&&E.find.TAG("*",r),h=I+=null==f?1:Math.random()||.1,g=p.length;for(r&&(T=t==S||t||r);u!==g&&null!=(o=p[u]);u++){if(_&&o){for(a=0,t||o.ownerDocument==S||(b(o),n=!A);s=m[a++];)if(s(o,t||S,n)){i.push(o);break}r&&(I=h)}v&&((o=!s&&o)&&l--,e)&&d.push(o)}if(l+=u,v&&u!==l){for(a=0;s=y[a++];)s(d,c,t,n);if(e){if(0<l)for(;u--;)d[u]||c[u]||(c[u]=z.call(i));c=Ee(c)}C.apply(i,c),r&&!e&&0<c.length&&1<l+y.length&&N.uniqueSort(i)}return r&&(I=h,T=f),d},v?O(i):i))).selector=e}return a},H=N.select=function(e,t,n,i){var r,o,a,s,l,u="function"==typeof e&&e,d=!i&&p(e=u.selector||e);if(n=n||[],1===d.length){if(2<(o=d[0]=d[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&A&&E.relative[o[1].type]){if(!(t=(E.find.ID(a.matches[0].replace(D,c),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=_.needsContext.test(e)?0:o.length;r--&&(a=o[r],!E.relative[s=a.type]);)if((l=E.find[s])&&(i=l(a.matches[0].replace(D,c),de.test(o[0].type)&&me(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&L(o))break;return C.apply(n,i),n}}return(u||j(e,d))(i,t,!A,n,!t||de.test(e)&&me(t.parentNode)||t),n},f.sortStable=w.split("").sort(Y).join("")===w,f.detectDuplicates=!!u,b(),f.sortDetached=x(function(e){return 1&e.compareDocumentPosition(S.createElement("fieldset"))}),x(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||pe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&x(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||pe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),x(function(e){return null==e.getAttribute("disabled")})||pe(Q,function(e,t,n){if(!n)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),N}(b),X=(A.find=e,A.expr=e.selectors,A.expr[":"]=A.expr.pseudos,A.uniqueSort=A.unique=e.uniqueSort,A.text=e.getText,A.isXMLDoc=e.isXML,A.contains=e.contains,A.escapeSelector=e.escape,A.expr.match.needsContext);function l(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var Q=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function J(e,n,i){return v(n)?A.grep(e,function(e,t){return!!n.call(e,t,e)!==i}):n.nodeType?A.grep(e,function(e){return e===n!==i}):"string"!=typeof n?A.grep(e,function(e){return-1<j.call(n,e)!==i}):A.filter(n,e,i)}A.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?A.find.matchesSelector(i,e)?[i]:[]:A.find.matches(e,A.grep(t,function(e){return 1===e.nodeType}))},A.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(A(e).filter(function(){for(t=0;t<i;t++)if(A.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)A.find(e,r[t],n);return 1<i?A.uniqueSort(n):n},filter:function(e){return this.pushStack(J(this,e||[],!1))},not:function(e){return this.pushStack(J(this,e||[],!0))},is:function(e){return!!J(this,"string"==typeof e&&X.test(e)?A(e):e||[],!1).length}});var Z,ee=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,te=((A.fn.init=function(e,t,n){if(e){if(n=n||Z,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(A):A.makeArray(e,this);if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:ee.exec(e))||!i[1]&&t)return(!t||t.jquery?t||n:this.constructor(t)).find(e);if(i[1]){if(t=t instanceof A?t[0]:t,A.merge(this,A.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:S,!0)),Q.test(i[1])&&A.isPlainObject(t))for(var i in t)v(this[i])?this[i](t[i]):this.attr(i,t[i])}else(n=S.getElementById(i[2]))&&(this[0]=n,this.length=1)}return this}).prototype=A.fn,Z=A(S),/^(?:parents|prev(?:Until|All))/),ne={children:!0,contents:!0,next:!0,prev:!0};function ie(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}A.fn.extend({has:function(e){var t=A(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(A.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],a="string"!=typeof e&&A(e);if(!X.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&A.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?A.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?j.call(A(e),this[0]):j.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(A.uniqueSort(A.merge(this.get(),A(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),A.each({parent:function(e){e=e.parentNode;return e&&11!==e.nodeType?e:null},parents:function(e){return i(e,"parentNode")},parentsUntil:function(e,t,n){return i(e,"parentNode",n)},next:function(e){return ie(e,"nextSibling")},prev:function(e){return ie(e,"previousSibling")},nextAll:function(e){return i(e,"nextSibling")},prevAll:function(e){return i(e,"previousSibling")},nextUntil:function(e,t,n){return i(e,"nextSibling",n)},prevUntil:function(e,t,n){return i(e,"previousSibling",n)},siblings:function(e){return W((e.parentNode||{}).firstChild,e)},children:function(e){return W(e.firstChild)},contents:function(e){return null!=e.contentDocument&&F(e.contentDocument)?e.contentDocument:(l(e,"template")&&(e=e.content||e),A.merge([],e.childNodes))}},function(i,r){A.fn[i]=function(e,t){var n=A.map(this,r,e);return(t="Until"!==i.slice(-5)?e:t)&&"string"==typeof t&&(n=A.filter(t,n)),1<this.length&&(ne[i]||A.uniqueSort(n),te.test(i))&&n.reverse(),this.pushStack(n)}});var w=/[^\x20\t\r\n\f]+/g;function d(e){return e}function re(e){throw e}function oe(e,t,n,i){var r;try{e&&v(r=e.promise)?r.call(e).done(t).fail(n):e&&v(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}A.Callbacks=function(i){var e,n;i="string"==typeof i?(e=i,n={},A.each(e.match(w)||[],function(e,t){n[t]=!0}),n):A.extend({},i);function r(){for(s=s||i.once,a=o=!0;u.length;d=-1)for(t=u.shift();++d<l.length;)!1===l[d].apply(t[0],t[1])&&i.stopOnFalse&&(d=l.length,t=!1);i.memory||(t=!1),o=!1,s&&(l=t?[]:"")}var o,t,a,s,l=[],u=[],d=-1,c={add:function(){return l&&(t&&!o&&(d=l.length-1,u.push(t)),function n(e){A.each(e,function(e,t){v(t)?i.unique&&c.has(t)||l.push(t):t&&t.length&&"string"!==h(t)&&n(t)})}(arguments),t)&&!o&&r(),this},remove:function(){return A.each(arguments,function(e,t){for(var n;-1<(n=A.inArray(t,l,n));)l.splice(n,1),n<=d&&d--}),this},has:function(e){return e?-1<A.inArray(e,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return s=u=[],l=t="",this},disabled:function(){return!l},lock:function(){return s=u=[],t||o||(l=t=""),this},locked:function(){return!!s},fireWith:function(e,t){return s||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),o)||r(),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!a}};return c},A.extend({Deferred:function(e){var o=[["notify","progress",A.Callbacks("memory"),A.Callbacks("memory"),2],["resolve","done",A.Callbacks("once memory"),A.Callbacks("once memory"),0,"resolved"],["reject","fail",A.Callbacks("once memory"),A.Callbacks("once memory"),1,"rejected"]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},catch:function(e){return a.then(null,e)},pipe:function(){var r=arguments;return A.Deferred(function(i){A.each(o,function(e,t){var n=v(r[t[4]])&&r[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&v(e.promise)?e.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[t[0]+"With"](this,n?[e]:arguments)})}),r=null}).promise()},then:function(t,n,i){var l=0;function u(r,o,a,s){return function(){function e(){var e,t;if(!(r<l)){if((e=a.apply(n,i))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,v(t)?s?t.call(e,u(l,o,d,s),u(l,o,re,s)):(l++,t.call(e,u(l,o,d,s),u(l,o,re,s),u(l,o,d,o.notifyWith))):(a!==d&&(n=void 0,i=[e]),(s||o.resolveWith)(n,i))}}var n=this,i=arguments,t=s?e:function(){try{e()}catch(e){A.Deferred.exceptionHook&&A.Deferred.exceptionHook(e,t.stackTrace),l<=r+1&&(a!==re&&(n=void 0,i=[e]),o.rejectWith(n,i))}};r?t():(A.Deferred.getStackHook&&(t.stackTrace=A.Deferred.getStackHook()),b.setTimeout(t))}}return A.Deferred(function(e){o[0][3].add(u(0,e,v(i)?i:d,e.notifyWith)),o[1][3].add(u(0,e,v(t)?t:d)),o[2][3].add(u(0,e,v(n)?n:re))}).promise()},promise:function(e){return null!=e?A.extend(e,a):a}},s={};return A.each(o,function(e,t){var n=t[2],i=t[5];a[t[1]]=n.add,i&&n.add(function(){r=i},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){function t(t){return function(e){r[t]=this,o[t]=1<arguments.length?s.call(arguments):e,--n||a.resolveWith(r,o)}}var n=arguments.length,i=n,r=Array(i),o=s.call(arguments),a=A.Deferred();if(n<=1&&(oe(e,a.done(t(i)).resolve,a.reject,!n),"pending"===a.state()||v(o[i]&&o[i].then)))return a.then();for(;i--;)oe(o[i],t(i),a.reject);return a.promise()}});var ae=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,se=(A.Deferred.exceptionHook=function(e,t){b.console&&b.console.warn&&e&&ae.test(e.name)&&b.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},A.readyException=function(e){b.setTimeout(function(){throw e})},A.Deferred());function le(){S.removeEventListener("DOMContentLoaded",le),b.removeEventListener("load",le),A.ready()}A.fn.ready=function(e){return se.then(e).catch(function(e){A.readyException(e)}),this},A.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--A.readyWait:A.isReady)||(A.isReady=!0)!==e&&0<--A.readyWait||se.resolveWith(S,[A])}}),A.ready.then=se.then,"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?b.setTimeout(A.ready):(S.addEventListener("DOMContentLoaded",le),b.addEventListener("load",le));function c(e,t,n,i,r,o,a){var s=0,l=e.length,u=null==n;if("object"===h(n))for(s in r=!0,n)c(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,v(i)||(a=!0),t=u?a?(t.call(e,i),null):(u=t,function(e,t,n){return u.call(A(e),n)}):t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:u?t.call(e):l?t(e[0],n):o}var ue=/^-ms-/,de=/-([a-z])/g;function ce(e,t){return t.toUpperCase()}function _(e){return e.replace(ue,"ms-").replace(de,ce)}function y(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function fe(){this.expando=A.expando+fe.uid++}fe.uid=1,fe.prototype={cache:function(e){var t=e[this.expando];return t||(t={},y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[_(t)]=n;else for(i in t)r[_(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][_(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(_):(t=_(t))in i?[t]:t.match(w)||[]).length;for(;n--;)delete i[t[n]]}void 0!==t&&!A.isEmptyObject(i)||(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){e=e[this.expando];return void 0!==e&&!A.isEmptyObject(e)}};var E=new fe,u=new fe,pe=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,he=/[A-Z]/g;function ge(e,t,n){var i,r;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(he,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===(r=n)||"false"!==r&&("null"===r?null:r===+r+""?+r:pe.test(r)?JSON.parse(r):r)}catch(e){}u.set(e,t,n)}else n=void 0;return n}A.extend({hasData:function(e){return u.hasData(e)||E.hasData(e)},data:function(e,t,n){return u.access(e,t,n)},removeData:function(e,t){u.remove(e,t)},_data:function(e,t,n){return E.access(e,t,n)},_removeData:function(e,t){E.remove(e,t)}}),A.fn.extend({data:function(n,e){var t,i,r,o=this[0],a=o&&o.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){u.set(this,n)}):c(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=u.get(o,n))||void 0!==(t=ge(o,n))?t:void 0;this.each(function(){u.set(this,n,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=u.get(o),1===o.nodeType)&&!E.get(o,"hasDataAttrs")){for(t=a.length;t--;)a[t]&&0===(i=a[t].name).indexOf("data-")&&(i=_(i.slice(5)),ge(o,i,r[i]));E.set(o,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){u.remove(this,e)})}}),A.extend({queue:function(e,t,n){var i;if(e)return i=E.get(e,t=(t||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=E.access(e,t,A.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=A.queue(e,t),i=n.length,r=n.shift(),o=A._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){A.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return E.get(e,n)||E.access(e,n,{empty:A.Callbacks("once memory").add(function(){E.remove(e,[t+"queue",n])})})}}),A.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?A.queue(this[0],t):void 0===n?this:this.each(function(){var e=A.queue(this,t,n);A._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&A.dequeue(this,t)})},dequeue:function(e){return this.each(function(){A.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function n(){--r||o.resolveWith(a,[a])}var i,r=1,o=A.Deferred(),a=this,s=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(i=E.get(a[s],e+"queueHooks"))&&i.empty&&(r++,i.empty.add(n));return n(),o.promise(t)}});function me(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&I(e)&&"none"===A.css(e,"display")}var e=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ye=new RegExp("^(?:([+-])=|)("+e+")([a-z%]*)$","i"),f=["Top","Right","Bottom","Left"],T=S.documentElement,I=function(e){return A.contains(e.ownerDocument,e)},ve={composed:!0};T.getRootNode&&(I=function(e){return A.contains(e.ownerDocument,e)||e.getRootNode(ve)===e.ownerDocument});function _e(e,t,n,i){var r,o,a=20,s=i?function(){return i.cur()}:function(){return A.css(e,t,"")},l=s(),u=n&&n[3]||(A.cssNumber[t]?"":"px"),d=e.nodeType&&(A.cssNumber[t]||"px"!==u&&+l)&&ye.exec(A.css(e,t));if(d&&d[3]!==u){for(u=u||d[3],d=+(l/=2)||1;a--;)A.style(e,t,d+u),(1-o)*(1-(o=s()/l||.5))<=0&&(a=0),d/=o;A.style(e,t,(d*=2)+u),n=n||[]}return n&&(d=+d||+l||0,r=n[1]?d+(n[1]+1)*n[2]:+n[2],i)&&(i.unit=u,i.start=d,i.end=r),r}var Ee={};function C(e,t){for(var n,i,r,o,a,s,l=[],u=0,d=e.length;u<d;u++)(i=e[u]).style&&(n=i.style.display,t?("none"===n&&(l[u]=E.get(i,"display")||null,l[u]||(i.style.display="")),""===i.style.display&&me(i)&&(l[u]=(s=o=r=void 0,o=i.ownerDocument,a=i.nodeName,(s=Ee[a])||(r=o.body.appendChild(o.createElement(a)),s=A.css(r,"display"),r.parentNode.removeChild(r),Ee[a]=s="none"===s?"block":s)))):"none"!==n&&(l[u]="none",E.set(i,"display",n)));for(u=0;u<d;u++)null!=l[u]&&(e[u].style.display=l[u]);return e}A.fn.extend({show:function(){return C(this,!0)},hide:function(){return C(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){me(this)?A(this).show():A(this).hide()})}});var Te=/^(?:checkbox|radio)$/i,be=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Se=/^$|^module$|\/(?:java|ecma)script/i,n=S.createDocumentFragment().appendChild(S.createElement("div")),R=((o=S.createElement("input")).setAttribute("type","radio"),o.setAttribute("checked","checked"),o.setAttribute("name","t"),n.appendChild(o),m.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,n.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue,n.innerHTML="<option></option>",m.option=!!n.lastChild,{thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]});function D(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&l(e,t)?A.merge([e],n):n}function Ae(e,t){for(var n=0,i=e.length;n<i;n++)E.set(e[n],"globalEval",!t||E.get(t[n],"globalEval"))}R.tbody=R.tfoot=R.colgroup=R.caption=R.thead,R.th=R.td,m.option||(R.optgroup=R.option=[1,"<select multiple='multiple'>","</select>"]);var we=/<|&#?\w+;/;function Ie(e,t,n,i,r){for(var o,a,s,l,u,d=t.createDocumentFragment(),c=[],f=0,p=e.length;f<p;f++)if((o=e[f])||0===o)if("object"===h(o))A.merge(c,o.nodeType?[o]:o);else if(we.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(be.exec(o)||["",""])[1].toLowerCase(),s=R[s]||R._default,a.innerHTML=s[1]+A.htmlPrefilter(o)+s[2],u=s[0];u--;)a=a.lastChild;A.merge(c,a.childNodes),(a=d.firstChild).textContent=""}else c.push(t.createTextNode(o));for(d.textContent="",f=0;o=c[f++];)if(i&&-1<A.inArray(o,i))r&&r.push(o);else if(l=I(o),a=D(d.appendChild(o),"script"),l&&Ae(a),n)for(u=0;o=a[u++];)Se.test(o.type||"")&&n.push(o);return d}var Ce=/^([^.]*)(?:\.(.+)|)/;function a(){return!0}function p(){return!1}function Re(e,t){return e===function(){try{return S.activeElement}catch(e){}}()==("focus"===t)}function De(e,t,n,i,r,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(i=i||n,n=void 0),t)De(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=p;else if(!r)return e;return 1===o&&(a=r,(r=function(e){return A().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=A.guid++)),e.each(function(){A.event.add(this,t,r,i,n)})}function Ne(e,r,o){o?(E.set(e,r,!1),A.event.add(e,r,{namespace:!1,handler:function(e){var t,n,i=E.get(this,r);if(1&e.isTrigger&&this[r]){if(i.length)(A.event.special[r]||{}).delegateType&&e.stopPropagation();else if(i=s.call(arguments),E.set(this,r,i),t=o(this,r),this[r](),i!==(n=E.get(this,r))||t?E.set(this,r,!1):n={},i!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else i.length&&(E.set(this,r,{value:A.event.trigger(A.extend(i[0],A.Event.prototype),i.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===E.get(e,r)&&A.event.add(e,r,a)}A.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,u,d,c,f,p,h=E.get(t);if(y(t))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&A.find.matchesSelector(T,r),n.guid||(n.guid=A.guid++),s=(s=h.events)||(h.events=Object.create(null)),a=(a=h.handle)||(h.handle=function(e){return void 0!==A&&A.event.triggered!==e.type?A.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(w)||[""]).length;l--;)c=p=(f=Ce.exec(e[l])||[])[1],f=(f[2]||"").split(".").sort(),c&&(u=A.event.special[c]||{},c=(r?u.delegateType:u.bindType)||c,u=A.event.special[c]||{},p=A.extend({type:c,origType:p,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&A.expr.match.needsContext.test(r),namespace:f.join(".")},o),(d=s[c])||((d=s[c]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,i,f,a))||t.addEventListener&&t.addEventListener(c,a),u.add&&(u.add.call(t,p),p.handler.guid||(p.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,p):d.push(p),A.event.global[c]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,u,d,c,f,p,h,g,m=E.hasData(e)&&E.get(e);if(m&&(l=m.events)){for(u=(t=(t||"").match(w)||[""]).length;u--;)if(p=g=(s=Ce.exec(t[u])||[])[1],h=(s[2]||"").split(".").sort(),p){for(c=A.event.special[p]||{},f=l[p=(i?c.delegateType:c.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)d=f[o],!r&&g!==d.origType||n&&n.guid!==d.guid||s&&!s.test(d.namespace)||i&&i!==d.selector&&("**"!==i||!d.selector)||(f.splice(o,1),d.selector&&f.delegateCount--,c.remove&&c.remove.call(e,d));a&&!f.length&&(c.teardown&&!1!==c.teardown.call(e,h,m.handle)||A.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)A.event.remove(e,p+t[u],n,i,!0);A.isEmptyObject(l)&&E.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,a=new Array(arguments.length),s=A.event.fix(e),e=(E.get(this,"events")||Object.create(null))[s.type]||[],l=A.event.special[s.type]||{};for(a[0]=s,t=1;t<arguments.length;t++)a[t]=arguments[t];if(s.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,s)){for(o=A.event.handlers.call(this,s,e),t=0;(i=o[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(r=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!1!==r.namespace&&!s.rnamespace.test(r.namespace)||(s.handleObj=r,s.data=r.data,void 0!==(r=((A.event.special[r.origType]||{}).handle||r.handler).apply(i.elem,a))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,i,r,o,a,s=[],l=t.delegateCount,u=e.target;if(l&&u.nodeType&&!("click"===e.type&&1<=e.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==e.type||!0!==u.disabled)){for(o=[],a={},n=0;n<l;n++)void 0===a[r=(i=t[n]).selector+" "]&&(a[r]=i.needsContext?-1<A(r,this).index(u):A.find(r,this,null,[u]).length),a[r]&&o.push(i);o.length&&s.push({elem:u,handlers:o})}return u=this,l<t.length&&s.push({elem:u,handlers:t.slice(l)}),s},addProp:function(t,e){Object.defineProperty(A.Event.prototype,t,{enumerable:!0,configurable:!0,get:v(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[A.expando]?e:new A.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){e=this||e;return Te.test(e.type)&&e.click&&l(e,"input")&&Ne(e,"click",a),!1},trigger:function(e){e=this||e;return Te.test(e.type)&&e.click&&l(e,"input")&&Ne(e,"click"),!0},_default:function(e){e=e.target;return Te.test(e.type)&&e.click&&l(e,"input")&&E.get(e,"click")||l(e,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},A.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},A.Event=function(e,t){if(!(this instanceof A.Event))return new A.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?a:p,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&A.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[A.expando]=!0},A.Event.prototype={constructor:A.Event,isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=a,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=a,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=a,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},A.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},A.event.addProp),A.each({focus:"focusin",blur:"focusout"},function(t,e){A.event.special[t]={setup:function(){return Ne(this,t,Re),!1},trigger:function(){return Ne(this,t),!0},_default:function(e){return E.get(e.target,t)},delegateType:e}}),A.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){A.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||A.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=r),t}}}),A.fn.extend({on:function(e,t,n,i){return De(this,e,t,n,i)},one:function(e,t,n,i){return De(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)i=e.handleObj,A(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler);else{if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=p),this.each(function(){A.event.remove(this,e,n,t)});for(r in e)this.off(r,t,e[r])}return this}});var Me=/<script|<style|<link/i,Oe=/checked\s*(?:[^=]|=\s*.checked.)/i,xe=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Pe(e,t){return l(e,"table")&&l(11!==t.nodeType?t:t.firstChild,"tr")&&A(e).children("tbody")[0]||e}function Le(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ke(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Fe(e,t){var n,i,r,o;if(1===t.nodeType){if(E.hasData(e)&&(o=E.get(e).events))for(r in E.remove(t,"handle events"),o)for(n=0,i=o[r].length;n<i;n++)A.event.add(t,r,o[r][n]);u.hasData(e)&&(e=u.access(e),e=A.extend({},e),u.set(t,e))}}function N(n,i,r,o){i=B(i);var e,t,a,s,l,u,d=0,c=n.length,f=c-1,p=i[0],h=v(p);if(h||1<c&&"string"==typeof p&&!m.checkClone&&Oe.test(p))return n.each(function(e){var t=n.eq(e);h&&(i[0]=p.call(this,e,t.html())),N(t,i,r,o)});if(c&&(t=(e=Ie(i,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=A.map(D(e,"script"),Le)).length;d<c;d++)l=e,d!==f&&(l=A.clone(l,!0,!0),s)&&A.merge(a,D(l,"script")),r.call(n[d],l,d);if(s)for(u=a[a.length-1].ownerDocument,A.map(a,ke),d=0;d<s;d++)l=a[d],Se.test(l.type||"")&&!E.access(l,"globalEval")&&A.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?A._evalUrl&&!l.noModule&&A._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):V(l.textContent.replace(xe,""),l,u))}return n}function Be(e,t,n){for(var i,r=t?A.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||A.cleanData(D(i)),i.parentNode&&(n&&I(i)&&Ae(D(i,"script")),i.parentNode.removeChild(i));return e}A.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,o,a,s,l,u,d=e.cloneNode(!0),c=I(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||A.isXMLDoc(e)))for(a=D(d),i=0,r=(o=D(e)).length;i<r;i++)s=o[i],"input"===(u=(l=a[i]).nodeName.toLowerCase())&&Te.test(s.type)?l.checked=s.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=s.defaultValue);if(t)if(n)for(o=o||D(e),a=a||D(d),i=0,r=o.length;i<r;i++)Fe(o[i],a[i]);else Fe(e,d);return 0<(a=D(d,"script")).length&&Ae(a,!c&&D(e,"script")),d},cleanData:function(e){for(var t,n,i,r=A.event.special,o=0;void 0!==(n=e[o]);o++)if(y(n)){if(t=n[E.expando]){if(t.events)for(i in t.events)r[i]?A.event.remove(n,i):A.removeEvent(n,i,t.handle);n[E.expando]=void 0}n[u.expando]&&(n[u.expando]=void 0)}}}),A.fn.extend({detach:function(e){return Be(this,e,!0)},remove:function(e){return Be(this,e)},text:function(e){return c(this,function(e){return void 0===e?A.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return N(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Pe(this,e).appendChild(e)})},prepend:function(){return N(this,arguments,function(e){var t;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(t=Pe(this,e)).insertBefore(e,t.firstChild)})},before:function(){return N(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return N(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(A.cleanData(D(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return A.clone(this,e,t)})},html:function(e){return c(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Me.test(e)&&!R[(be.exec(e)||["",""])[1].toLowerCase()]){e=A.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(A.cleanData(D(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return N(this,arguments,function(e){var t=this.parentNode;A.inArray(this,n)<0&&(A.cleanData(D(this)),t)&&t.replaceChild(e,this)},n)}}),A.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){A.fn[e]=function(e){for(var t,n=[],i=A(e),r=i.length-1,o=0;o<=r;o++)t=o===r?this:this.clone(!0),A(i[o])[a](t),U.apply(n,t.get());return this.pushStack(n)}});function Ue(e){var t=e.ownerDocument.defaultView;return(t=t&&t.opener?t:b).getComputedStyle(e)}function je(e,t,n){var i,r={};for(i in t)r[i]=e.style[i],e.style[i]=t[i];for(i in n=n.call(e),t)e.style[i]=r[i];return n}var He,Ge,Ke,qe,$e,Ye,Ve,r,ze=new RegExp("^("+e+")(?!px)[a-z%]+$","i"),We=/^--/,Xe=new RegExp(f.join("|"),"i"),o="[\\x20\\t\\r\\n\\f]",Qe=new RegExp("^"+o+"+|((?:^|[^\\\\])(?:\\\\.)*)"+o+"+$","g");function Je(e,t,n){var i,r=We.test(t),o=e.style;return(n=n||Ue(e))&&(i=n.getPropertyValue(t)||n[t],""!==(i=r?i&&(i.replace(Qe,"$1")||void 0):i)||I(e)||(i=A.style(e,t)),!m.pixelBoxStyles())&&ze.test(i)&&Xe.test(t)&&(r=o.width,e=o.minWidth,t=o.maxWidth,o.minWidth=o.maxWidth=o.width=i,i=n.width,o.width=r,o.minWidth=e,o.maxWidth=t),void 0!==i?i+"":i}function Ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}function et(){var e;r&&(Ve.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",r.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",T.appendChild(Ve).appendChild(r),e=b.getComputedStyle(r),He="1%"!==e.top,Ye=12===tt(e.marginLeft),r.style.right="60%",qe=36===tt(e.right),Ge=36===tt(e.width),r.style.position="absolute",Ke=12===tt(r.offsetWidth/3),T.removeChild(Ve),r=null)}function tt(e){return Math.round(parseFloat(e))}Ve=S.createElement("div"),(r=S.createElement("div")).style&&(r.style.backgroundClip="content-box",r.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===r.style.backgroundClip,A.extend(m,{boxSizingReliable:function(){return et(),Ge},pixelBoxStyles:function(){return et(),qe},pixelPosition:function(){return et(),He},reliableMarginLeft:function(){return et(),Ye},scrollboxSize:function(){return et(),Ke},reliableTrDimensions:function(){var e,t,n;return null==$e&&(e=S.createElement("table"),t=S.createElement("tr"),n=S.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",T.appendChild(e).appendChild(t).appendChild(n),n=b.getComputedStyle(t),$e=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===t.offsetHeight,T.removeChild(e)),$e}}));var nt=["Webkit","Moz","ms"],it=S.createElement("div").style,rt={};function ot(e){return A.cssProps[e]||rt[e]||(e in it?e:rt[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=nt.length;n--;)if((e=nt[n]+t)in it)return e}(e)||e)}var at=/^(none|table(?!-c[ea]).+)/,st={position:"absolute",visibility:"hidden",display:"block"},lt={letterSpacing:"0",fontWeight:"400"};function ut(e,t,n){var i=ye.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function dt(e,t,n,i,r,o){var a="width"===t?1:0,s=0,l=0;if(n===(i?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=A.css(e,n+f[a],!0,r)),i?("content"===n&&(l-=A.css(e,"padding"+f[a],!0,r)),"margin"!==n&&(l-=A.css(e,"border"+f[a]+"Width",!0,r))):(l+=A.css(e,"padding"+f[a],!0,r),"padding"!==n?l+=A.css(e,"border"+f[a]+"Width",!0,r):s+=A.css(e,"border"+f[a]+"Width",!0,r));return!i&&0<=o&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-s-.5))||0),l}function ct(e,t,n){var i=Ue(e),r=(!m.boxSizingReliable()||n)&&"border-box"===A.css(e,"boxSizing",!1,i),o=r,a=Je(e,t,i),s="offset"+t[0].toUpperCase()+t.slice(1);if(ze.test(a)){if(!n)return a;a="auto"}return(!m.boxSizingReliable()&&r||!m.reliableTrDimensions()&&l(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===A.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===A.css(e,"boxSizing",!1,i),o=s in e)&&(a=e[s]),(a=parseFloat(a)||0)+dt(e,t,n||(r?"border":"content"),o,i,a)+"px"}function M(e,t,n,i,r){return new M.prototype.init(e,t,n,i,r)}A.extend({cssHooks:{opacity:{get:function(e,t){if(t)return""===(t=Je(e,"opacity"))?"1":t}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=_(t),l=We.test(t),u=e.style;if(l||(t=ot(s)),a=A.cssHooks[t]||A.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:u[t];"string"==(o=typeof n)&&(r=ye.exec(n))&&r[1]&&(n=_e(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(A.cssNumber[s]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l?u.setProperty(t,n):u[t]=n))}},css:function(e,t,n,i){var r,o=_(t);return We.test(t)||(t=ot(o)),"normal"===(r=void 0===(r=(o=A.cssHooks[t]||A.cssHooks[o])&&"get"in o?o.get(e,!0,n):r)?Je(e,t,i):r)&&t in lt&&(r=lt[t]),(""===n||n)&&(o=parseFloat(r),!0===n||isFinite(o))?o||0:r}}),A.each(["height","width"],function(e,a){A.cssHooks[a]={get:function(e,t,n){if(t)return!at.test(A.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?ct(e,a,n):je(e,st,function(){return ct(e,a,n)})},set:function(e,t,n){var i=Ue(e),r=!m.scrollboxSize()&&"absolute"===i.position,o=(r||n)&&"border-box"===A.css(e,"boxSizing",!1,i),n=n?dt(e,a,n,o,i):0;return o&&r&&(n-=Math.ceil(e["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(i[a])-dt(e,a,"border",!1,i)-.5)),n&&(o=ye.exec(t))&&"px"!==(o[3]||"px")&&(e.style[a]=t,t=A.css(e,a)),ut(0,t,n)}}}),A.cssHooks.marginLeft=Ze(m.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Je(e,"marginLeft"))||e.getBoundingClientRect().left-je(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),A.each({margin:"",padding:"",border:"Width"},function(r,o){A.cssHooks[r+o]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+f[t]+o]=i[t]||i[t-2]||i[0];return n}},"margin"!==r&&(A.cssHooks[r+o].set=ut)}),A.fn.extend({css:function(e,t){return c(this,function(e,t,n){var i,r,o={},a=0;if(Array.isArray(t)){for(i=Ue(e),r=t.length;a<r;a++)o[t[a]]=A.css(e,t[a],!1,i);return o}return void 0!==n?A.style(e,t,n):A.css(e,t)},e,t,1<arguments.length)}}),((A.Tween=M).prototype={constructor:M,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||A.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(A.cssNumber[n]?"":"px")},cur:function(){var e=M.propHooks[this.prop];return(e&&e.get?e:M.propHooks._default).get(this)},run:function(e){var t,n=M.propHooks[this.prop];return this.options.duration?this.pos=t=A.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:M.propHooks._default).set(this),this}}).init.prototype=M.prototype,(M.propHooks={_default:{get:function(e){return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(e=A.css(e.elem,e.prop,""))&&"auto"!==e?e:0},set:function(e){A.fx.step[e.prop]?A.fx.step[e.prop](e):1!==e.elem.nodeType||!A.cssHooks[e.prop]&&null==e.elem.style[ot(e.prop)]?e.elem[e.prop]=e.now:A.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=M.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},A.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},A.fx=M.prototype.init,A.fx.step={};var O,ft,pt=/^(?:toggle|show|hide)$/,ht=/queueHooks$/;function gt(){ft&&(!1===S.hidden&&b.requestAnimationFrame?b.requestAnimationFrame(gt):b.setTimeout(gt,A.fx.interval),A.fx.tick())}function mt(){return b.setTimeout(function(){O=void 0}),O=Date.now()}function yt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=f[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function vt(e,t,n){for(var i,r=(x.tweeners[t]||[]).concat(x.tweeners["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function x(r,e,t){var n,o,i,a,s,l,u,d=0,c=x.prefilters.length,f=A.Deferred().always(function(){delete p.elem}),p=function(){if(o)return!1;for(var e=O||mt(),e=Math.max(0,h.startTime+h.duration-e),t=1-(e/h.duration||0),n=0,i=h.tweens.length;n<i;n++)h.tweens[n].run(t);return f.notifyWith(r,[h,t,e]),t<1&&i?e:(i||f.notifyWith(r,[h,1,0]),f.resolveWith(r,[h]),!1)},h=f.promise({elem:r,props:A.extend({},e),opts:A.extend(!0,{specialEasing:{},easing:A.easing._default},t),originalProperties:e,originalOptions:t,startTime:O||mt(),duration:t.duration,tweens:[],createTween:function(e,t){t=A.Tween(r,h.opts,e,t,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(t),t},stop:function(e){var t=0,n=e?h.tweens.length:0;if(!o){for(o=!0;t<n;t++)h.tweens[t].run(1);e?(f.notifyWith(r,[h,1,0]),f.resolveWith(r,[h,e])):f.rejectWith(r,[h,e])}return this}}),g=h.props,m=g,y=h.opts.specialEasing;for(i in m)if(s=y[a=_(i)],l=m[i],Array.isArray(l)&&(s=l[1],l=m[i]=l[0]),i!==a&&(m[a]=l,delete m[i]),(u=A.cssHooks[a])&&"expand"in u)for(i in l=u.expand(l),delete m[a],l)i in m||(m[i]=l[i],y[i]=s);else y[a]=s;for(;d<c;d++)if(n=x.prefilters[d].call(h,r,g,h.opts))return v(n.stop)&&(A._queueHooks(h.elem,h.opts.queue).stop=n.stop.bind(n)),n;return A.map(g,vt,h),v(h.opts.start)&&h.opts.start.call(r,h),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always),A.fx.timer(A.extend(p,{elem:r,anim:h,queue:h.opts.queue})),h}A.Animation=A.extend(x,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return _e(n.elem,e,ye.exec(t),n),n}]},tweener:function(e,t){for(var n,i=0,r=(e=v(e)?(t=e,["*"]):e.match(w)).length;i<r;i++)n=e[i],x.tweeners[n]=x.tweeners[n]||[],x.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,a,s,l,u,d="width"in t||"height"in t,c=this,f={},p=e.style,h=e.nodeType&&me(e),g=E.get(e,"fxshow");for(i in n.queue||(null==(a=A._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,A.queue(e,"fx").length||a.empty.fire()})})),t)if(r=t[i],pt.test(r)){if(delete t[i],o=o||"toggle"===r,r===(h?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;h=!0}f[i]=g&&g[i]||A.style(e,i)}if((l=!A.isEmptyObject(t))||!A.isEmptyObject(f))for(i in d&&1===e.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=g&&g.display)&&(u=E.get(e,"display")),"none"===(d=A.css(e,"display"))&&(u?d=u:(C([e],!0),u=e.style.display||u,d=A.css(e,"display"),C([e]))),"inline"===d||"inline-block"===d&&null!=u)&&"none"===A.css(e,"float")&&(l||(c.done(function(){p.display=u}),null==u&&(d=p.display,u="none"===d?"":d)),p.display="inline-block"),n.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,f)l||(g?"hidden"in g&&(h=g.hidden):g=E.access(e,"fxshow",{display:u}),o&&(g.hidden=!h),h&&C([e],!0),c.done(function(){for(i in h||C([e]),E.remove(e,"fxshow"),f)A.style(e,i,f[i])})),l=vt(h?g[i]:0,i,c),i in g||(g[i]=l.start,h&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?x.prefilters.unshift(e):x.prefilters.push(e)}}),A.speed=function(e,t,n){var i=e&&"object"==typeof e?A.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return A.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in A.fx.speeds?i.duration=A.fx.speeds[i.duration]:i.duration=A.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&A.dequeue(this,i.queue)},i},A.fn.extend({fadeTo:function(e,t,n,i){return this.filter(me).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){function r(){var e=x(this,A.extend({},t),a);(o||E.get(this,"finish"))&&e.stop(!0)}var o=A.isEmptyObject(t),a=A.speed(e,n,i);return r.finish=r,o||!1===a.queue?this.each(r):this.queue(a.queue,r)},stop:function(r,e,o){function a(e){var t=e.stop;delete e.stop,t(o)}return"string"!=typeof r&&(o=e,e=r,r=void 0),e&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=A.timers,i=E.get(this);if(t)i[t]&&i[t].stop&&a(i[t]);else for(t in i)i[t]&&i[t].stop&&ht.test(t)&&a(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||A.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=E.get(this),n=t[a+"queue"],i=t[a+"queueHooks"],r=A.timers,o=n?n.length:0;for(t.finish=!0,A.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===a&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),A.each(["toggle","show","hide"],function(e,i){var r=A.fn[i];A.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(yt(i,!0),e,t,n)}}),A.each({slideDown:yt("show"),slideUp:yt("hide"),slideToggle:yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){A.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),A.timers=[],A.fx.tick=function(){var e,t=0,n=A.timers;for(O=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||A.fx.stop(),O=void 0},A.fx.timer=function(e){A.timers.push(e),A.fx.start()},A.fx.interval=13,A.fx.start=function(){ft||(ft=!0,gt())},A.fx.stop=function(){ft=null},A.fx.speeds={slow:600,fast:200,_default:400},A.fn.delay=function(i,e){return i=A.fx&&A.fx.speeds[i]||i,this.queue(e=e||"fx",function(e,t){var n=b.setTimeout(e,i);t.stop=function(){b.clearTimeout(n)}})},n=S.createElement("input"),e=S.createElement("select").appendChild(S.createElement("option")),n.type="checkbox",m.checkOn=""!==n.value,m.optSelected=e.selected,(n=S.createElement("input")).value="t",n.type="radio",m.radioValue="t"===n.value;var _t,Et=A.expr.attrHandle,Tt=(A.fn.extend({attr:function(e,t){return c(this,A.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){A.removeAttr(this,e)})}}),A.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?A.prop(e,t,n):(1===o&&A.isXMLDoc(e)||(r=A.attrHooks[t.toLowerCase()]||(A.expr.match.bool.test(t)?_t:void 0)),void 0!==n?null===n?void A.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):!(r&&"get"in r&&null!==(i=r.get(e,t)))&&null==(i=A.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){var n;if(!m.radioValue&&"radio"===t&&l(e,"input"))return n=e.value,e.setAttribute("type",t),n&&(e.value=n),t}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(w);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),_t={set:function(e,t,n){return!1===t?A.removeAttr(e,n):e.setAttribute(n,n),n}},A.each(A.expr.match.bool.source.match(/\w+/g),function(e,t){var a=Et[t]||A.find.attr;Et[t]=function(e,t,n){var i,r,o=t.toLowerCase();return n||(r=Et[o],Et[o]=i,i=null!=a(e,t,n)?o:null,Et[o]=r),i}}),/^(?:input|select|textarea|button)$/i),bt=/^(?:a|area)$/i;function P(e){return(e.match(w)||[]).join(" ")}function L(e){return e.getAttribute&&e.getAttribute("class")||""}function St(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(w)||[]}A.fn.extend({prop:function(e,t){return c(this,A.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[A.propFix[e]||e]})}}),A.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&A.isXMLDoc(e)||(t=A.propFix[t]||t,r=A.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=A.find.attr(e,"tabindex");return t?parseInt(t,10):Tt.test(e.nodeName)||bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(A.propHooks.selected={get:function(e){e=e.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(e){e=e.parentNode;e&&(e.selectedIndex,e.parentNode)&&e.parentNode.selectedIndex}}),A.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){A.propFix[this.toLowerCase()]=this}),A.fn.extend({addClass:function(t){var e,n,i,r,o,a;return v(t)?this.each(function(e){A(this).addClass(t.call(this,e,L(this)))}):(e=St(t)).length?this.each(function(){if(i=L(this),n=1===this.nodeType&&" "+P(i)+" "){for(o=0;o<e.length;o++)r=e[o],n.indexOf(" "+r+" ")<0&&(n+=r+" ");a=P(n),i!==a&&this.setAttribute("class",a)}}):this},removeClass:function(t){var e,n,i,r,o,a;return v(t)?this.each(function(e){A(this).removeClass(t.call(this,e,L(this)))}):arguments.length?(e=St(t)).length?this.each(function(){if(i=L(this),n=1===this.nodeType&&" "+P(i)+" "){for(o=0;o<e.length;o++)for(r=e[o];-1<n.indexOf(" "+r+" ");)n=n.replace(" "+r+" "," ");a=P(n),i!==a&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(t,n){var e,i,r,o,a=typeof t,s="string"==a||Array.isArray(t);return v(t)?this.each(function(e){A(this).toggleClass(t.call(this,e,L(this),n),n)}):"boolean"==typeof n&&s?n?this.addClass(t):this.removeClass(t):(e=St(t),this.each(function(){if(s)for(o=A(this),r=0;r<e.length;r++)i=e[r],o.hasClass(i)?o.removeClass(i):o.addClass(i);else void 0!==t&&"boolean"!=a||((i=L(this))&&E.set(this,"__className__",i),this.setAttribute&&this.setAttribute("class",!i&&!1!==t&&E.get(this,"__className__")||""))}))},hasClass:function(e){for(var t,n=0,i=" "+e+" ";t=this[n++];)if(1===t.nodeType&&-1<(" "+P(L(t))+" ").indexOf(i))return!0;return!1}});function At(e){e.stopPropagation()}var wt=/\r/g,It=(A.fn.extend({val:function(t){var n,e,i,r=this[0];return arguments.length?(i=v(t),this.each(function(e){1===this.nodeType&&(null==(e=i?t.call(this,e,A(this).val()):t)?e="":"number"==typeof e?e+="":Array.isArray(e)&&(e=A.map(e,function(e){return null==e?"":e+""})),(n=A.valHooks[this.type]||A.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,e,"value")||(this.value=e))})):r?(n=A.valHooks[r.type]||A.valHooks[r.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(r,"value"))?e:"string"==typeof(e=r.value)?e.replace(wt,""):null==e?"":e:void 0}}),A.extend({valHooks:{option:{get:function(e){var t=A.find.attr(e,"value");return null!=t?t:P(A.text(e))}},select:{get:function(e){for(var t,n=e.options,i=e.selectedIndex,r="select-one"===e.type,o=r?null:[],a=r?i+1:n.length,s=i<0?a:r?i:0;s<a;s++)if(((t=n[s]).selected||s===i)&&!t.disabled&&(!t.parentNode.disabled||!l(t.parentNode,"optgroup"))){if(t=A(t).val(),r)return t;o.push(t)}return o},set:function(e,t){for(var n,i,r=e.options,o=A.makeArray(t),a=r.length;a--;)((i=r[a]).selected=-1<A.inArray(A.valHooks.option.get(i),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),A.each(["radio","checkbox"],function(){A.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<A.inArray(A(e).val(),t)}},m.checkOn||(A.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),m.focusin="onfocusin"in b,/^(?:focusinfocus|focusoutblur)$/),Ct=(A.extend(A.event,{trigger:function(e,t,n,i){var r,o,a,s,l,u,d,c=[n||S],f=K.call(e,"type")?e.type:e,p=K.call(e,"namespace")?e.namespace.split("."):[],h=d=o=n=n||S;if(3!==n.nodeType&&8!==n.nodeType&&!It.test(f+A.event.triggered)&&(-1<f.indexOf(".")&&(f=(p=f.split(".")).shift(),p.sort()),s=f.indexOf(":")<0&&"on"+f,(e=e[A.expando]?e:new A.Event(f,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:A.makeArray(t,[e]),u=A.event.special[f]||{},i||!u.trigger||!1!==u.trigger.apply(n,t))){if(!i&&!u.noBubble&&!g(n)){for(a=u.delegateType||f,It.test(a+f)||(h=h.parentNode);h;h=h.parentNode)c.push(h),o=h;o===(n.ownerDocument||S)&&c.push(o.defaultView||o.parentWindow||b)}for(r=0;(h=c[r++])&&!e.isPropagationStopped();)d=h,e.type=1<r?a:u.bindType||f,(l=(E.get(h,"events")||Object.create(null))[e.type]&&E.get(h,"handle"))&&l.apply(h,t),(l=s&&h[s])&&l.apply&&y(h)&&(e.result=l.apply(h,t),!1===e.result)&&e.preventDefault();return e.type=f,i||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(c.pop(),t)||!y(n)||s&&v(n[f])&&!g(n)&&((o=n[s])&&(n[s]=null),A.event.triggered=f,e.isPropagationStopped()&&d.addEventListener(f,At),n[f](),e.isPropagationStopped()&&d.removeEventListener(f,At),A.event.triggered=void 0,o)&&(n[s]=o),e.result}},simulate:function(e,t,n){n=A.extend(new A.Event,n,{type:e,isSimulated:!0});A.event.trigger(n,null,t)}}),A.fn.extend({trigger:function(e,t){return this.each(function(){A.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return A.event.trigger(e,t,n,!0)}}),m.focusin||A.each({focus:"focusin",blur:"focusout"},function(n,i){function r(e){A.event.simulate(i,e.target,A.event.fix(e))}A.event.special[i]={setup:function(){var e=this.ownerDocument||this.document||this,t=E.access(e,i);t||e.addEventListener(n,r,!0),E.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=E.access(e,i)-1;t?E.access(e,i,t):(e.removeEventListener(n,r,!0),E.remove(e,i))}}}),b.location),Rt={guid:Date.now()},Dt=/\?/,Nt=(A.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new b.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||A.error("Invalid XML: "+(n?A.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t},/\[\]$/),Mt=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,xt=/^(?:input|select|textarea|keygen)/i;A.param=function(e,t){function n(e,t){t=v(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==t?"":t)}var i,r=[];if(null==e)return"";if(Array.isArray(e)||e.jquery&&!A.isPlainObject(e))A.each(e,function(){n(this.name,this.value)});else for(i in e)!function n(i,e,r,o){if(Array.isArray(e))A.each(e,function(e,t){r||Nt.test(i)?o(i,t):n(i+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,o)});else if(r||"object"!==h(e))o(i,e);else for(var t in e)n(i+"["+t+"]",e[t],r,o)}(i,e[i],t,n);return r.join("&")},A.fn.extend({serialize:function(){return A.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=A.prop(this,"elements");return e?A.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!A(this).is(":disabled")&&xt.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!Te.test(e))}).map(function(e,t){var n=A(this).val();return null==n?null:Array.isArray(n)?A.map(n,function(e){return{name:t.name,value:e.replace(Mt,"\r\n")}}):{name:t.name,value:n.replace(Mt,"\r\n")}}).get()}});var Pt=/%20/g,Lt=/#.*$/,kt=/([?&])_=[^&]*/,Ft=/^(.*?):[ \t]*([^\r\n]*)$/gm,Bt=/^(?:GET|HEAD)$/,Ut=/^\/\//,jt={},Ht={},Gt="*/".concat("*"),Kt=S.createElement("a");function qt(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,r=e.toLowerCase().match(w)||[];if(v(t))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function $t(t,i,r,o){var a={},s=t===Ht;function l(e){var n;return a[e]=!0,A.each(t[e]||[],function(e,t){t=t(i,r,o);return"string"!=typeof t||s||a[t]?s?!(n=t):void 0:(i.dataTypes.unshift(t),l(t),!1)}),n}return l(i.dataTypes[0])||!a["*"]&&l("*")}function Yt(e,t){var n,i,r=A.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i=i||{})[n]=t[n]);return i&&A.extend(!0,e,i),e}Kt.href=Ct.href,A.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ct.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ct.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Gt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":A.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Yt(Yt(e,A.ajaxSettings),t):Yt(A.ajaxSettings,e)},ajaxPrefilter:qt(jt),ajaxTransport:qt(Ht),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var l,u,d,n,c,f,p,i,r,h=A.ajaxSetup({},t=t||{}),g=h.context||h,m=h.context&&(g.nodeType||g.jquery)?A(g):A.event,y=A.Deferred(),v=A.Callbacks("once memory"),_=h.statusCode||{},o={},a={},s="canceled",E={readyState:0,getResponseHeader:function(e){var t;if(f){if(!n)for(n={};t=Ft.exec(d);)n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return f?d:null},setRequestHeader:function(e,t){return null==f&&(e=a[e.toLowerCase()]=a[e.toLowerCase()]||e,o[e]=t),this},overrideMimeType:function(e){return null==f&&(h.mimeType=e),this},statusCode:function(e){if(e)if(f)E.always(e[E.status]);else for(var t in e)_[t]=[_[t],e[t]];return this},abort:function(e){e=e||s;return l&&l.abort(e),T(0,e),this}};if(y.promise(E),h.url=((e||h.url||Ct.href)+"").replace(Ut,Ct.protocol+"//"),h.type=t.method||t.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(w)||[""],null==h.crossDomain){r=S.createElement("a");try{r.href=h.url,r.href=r.href,h.crossDomain=Kt.protocol+"//"+Kt.host!=r.protocol+"//"+r.host}catch(e){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=A.param(h.data,h.traditional)),$t(jt,h,t,E),!f){for(i in(p=A.event&&h.global)&&0==A.active++&&A.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Bt.test(h.type),u=h.url.replace(Lt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Pt,"+")):(r=h.url.slice(u.length),h.data&&(h.processData||"string"==typeof h.data)&&(u+=(Dt.test(u)?"&":"?")+h.data,delete h.data),!1===h.cache&&(u=u.replace(kt,"$1"),r=(Dt.test(u)?"&":"?")+"_="+Rt.guid+++r),h.url=u+r),h.ifModified&&(A.lastModified[u]&&E.setRequestHeader("If-Modified-Since",A.lastModified[u]),A.etag[u])&&E.setRequestHeader("If-None-Match",A.etag[u]),(h.data&&h.hasContent&&!1!==h.contentType||t.contentType)&&E.setRequestHeader("Content-Type",h.contentType),E.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Gt+"; q=0.01":""):h.accepts["*"]),h.headers)E.setRequestHeader(i,h.headers[i]);if(h.beforeSend&&(!1===h.beforeSend.call(g,E,h)||f))return E.abort();if(s="abort",v.add(h.complete),E.done(h.success),E.fail(h.error),l=$t(Ht,h,t,E)){if(E.readyState=1,p&&m.trigger("ajaxSend",[E,h]),f)return E;h.async&&0<h.timeout&&(c=b.setTimeout(function(){E.abort("timeout")},h.timeout));try{f=!1,l.send(o,T)}catch(e){if(f)throw e;T(-1,e)}}else T(-1,"No Transport")}return E;function T(e,t,n,i){var r,o,a,s=t;f||(f=!0,c&&b.clearTimeout(c),l=void 0,d=i||"",E.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(a=function(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a=a||r}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(h,E,n)),!i&&-1<A.inArray("script",h.dataTypes)&&A.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),a=function(e,t,n,i){var r,o,a,s,l,u={},d=e.dataTypes.slice();if(d[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=d.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=u[l+" "+o]||u["* "+o]))for(r in u)if((s=r.split(" "))[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){!0===a?a=u[r]:!0!==u[r]&&(o=s[0],d.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(h,a,E,i),i?(h.ifModified&&((n=E.getResponseHeader("Last-Modified"))&&(A.lastModified[u]=n),n=E.getResponseHeader("etag"))&&(A.etag[u]=n),204===e||"HEAD"===h.type?s="nocontent":304===e?s="notmodified":(s=a.state,r=a.data,i=!(o=a.error))):(o=s,!e&&s||(s="error",e<0&&(e=0))),E.status=e,E.statusText=(t||s)+"",i?y.resolveWith(g,[r,s,E]):y.rejectWith(g,[E,s,o]),E.statusCode(_),_=void 0,p&&m.trigger(i?"ajaxSuccess":"ajaxError",[E,h,i?r:o]),v.fireWith(g,[E,s]),p&&(m.trigger("ajaxComplete",[E,h]),--A.active||A.event.trigger("ajaxStop")))}},getJSON:function(e,t,n){return A.get(e,t,n,"json")},getScript:function(e,t){return A.get(e,void 0,t,"script")}}),A.each(["get","post"],function(e,r){A[r]=function(e,t,n,i){return v(t)&&(i=i||n,n=t,t=void 0),A.ajax(A.extend({url:e,type:r,dataType:i,data:t,success:n},A.isPlainObject(e)&&e))}}),A.ajaxPrefilter(function(e){for(var t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),A._evalUrl=function(e,t,n){return A.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){A.globalEval(e,t,n)}})},A.fn.extend({wrapAll:function(e){return this[0]&&(v(e)&&(e=e.call(this[0])),e=A(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return v(n)?this.each(function(e){A(this).wrapInner(n.call(this,e))}):this.each(function(){var e=A(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=v(t);return this.each(function(e){A(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){A(this).replaceWith(this.childNodes)}),this}}),A.expr.pseudos.hidden=function(e){return!A.expr.pseudos.visible(e)},A.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},A.ajaxSettings.xhr=function(){try{return new b.XMLHttpRequest}catch(e){}};var Vt={0:200,1223:204},zt=A.ajaxSettings.xhr();m.cors=!!zt&&"withCredentials"in zt,m.ajax=zt=!!zt,A.ajaxTransport(function(r){var o,a;if(m.cors||zt&&!r.crossDomain)return{send:function(e,t){var n,i=r.xhr();if(i.open(r.type,r.url,r.async,r.username,r.password),r.xhrFields)for(n in r.xhrFields)i[n]=r.xhrFields[n];for(n in r.mimeType&&i.overrideMimeType&&i.overrideMimeType(r.mimeType),r.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===e?i.abort():"error"===e?"number"!=typeof i.status?t(0,"error"):t(i.status,i.statusText):t(Vt[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=o(),a=i.onerror=i.ontimeout=o("error"),void 0!==i.onabort?i.onabort=a:i.onreadystatechange=function(){4===i.readyState&&b.setTimeout(function(){o&&a()})},o=o("abort");try{i.send(r.hasContent&&r.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),A.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),A.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return A.globalEval(e),e}}}),A.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),A.ajaxTransport("script",function(n){var i,r;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){i=A("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){i.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),S.head.appendChild(i[0])},abort:function(){r&&r()}}});var Wt=[],Xt=/(=)\?(?=&|$)|\?\?/,Qt=(A.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||A.expando+"_"+Rt.guid++;return this[e]=!0,e}}),A.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,o,a=!1!==e.jsonp&&(Xt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Xt,"$1"+i):!1!==e.jsonp&&(e.url+=(Dt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||A.error(i+" was not called"),o[0]},e.dataTypes[0]="json",r=b[i],b[i]=function(){o=arguments},n.always(function(){void 0===r?A(b).removeProp(i):b[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,Wt.push(i)),o&&v(r)&&r(o[0]),o=r=void 0}),"script"}),m.createHTMLDocument=((o=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===o.childNodes.length),A.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((i=(t=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,t.head.appendChild(i)):t=S),i=!n&&[],(n=Q.exec(e))?[t.createElement(n[1])]:(n=Ie([e],t,i),i&&i.length&&A(i).remove(),A.merge([],n.childNodes)));var i},A.fn.load=function(e,t,n){var i,r,o,a=this,s=e.indexOf(" ");return-1<s&&(i=P(e.slice(s)),e=e.slice(0,s)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<a.length&&A.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?A("<div>").append(A.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},A.expr.pseudos.animated=function(t){return A.grep(A.timers,function(e){return t===e.elem}).length},A.offset={setOffset:function(e,t,n){var i,r,o,a,s=A.css(e,"position"),l=A(e),u={};"static"===s&&(e.style.position="relative"),o=l.offset(),i=A.css(e,"top"),a=A.css(e,"left"),s=("absolute"===s||"fixed"===s)&&-1<(i+a).indexOf("auto")?(r=(s=l.position()).top,s.left):(r=parseFloat(i)||0,parseFloat(a)||0),null!=(t=v(t)?t.call(e,n,A.extend({},o)):t).top&&(u.top=t.top-o.top+r),null!=t.left&&(u.left=t.left-o.left+s),"using"in t?t.using.call(e,u):l.css(u)}},A.fn.extend({offset:function(t){var e,n;return arguments.length?void 0===t?this:this.each(function(e){A.offset.setOffset(this,t,e)}):(n=this[0])?n.getClientRects().length?(e=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===A.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===A.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=A(e).offset()).top+=A.css(e,"borderTopWidth",!0),r.left+=A.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-A.css(i,"marginTop",!0),left:t.left-r.left-A.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===A.css(e,"position");)e=e.offsetParent;return e||T})}}),A.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o="pageYOffset"===r;A.fn[t]=function(e){return c(this,function(e,t,n){var i;if(g(e)?i=e:9===e.nodeType&&(i=e.defaultView),void 0===n)return i?i[r]:e[t];i?i.scrollTo(o?i.pageXOffset:n,o?n:i.pageYOffset):e[t]=n},t,e,arguments.length)}}),A.each(["top","left"],function(e,n){A.cssHooks[n]=Ze(m.pixelPosition,function(e,t){if(t)return t=Je(e,n),ze.test(t)?A(e).position()[n]+"px":t})}),A.each({Height:"height",Width:"width"},function(a,s){A.each({padding:"inner"+a,content:s,"":"outer"+a},function(i,o){A.fn[o]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),r=i||(!0===e||!0===t?"margin":"border");return c(this,function(e,t,n){var i;return g(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+a],i["scroll"+a],e.body["offset"+a],i["offset"+a],i["client"+a])):void 0===n?A.css(e,t,r):A.style(e,t,n,r)},s,n?e:void 0,n)}})}),A.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){A.fn[t]=function(e){return this.on(t,e)}}),A.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),A.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){A.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g),Jt=(A.proxy=function(e,t){var n,i;if("string"==typeof t&&(i=e[t],t=e,e=i),v(e))return n=s.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(s.call(arguments)))}).guid=e.guid=e.guid||A.guid++,i},A.holdReady=function(e){e?A.readyWait++:A.ready(!0)},A.isArray=Array.isArray,A.parseJSON=JSON.parse,A.nodeName=l,A.isFunction=v,A.isWindow=g,A.camelCase=_,A.type=h,A.now=Date.now,A.isNumeric=function(e){var t=A.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},A.trim=function(e){return null==e?"":(e+"").replace(Qt,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return A}),b.jQuery),Zt=b.$;return A.noConflict=function(e){return b.$===A&&(b.$=Zt),e&&b.jQuery===A&&(b.jQuery=Jt),A},void 0===k&&(b.jQuery=b.$=A),A}),window.languages={hi:{generic:{alert:{cursor:"कर्सर और कीबोर्ड समर्थित नहीं हैं।"}},login:{username:"ईमेल दर्ज करें...",password:"पासवर्ड दर्ज करें...",enter:"लॉगिन",error:{invalid:"ईमेल या पासवर्ड अमान्य हैं।"}},menu:{search:"खोजें",home:"होम",list:"मेरी सूची",history:"इतिहास",browse:"ब्राउज़ करें",settings:"सेटिंग्स",logout:"लॉगआउट"},home:{banner:{play:"प्ले करें",info:"अधिक जानकारी"},details:{play:"प्ले करें: S{season} E{episode}",continue:"जारी रखें: S{season} E{episode}",add:"वॉचलिस्ट में जोड़ें",remove:"वॉचलिस्ट से हटाएं",episodes:"एपिसोड",related:"संबंधित सामग्री"},episodes:{watched:"देखा गया"}},exit:{message:"क्या आप ऐप्लिकेशन से बाहर जाना चाहते हैं?",message_logout:"क्या आप लॉगआउट करना और ऐप्लिकेशन से बाहर जाना चाहते हैं?",no:"नहीं",yes:"हाँ"},search:{placeholder:"खोजें..."},video:{skip:"प्रस्तावना को छोड़ें",languages:{audios:"ऑडियो",subtitles:"उपशीर्षक"}},settings:{menu:{application_lang:"एप्लिकेशन भाषा",audio_lang:"ऑडियो भाषा",subtitle_lang:"सबटाइटल भाषा",video_quality:"वीडियो गुणवत्ता",mature:"परिपक्व सामग्री",about:"के बारे में"}},lists:{watchlist:"देखने की सूची",empty:"और कोई सूची नहीं है।"}},ar:{generic:{alert:{cursor:"المؤشر ولوحة المفاتيح غير مدعومين."}},login:{username:"أدخل البريد الإلكتروني...",password:"أدخل كلمة المرور...",enter:"تسجيل الدخول",error:{invalid:"البريد الإلكتروني أو كلمة المرور غير صحيحة."}},menu:{search:"بحث",home:"الصفحة الرئيسية",list:"قائمتي",history:"التاريخ",browse:"تصفح",settings:"الإعدادات",logout:"تسجيل الخروج"},home:{banner:{play:"تشغيل",info:"مزيد من المعلومات"},details:{play:"تشغيل: S{season} E{episode}",continue:"متابعة: S{season} E{episode}",add:"إضافة إلى المفضلة",remove:"إزالة من المفضلة",episodes:"حلقات",related:"المحتوى ذو الصلة"},episodes:{watched:"تم مشاهدته"}},exit:{message:"هل ترغب في الخروج من التطبيق؟",message_logout:"هل ترغب في تسجيل الخروج والخروج من التطبيق؟",no:"لا",yes:"نعم"},search:{placeholder:"البحث..."},video:{skip:"تخطي المقدمة",languages:{audios:"الصوت",subtitles:"الترجمة"}},settings:{menu:{application_lang:"لغة التطبيق",audio_lang:"لغة الصوت",subtitle_lang:"لغة الترجمة",video_quality:"جودة الفيديو",mature:"محتوى للبالغين",about:"حول"}},lists:{watchlist:"قائمة المشاهدة",empty:"لا توجد قوائم أخرى لعرضها"}},ca:{generic:{alert:{cursor:"El cursor i el teclat no estan compatibles."}},login:{username:"Introduïu l'email...",password:"Introduïu la contrasenya...",enter:"INICIA LA SESSIÓ",error:{invalid:"Email o contrasenya incorrectes."}},menu:{search:"Cerca",home:"Inici",list:"La meva llista",history:"Historial",browse:"Navega",settings:"Configuració",logout:"Tanca la sessió"},home:{banner:{play:"Reprodueix",info:"Més informació"},details:{play:"Reprodueix: T{season} E{episode}",continue:"Continua: T{season} E{episode}",add:"Afegir als Preferits",remove:"Treure dels Preferits",episodes:"Episodis",related:"Contingut relacionat"},episodes:{watched:"Vistos"}},exit:{message:"Voleu sortir de l'aplicació?",message_logout:"Voleu tancar la sessió i sortir de l'aplicació?",no:"NO",yes:"SÍ"},search:{placeholder:"Cerca..."},video:{skip:"SALTA LA INTRODUCCIÓ",languages:{audios:"Àudios",subtitles:"Subtítols"}},settings:{menu:{application_lang:"Idioma de l'aplicació",audio_lang:"Idioma de l'àudio",subtitle_lang:"Idioma dels subtítols",video_quality:"Qualitat del vídeo",mature:"Contingut per a adults",about:"Sobre"}},lists:{watchlist:"Llista de seguiment",empty:"No hi ha més llistes per mostrar"}},de:{generic:{alert:{cursor:"Mauszeiger und Tastatur werden nicht unterstützt."}},login:{username:"E-Mail eingeben...",password:"Passwort eingeben...",enter:"ANMELDEN",error:{invalid:"E-Mail oder Passwort ungültig."}},menu:{search:"Suchen",home:"Startseite",list:"Meine Liste",history:"Verlauf",browse:"Durchsuchen",settings:"Einstellungen",logout:"Abmelden"},home:{banner:{play:"Abspielen",info:"Weitere Informationen"},details:{play:"Abspielen: S{season} E{episode}",continue:"Fortsetzen: S{season} E{episode}",add:"Zu Favoriten hinzufügen",remove:"Aus Favoriten entfernen",episodes:"Episoden",related:"Ähnliche Inhalte"},episodes:{watched:"Gesehen"}},exit:{message:"Möchten Sie die Anwendung verlassen?",message_logout:"Möchten Sie sich abmelden und die Anwendung verlassen?",no:"NEIN",yes:"JA"},search:{placeholder:"Suchen..."},video:{skip:"EINFÜHRUNG ÜBERSPRINGEN",languages:{audios:"Audios",subtitles:"Untertitel"}},settings:{menu:{application_lang:"Anwendungssprache",audio_lang:"Audiosprache",subtitle_lang:"Untertitelsprache",video_quality:"Videoqualität",mature:"Erwachseneninhalt",about:"Über"}},lists:{watchlist:"Beobachtungsliste",empty:"Keine weiteren Listen vorhanden"}},en:{generic:{alert:{cursor:"Cursor and keyboard is not supported."}},login:{username:"Enter email...",password:"Enter password...",enter:"LOGIN",error:{invalid:"Invalid email or password."}},menu:{search:"Search",home:"Home",list:"My list",history:"History",browse:"Browse",settings:"Settings",logout:"Logout"},home:{banner:{play:"Play",info:"More information"},details:{play:"Play: S{season} E{episode}",continue:"Continue: S{season} E{episode}",add:"Add to Watchlist",remove:"Remove from Watchlist",episodes:"Episodes",related:"Related content"},episodes:{watched:"Watched"}},exit:{message:"Do you want to exit the application?",message_logout:"Do you want to logout and exit the application?",no:"NO",yes:"YES"},search:{placeholder:"Search..."},video:{skip:"SKIP INTRO",languages:{audios:"Audios",subtitles:"Subtitles"}},settings:{menu:{application_lang:"Application Language",audio_lang:"Audio Language",subtitle_lang:"Subtitle Language",video_quality:"Video Quality",mature:"Mature Content",about:"About"}},lists:{watchlist:"Watchlist",empty:"No more lists to show"}},es:{generic:{alert:{cursor:"El cursor y el teclado no son compatibles."}},login:{username:"Ingrese email...",password:"Ingrese contraseña...",enter:"INGRESAR",error:{invalid:"Email o contraseña incorrectos."}},menu:{search:"Buscar",home:"Inicio",list:"Mi lista",history:"Historial",browse:"Explorar",settings:"Configuración",logout:"Cerrar sesión"},home:{banner:{play:"Reproducir",info:"Más información"},details:{play:"Reproducir: T{season} E{episode}",continue:"Continuar: T{season} E{episode}",add:"Agregar a Favoritos",remove:"Quitar de Favoritos",episodes:"Episodios",related:"Contenido relacionado"},episodes:{watched:"Visto"}},exit:{message:"¿Desea salir de la aplicación?",message_logout:"¿Desea cerrar sesión y salir de la aplicación?",no:"NO",yes:"SÍ"},search:{placeholder:"Buscar..."},video:{skip:"OMITIR INTRO",languages:{audios:"Audios",subtitles:"Subtítulos"}},settings:{menu:{application_lang:"Idioma de la aplicación",audio_lang:"Idioma del audio",subtitle_lang:"Idioma de los subtítulos",video_quality:"Calidad del video",mature:"Contenido para adultos",about:"Acerca de"}},lists:{watchlist:"Favoritos",empty:"No hay más listas para mostrar"}},fr:{generic:{alert:{cursor:"Le curseur et le clavier ne sont pas pris en charge."}},login:{username:"Entrez l'email...",password:"Entrez le mot de passe...",enter:"CONNEXION",error:{invalid:"Adresse e-mail ou mot de passe incorrect."}},menu:{search:"Rechercher",home:"Accueil",list:"Ma liste",history:"Historique",browse:"Explorer",settings:"Paramètres",logout:"Déconnexion"},home:{banner:{play:"Lire",info:"Plus d'informations"},details:{play:"Lire : S{saison} E{episode}",continue:"Continuer : S{saison} E{episode}",add:"Ajouter aux Favoris",remove:"Retirer des Favoris",episodes:"Épisodes",related:"Contenu connexe"},episodes:{watched:"Vu"}},exit:{message:"Voulez-vous quitter l'application?",message_logout:"Voulez-vous vous déconnecter et quitter l'application?",no:"NON",yes:"OUI"},search:{placeholder:"Rechercher..."},video:{skip:"SAUTER L'INTRODUCTION",languages:{audios:"Audios",subtitles:"Sous-titres"}},settings:{menu:{application_lang:"Langue de l'application",audio_lang:"Langue audio",subtitle_lang:"Langue des sous-titres",video_quality:"Qualité de la vidéo",mature:"Contenu pour adultes",about:"À propos de"}},lists:{watchlist:"Liste de suivi",empty:"Aucune autre liste à afficher"}},id:{generic:{alert:{cursor:"Penggunaan kursor dan keyboard tidak didukung."}},login:{username:"Masukkan email...",password:"Masukkan kata sandi...",enter:"MASUK",error:{invalid:"Email atau kata sandi tidak valid."}},menu:{search:"Cari",home:"Beranda",list:"Daftar saya",history:"Riwayat",browse:"Jelajah",settings:"Pengaturan",logout:"Keluar"},home:{banner:{play:"Putar",info:"Informasi lebih lanjut"},details:{play:"Putar: S{season} E{episode}",continue:"Lanjutkan: S{season} E{episode}",add:"Tambahkan ke Favorit",remove:"Hapus dari Favorit",episodes:"Episode",related:"Konten terkait"},episodes:{watched:"Ditonton"}},exit:{message:"Apakah Anda ingin keluar dari aplikasi?",message_logout:"Apakah Anda ingin keluar dan log out dari aplikasi?",no:"TIDAK",yes:"YA"},search:{placeholder:"Cari..."},video:{skip:"LEWATKAN PEMBUKA",languages:{audios:"Audio",subtitles:"Subtitle"}},settings:{menu:{application_lang:"Bahasa Aplikasi",audio_lang:"Bahasa Audio",subtitle_lang:"Bahasa Subjudul",video_quality:"Kualitas Video",mature:"Konten Dewasa",about:"Tentang"}},lists:{watchlist:"Daftar Pantau",empty:"Tidak ada daftar lain untuk ditampilkan"}},it:{generic:{alert:{cursor:"Cursore e tastiera non sono supportati."}},login:{username:"Inserisci email...",password:"Inserisci password...",enter:"ACCEDI",error:{invalid:"Email o password non validi."}},menu:{search:"Cerca",home:"Home",list:"La mia lista",history:"Cronologia",browse:"Esplora",settings:"Impostazioni",logout:"Esci"},home:{banner:{play:"Riproduci",info:"Maggiori informazioni"},details:{play:"Riproduci: S{season} E{episode}",continue:"Continua: S{season} E{episode}",add:"Aggiungi ai Preferiti",remove:"Rimuovi dai Preferiti",episodes:"Episodi",related:"Contenuti correlati"},episodes:{watched:"Visti"}},exit:{message:"Vuoi uscire dall'applicazione?",message_logout:"Vuoi effettuare il logout ed uscire dall'applicazione?",no:"NO",yes:"SI"},search:{placeholder:"Cerca..."},video:{skip:"SALTA INTRO",languages:{audios:"Tracce audio",subtitles:"Sottotitoli"}},settings:{menu:{application_lang:"Lingua dell'applicazione",audio_lang:"Lingua dell'audio",subtitle_lang:"Lingua dei sottotitoli",video_quality:"Qualità del video",mature:"Contenuti per adulti",about:"Informazioni"}},lists:{watchlist:"Daftar Pantau",empty:"Tidak ada daftar lain untuk ditampilkan"}},ms:{generic:{alert:{cursor:"Cursor dan papan kekunci tidak disokong."}},login:{username:"Masukkan emel...",password:"Masukkan kata laluan...",enter:"LOG MASUK",error:{invalid:"Emel atau kata laluan tidak sah."}},menu:{search:"Cari",home:"Laman Utama",list:"Senarai Saya",history:"Sejarah",browse:"Jelajah",settings:"Tetapan",logout:"Log Keluar"},home:{banner:{play:"Mainkan",info:"Maklumat Lanjut"},details:{play:"Mainkan: S{season} E{episode}",continue:"Teruskan: S{season} E{episode}",add:"Tambah ke Kekunci",remove:"Alih dari Kekunci",episodes:"Episod",related:"Kandungan Berkaitan"},episodes:{watched:"Tonton"}},exit:{message:"Adakah anda mahu keluar dari aplikasi?",message_logout:"Adakah anda mahu log keluar dan keluar dari aplikasi?",no:"TIDAK",yes:"YA"},search:{placeholder:"Cari..."},video:{skip:"LEWATKAN PEMULA",languages:{audios:"Audio",subtitles:"Sarikata"}},settings:{menu:{application_lang:"Bahasa Aplikasi",audio_lang:"Bahasa Audio",subtitle_lang:"Bahasa Sarikata",video_quality:"Kualiti Video",mature:"Kandungan Dewasa",about:"Mengenai"}},lists:{watchlist:"Senarai Pantau",empty:"Tiada senarai lain untuk dipaparkan"}},pl:{generic:{alert:{cursor:"Kursor i klawiatura nie są obsługiwane."}},login:{username:"Wprowadź email...",password:"Wprowadź hasło...",enter:"ZALOGUJ SIĘ",error:{invalid:"Nieprawidłowy adres email lub hasło."}},menu:{search:"Szukaj",home:"Strona główna",list:"Moja lista",history:"Historia",browse:"Przeglądaj",settings:"Ustawienia",logout:"Wyloguj"},home:{banner:{play:"Odtwórz",info:"Więcej informacji"},details:{play:"Odtwórz: S{season} E{episode}",continue:"Kontynuuj: S{season} E{episode}",add:"Dodaj do Ulubionych",remove:"Usuń z Ulubionych",episodes:"Odcinki",related:"Powiązane treści"},episodes:{watched:"Obejrzane"}},exit:{message:"Czy chcesz wyjść z aplikacji?",message_logout:"Czy chcesz wylogować się i wyjść z aplikacji?",no:"NIE",yes:"TAK"},search:{placeholder:"Szukaj..."},video:{skip:"POMÓWIENIE PRZEWIŃ",languages:{audios:"Dźwięk",subtitles:"Napisy"}},settings:{menu:{application_lang:"Język aplikacji",audio_lang:"Język dźwięku",subtitle_lang:"Język napisów",video_quality:"Jakość wideo",mature:"Zawartość dla dorosłych",about:"O nas"}},lists:{watchlist:"Lista obserwowanych",empty:"Brak kolejnych list do wyświetlenia"}},pt:{generic:{alert:{cursor:"O cursor e o teclado não são suportados."}},login:{username:"Digite o e-mail...",password:"Digite a senha...",enter:"ENTRAR",error:{invalid:"E-mail ou senha inválidos."}},menu:{search:"Buscar",home:"Página inicial",list:"Minha lista",history:"Histórico",browse:"Navegar",settings:"Configurações",logout:"Sair"},home:{banner:{play:"Reproduzir",info:"Mais informações"},details:{play:"Reproduzir: T{season} E{episode}",continue:"Continuar: T{season} E{episode}",add:"Adicionar aos Favoritos",remove:"Remover dos Favoritos",episodes:"Episódios",related:"Conteúdo relacionado"},episodes:{watched:"Assistido"}},exit:{message:"Deseja sair do aplicativo?",message_logout:"Deseja fazer logout e sair do aplicativo?",no:"NÃO",yes:"SIM"},search:{placeholder:"Buscar..."},video:{skip:"PULAR INTRO",languages:{audios:"Áudios",subtitles:"Legendas"}},settings:{menu:{application_lang:"Idioma da aplicação",audio_lang:"Idioma do áudio",subtitle_lang:"Idioma das legendas",video_quality:"Qualidade do vídeo",mature:"Conteúdo adulto",about:"Sobre"}},lists:{watchlist:"Favoritos",empty:"Não há mais listas para mostrar"}},ru:{generic:{alert:{cursor:"Мышь и клавиатура не поддерживаются."}},login:{username:"Введите email...",password:"Введите пароль...",enter:"ВОЙТИ",error:{invalid:"Неверный адрес электронной почты или пароль."}},menu:{search:"Поиск",home:"Главная",list:"Мой список",history:"История",browse:"Просмотр",settings:"Настройки",logout:"Выйти"},home:{banner:{play:"Воспроизвести",info:"Больше информации"},details:{play:"Воспроизвести: S{season} E{episode}",continue:"Продолжить: S{season} E{episode}",add:"Добавить в Избранное",remove:"Убрать из Избранного",episodes:"Эпизоды",related:"Связанный контент"},episodes:{watched:"Просмотрено"}},exit:{message:"Вы хотите выйти из приложения?",message_logout:"Вы хотите выйти из системы и выйти из приложения?",no:"НЕТ",yes:"ДА"},search:{placeholder:"Поиск..."},video:{skip:"ПРОПУСТИТЬ ВСТУПЛЕНИЕ",languages:{audios:"Звук",subtitles:"Субтитры"}},settings:{menu:{application_lang:"Язык приложения",audio_lang:"Язык аудио",subtitle_lang:"Язык субтитров",video_quality:"Качество видео",mature:"Контент для взрослых",about:"О приложении"}},lists:{watchlist:"Список отслеживаемого",empty:"Нет больше списков для отображения"}},th:{generic:{alert:{cursor:"เมาส์และคีย์บอร์ดไม่ได้รับการสนับสนุน"}},login:{username:"กรุณาใส่อีเมล...",password:"กรุณาใส่รหัสผ่าน...",enter:"เข้าสู่ระบบ",error:{invalid:"อีเมลหรือรหัสผ่านไม่ถูกต้อง"}},menu:{search:"ค้นหา",home:"หน้าหลัก",list:"รายการของฉัน",history:"ประวัติ",browse:"เรียกดู",settings:"ตั้งค่า",logout:"ออกจากระบบ"},home:{banner:{play:"เล่น",info:"ข้อมูลเพิ่มเติม"},details:{play:"เล่น: ซีซั่น {season} ตอนที่ {episode}",continue:"ดำเนินการ: ซีซั่น {season} ตอนที่ {episode}",add:"เพิ่มลงในรายการโปรด",remove:"ลบออกจากรายการโปรด",episodes:"ตอน",related:"เนื้อหาที่เกี่ยวข้อง"},episodes:{watched:"ดูแล้ว"}},exit:{message:"คุณต้องการออกจากแอปพลิเคชันหรือไม่?",message_logout:"คุณต้องการออกจากระบบและออกจากแอปพลิเคชันหรือไม่?",no:"ไม่",yes:"ใช่"},search:{placeholder:"ค้นหา..."},video:{skip:"ข้ามบทนำ",languages:{audios:"เสียง",subtitles:"คำบรรยาย"}},settings:{menu:{application_lang:"ภาษาแอปพลิเคชั่น",audio_lang:"ภาษาเสียง",subtitle_lang:"ภาษาบทย่อย",video_quality:"คุณภาพวิดีโอ",mature:"เนื้อหาสำหรับผู้ใหญ่",about:"เกี่ยวกับ"}},lists:{watchlist:"รายการดู",empty:"ไม่มีรายการเพิ่มเติมที่จะแสดง"}},tr:{generic:{alert:{cursor:"İmleç ve klavye desteklenmemektedir."}},login:{username:"E-posta girin...",password:"Şifre girin...",enter:"GİRİŞ YAP",error:{invalid:"Geçersiz e-posta veya şifre."}},menu:{search:"Ara",home:"Ana Sayfa",list:"Listem",history:"Geçmiş",browse:"Gözat",settings:"Ayarlar",logout:"Çıkış"},home:{banner:{play:"Oynat",info:"Daha fazla bilgi"},details:{play:"Oynat: S{season} B{episode}",continue:"Devam: S{season} B{episode}",add:"Favorilere Ekle",remove:"Favorilerden Kaldır",episodes:"Bölümler",related:"İlgili içerik"},episodes:{watched:"İzlendi"}},exit:{message:"Uygulamadan çıkmak istiyor musunuz?",message_logout:"Çıkış yapmak ve uygulamadan çıkmak istiyor musunuz?",no:"HAYIR",yes:"EVET"},search:{placeholder:"Ara..."},video:{skip:"GİRİŞİ ATLA",languages:{audios:"Sesler",subtitles:"Altyazılar"}},settings:{menu:{application_lang:"Uygulama Dili",audio_lang:"Ses Dili",subtitle_lang:"Altyazı Dili",video_quality:"Video Kalitesi",mature:"Olgun İçerik",about:"Hakkında"}},lists:{watchlist:"İzleme Listesi",empty:"Gösterilecek başka liste yok"}},vi:{generic:{alert:{cursor:"Chuột và bàn phím không được hỗ trợ."}},login:{username:"Nhập email...",password:"Nhập mật khẩu...",enter:"ĐĂNG NHẬP",error:{invalid:"Email hoặc mật khẩu không hợp lệ."}},menu:{search:"Tìm kiếm",home:"Trang chủ",list:"Danh sách của tôi",history:"Lịch sử",browse:"Duyệt",settings:"Cài đặt",logout:"Đăng xuất"},home:{banner:{play:"Phát",info:"Thêm thông tin"},details:{play:"Phát: S{season} T{episode}",continue:"Tiếp tục: S{season} T{episode}",add:"Thêm vào Watchlist",remove:"Xóa khỏi Watchlist",episodes:"Tập phim",related:"Nội dung liên quan"},episodes:{watched:"Đã xem"}},exit:{message:"Bạn có muốn thoát khỏi ứng dụng không?",message_logout:"Bạn có muốn đăng xuất và thoát khỏi ứng dụng không?",no:"KHÔNG",yes:"CÓ"},search:{placeholder:"Tìm kiếm..."},video:{skip:"BỎ QUA GIỚI THIỆU",languages:{audios:"Âm thanh",subtitles:"Phụ đề"}},settings:{menu:{application_lang:"Ngôn ngữ ứng dụng",audio_lang:"Ngôn ngữ âm thanh",subtitle_lang:"Ngôn ngữ phụ đề",video_quality:"Chất lượng video",mature:"Nội dung dành cho người trưởng thành",about:"Về ứng dụng"}},lists:{watchlist:"Danh sách theo dõi",empty:"Không còn danh sách nào để hiển thị"}}},window.mapper={loaded:0,loadedSubcategories:0,home:function(e,n){var i=e.data.filter(e=>["recommendations","history","browse","series","because_you_watched"].includes(e.response_type)),t=e.data.find(e=>"panel"===e.resource_type);home.data.main={banner:{id:t.panel.id,title:t.panel.title,description:t.panel.description,background:mapper.preventImageErrorTest(function(){return t.panel.images.poster_wide[0][4].source},t.panel.id)},lists:i.map(e=>({title:e.title,items:[]}))};for(var r=mapper.loaded=0;r<i.length;r++)mapper.load(i[r],r,{success:function(e,t){home.data.main.lists[t].items=mapper.mapItems(e.data),mapper.loaded++,mapper.loaded===i.length&&(home.data.main.lists=home.data.main.lists.filter(e=>0<e.items.length),n.success())}})},load:(i,r,o)=>{session.refresh({success:function(e){var t="dynamic_collection"===i.resource_type?i.link:`/content/v2/cms/objects/${i.ids.join()}?locale=`+e.account.language,n=new Headers;return n.append("Authorization","Bearer "+e.access_token),n.append("Content-Type","application/x-www-form-urlencoded"),fetch(""+service.api.url+t,{headers:n}).then(e=>e.json()).then(e=>o.success(e,r)).catch(e=>{console.log(e)})}})},continue:function(e){var t=e.data[0];return{id:t.panel.id,stream:t.panel.streams_link.substr(t.panel.streams_link.indexOf("/videos/")+8,9),serie:t.panel.episode_metadata.series_title,episode:t.panel.title,season_number:t.panel.episode_metadata.season_number||0,episode_number:t.panel.episode_metadata.episode_number||0,description:t.panel.description,background:mapper.preventImageErrorTest(function(){return t.panel.images.thumbnail[0][4].source},t.panel.id),watched:!t.never_watched,playhead:Math.round(t.playhead/60),duration:Math.round(t.panel.episode_metadata.duration_ms/6e4),played:100*t.playhead/(t.panel.episode_metadata.duration_ms/1e3)}},seasons:function(e){return e.items.map(e=>({id:e.id,title:e.title,number:e.season_number}))},episodes:function(e,t){var i=e.items.map(e=>({id:e.id,title:e.title,episode:e.title,serie:e.series_title,description:e.description,episode_number:e.episode_number||0,season_number:e.season_number||0,background:mapper.preventImageErrorTest(function(){return e.images.thumbnail?e.images.thumbnail[0][1].source:""},e.id),stream:e.__links__.streams?e.__links__.streams.href.substr(e.__links__.streams.href.indexOf("/videos/")+8,9):void 0,duration:Math.round(e.duration_ms/6e4),premium:e.is_premium_only}));mapper.playheads(i,function(n){i=i.map(e=>{var t=n.get(e.id);return e.playhead=t?t.fully_watched?e.duration:Math.round(t.playhead/60):0,e}),t&&t(i)})},playheads:function(e,t){service.playheads({data:{ids:e.map(e=>e.id).join()},success:function(e){e=new Map(e.data.map(e=>[e.content_id,e]));t&&t(e)},error:function(e){console.log(e)}})},search:function(e){return e.data.reduce((e,t)=>"series"===t.type||"movie_listing"===t.type?[...e,...t.items.map(e=>({display:"serie",type:e.type,id:e.id,title:e.title,description:e.description,background:mapper.preventImageErrorTest(function(){return e.images.poster_wide[0][5].source},e.id),poster:mapper.preventImageErrorTest(function(){return e.images.poster_tall[0][2].source})}))]:e,[])},history:function(e){return e.data.filter(e=>e.panel).map(e=>({id:e.panel.episode_metadata.series_id,playhead:e.playhead?Math.round(e.playhead/60):0,duration:Math.round((e.panel||e).episode_metadata.duration_ms/6e4),title:e.panel?e.panel.episode_metadata.series_title:e.title,description:e.panel.title,background:mapper.preventImageErrorTest(function(){return(e.panel||e).images.thumbnail[0][4].source},e.panel.episode_metadata.series_id)}))},preventImageErrorTest:function(e,t){try{return e()}catch(e){return console.log("error image #"+t),"https://dummyimage.com/600x400/f48321/fff.png&text=IMAGE+"+t}},listByCategories:function(e,n,i){home.data.main={category:n[0].parent_category,banner:{id:"",title:"",description:"",background:""},lists:n.map(e=>({lazy:!0,id:e.tenant_category,title:e.localization.description,items:[]}))};for(var t=mapper.loadedSubcategories=0;t<n.length;t++)mapper.loadCategoryListAsync(e+","+n[t].tenant_category,0,20,t,{success:function(e,t){home.data.main.lists[t].items=mapper.mapItems(e.items),mapper.loadedSubcategories++,mapper.loadedSubcategories===n.length&&(home.data.main.lists=home.data.main.lists.filter(e=>0<e.items.length),home.data.main.banner=home.data.main.lists[t].items[0],i.success())},error:function(e){console.log("fail on load subcategorie list.",e)}})},mapItems:function(e){try{return e.map(e=>{var t,n,i,r=e.playhead?Math.round(e.playhead/60):void 0,o=(e=e.panel||e).id,a="serie",s=e.title;return i="episode"===e.type?(o=e.episode_metadata.series_id,t=Math.round(e.episode_metadata.duration_ms/6e4),a="episode",s=e.episode_metadata.series_title,void(n=e.images.thumbnail[0][4].source)):"movie"==e.type?(t=Math.round(e.movie_metadata.duration_ms/6e4),a="episode",void(n=e.images.thumbnail[0][4].source)):(n=e.images.poster_wide[0][4].source,e.images.poster_tall[0][2].source),{id:o,display:a,duration:t,playhead:r,background:n,poster:i,title:s,description:e.description,type:e.type}})}catch(e){return console.log("CRITICAL: error on map element."),[]}},loadCategoryListAsync:function(n,i,r,o,a){session.refresh({success:function(e){var t=new Headers;return t.append("Authorization","Bearer "+e.access_token),t.append("Content-Type","application/x-www-form-urlencoded"),fetch(service.api.url+`/content/v1/browse?categories=${n}&n=${r}&start=`+i,{headers:t}).then(e=>e.json()).then(e=>a.success(e,o)).catch(e=>{a.error(e)})}})}},window.player={drmLock:!1,states:{STOPPED:0,PLAYING:1,PAUSED:2,FORWARD:3,REWIND:4},values:{forward_rewind:0},timers:{forward_rewind:NaN},state:-1,plugin:NaN,video:NaN,duration:0,levelId:-1,playhead:null,getVideo:function(){var e;return player.video=document.getElementById("videoplayer"),player.video||((e=document.createElement("video")).id="videoplayer",e.style.height="100%",e.style.width="100%",$("#video-screen .content").prepend(e),player.video=e),player.video},deleteVideo:function(){player.video=document.getElementById("videoplayer"),player.video.parentNode.removeChild(player.video)},config:function(e,t){player.deleteVideo(),player.getVideo().addEventListener("timeupdate",e),player.getVideo().addEventListener("ended",t),player.getVideo().addEventListener("waiting",player.onbufferingstart),player.getVideo().addEventListener("playing",player.onbufferingcomplete)},getPlayed:function(){return player.getVideo().currentTime},getDuration:function(){return player.getVideo().duration},deleteSession:function(n){session.refresh({success:function(e){var t=new Headers;t.append("Authorization","Bearer "+e.access_token),t.append("Content-Type","application/x-www-form-urlencoded"),fetch(`${service.api.drm}/v1/token/${n.data.id}/`+n.data.token,{method:"DELETE",headers:t}).then(e=>!0).then(e=>{player.drmLock=!1,n.success&&n.success()}).catch(e=>n.error&&n.error(e))}})},play:function(n,i,r,o){player.config(video.setPlayingTime,video.end),session.refresh({success:function(t){player.plugin=dashjs.MediaPlayer().create(),player.plugin.extend("RequestModifier",()=>({modifyRequestHeader:e=>(e.setRequestHeader("Authorization","Bearer "+t.access_token),e)}),!0),"auto"!==session.storage.quality&&player.plugin.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!1}}}}),player.plugin.initialize(player.getVideo(),i,!0);var e={"com.widevine.alpha":{priority:1,serverURL:"https://cr-license-proxy.prd.crunchyrollsvc.com/v1/license/widevine",httpRequestHeaders:{"X-Cr-Content-Id":n.id,"X-Cr-Video-Token":n.token},serverCertificate:"CrsCCAMSEKDc0WAwLAQT1SB2ogyBJEwYv4Tx7gUijgIwggEKAoIBAQC8Xc/GTRwZDtlnBThq8V382D1oJAM0F/YgCQtNDLz7vTWJ+QskNGi5Dd2qzO4s48Cnx5BLvL4H0xCRSw2Ed6ekHSdrRUwyoYOE+M/t1oIbccwlTQ7o+BpV1X6TB7fxFyx1jsBtRsBWphU65w121zqmSiwzZzJ4xsXVQCJpQnNI61gzHO42XZOMuxytMm0F6puNHTTqhyY3Z290YqvSDdOB+UY5QJuXJgjhvOUD9+oaLlvT+vwmV2/NJWxKqHBKdL9JqvOnNiQUF0hDI7Wf8Wb63RYSXKE27Ky31hKgx1wuq7TTWkA+kHnJTUrTEfQxfPR4dJTquE+IDLAi5yeVVxzbAgMBAAE6DGNhc3RsYWJzLmNvbUABEoADMmGXpXg/0qxUuwokpsqVIHZrJfu62ar+BF8UVUKdK5oYQoiTZd9OzK3kr29kqGGk3lSgM0/p499p/FUL8oHHzgsJ7Hajdsyzn0Vs3+VysAgaJAkXZ+k+N6Ka0WBiZlCtcunVJDiHQbz1sF9GvcePUUi2fM/h7hyskG5ZLAyJMzTvgnV3D8/I5Y6mCFBPb/+/Ri+9bEvquPF3Ff9ip3yEHu9mcQeEYCeGe9zR/27eI5MATX39gYtCnn7dDXVxo4/rCYK0A4VemC3HRai2X3pSGcsKY7+6we7h4IycjqtuGtYg8AbaigovcoURAZcr1d/G0rpREjLdVLG0Gjqk63Gx688W5gh3TKemsK3R1jV0dOfj3e6uV/kTpsNRL9KsD0v7ysBQVdUXEbJotcFz71tI5qc3jwr6GjYIPA3VzusD17PN6AGQniMwxJV12z/EgnUopcFB13osydpD2AaDsgWo5RWJcNf+fzCgtUQx/0Au9+xVm5LQBdv8Ja4f2oiHN3dw",audioRobustness:"SW_SECURE_CRYPTO",videoRobustness:"SW_SECURE_CRYPTO",sessionType:"temporary"}};player.plugin.setProtectionData(e),player.plugin.registerLicenseRequestFilter(function(e){e.headers["Content-Type"]="application/octet-stream",e.headers.Authorization="Bearer "+t.access_token}),player.plugin.registerLicenseResponseFilter(function(e){for(var t=new Uint8Array(e.data),t=new TextDecoder("utf-8").decode(t),t=JSON.parse(t),n=atob(t.license),i=new Uint8Array(n.length),r=0;r<n.length;r++)i[r]=n.charCodeAt(r);e.data=i.buffer,player.drmLock=!0}),player.noplay=o,r&&0<r&&(player.playhead=60*r)}})},pause:function(){player.getVideo().pause(),player.state=player.states.PAUSED,video.showBTN("pause")},resume:function(){player.getVideo().play(),video.hideBTN(),player.state=player.states.PLAYING},playPause:function(){player.getVideo().paused?player.resume():player.pause()},rewind:function(e){player.pause(),clearTimeout(player.timers.forward_rewind),video.showBTN("rewind"),player.values.forward_rewind-=.01*player.getDuration(),e(player.values.forward_rewind),player.timers.forward_rewind=setTimeout(function(){player.getVideo().currentTime=player.values.forward_rewind+player.getPlayed()<0?0:player.values.forward_rewind+player.getPlayed(),player.values.forward_rewind=0,player.resume()},500)},forward:function(e){player.state=player.states.FORWARD,player.pause(),clearTimeout(player.timers.forward_rewind),video.showBTN("forward"),player.values.forward_rewind+=.01*player.getDuration(),e(player.values.forward_rewind),player.timers.forward_rewind=setTimeout(function(){player.getVideo().currentTime=player.values.forward_rewind+player.getPlayed()>player.getDuration()-.02*player.getDuration()?player.getPlayed():player.values.forward_rewind+player.getPlayed(),player.values.forward_rewind=0,player.resume()},500)},forwardTo:function(e){player.getVideo().currentTime=e},getQuality:function(){var t=player.plugin.getBitrateInfoListFor("video"),e=Object.keys(t).find(e=>t[e].height===+session.storage.quality);return void 0!==e?e:-1},stop:function(){player.state!=player.states.STOPPED&&(player.getVideo().pause(),player.plugin=NaN,player.video=NaN,player.STOP_CALLBACK&&player.STOP_CALLBACK(),player.state=player.states.STOPPED)},speed:function(e){player.getVideo().playbackRate=e},destroy:function(){player.stop()},onbufferingstart:function(){video.showBTN("loading")},onbufferingcomplete:function(){"auto"!==session.storage.quality&&player.plugin.setQualityFor("video",player.getQuality()),player.playhead&&(player.getVideo().currentTime=player.playhead,player.playhead=null),player.noplay?(player.noplay=null,player.pause()):(player.getVideo().play(),player.state=player.states.PLAYING),video.hideBTN()},oncurrentplaytime:function(e){video.setPlayingTime(e)},onstreamcompleted:function(){console.log("onstreamcompleted"),app.stop()},onevent:function(e,t){console.log("onevent "+e+" - "+t)},onerror:function(e){console.log("onerror "+e)},ondrmevent:function(e,t){console.log("ondrmevent "+e+" - "+t)},onsubtitlechange:function(e,t,n,i,r){console.log("onsubtitlechange")}},window.service={api:{url:"https://beta-api.crunchyroll.com",static:"https://static.crunchyroll.com",drm:"https://cr-play-service.prd.crunchyrollsvc.com",auth:"Basic b2VkYXJteHN0bGgxanZhd2ltbnE6OWxFaHZIWkpEMzJqdVY1ZFc5Vk9TNTdkb3BkSnBnbzE="},token:function(t){var e=new Headers,n=(e.append("Authorization",service.api.auth),e.append("Content-Type","application/x-www-form-urlencoded"),service.format({username:t.data.username,password:t.data.password,grant_type:"password",scope:"offline_access"}));fetch(service.api.url+"/auth/v1/token",{method:"POST",headers:e,body:n}).then(e=>e.json()).then(e=>t.success&&t.success(e)).catch(e=>{console.log(e),t.error&&t.error(e)})},refresh:function(t){var e=new Headers,n=(e.append("Authorization",service.api.auth),e.append("Content-Type","application/x-www-form-urlencoded"),service.format({refresh_token:session.storage.refresh_token,grant_type:"refresh_token",scope:"offline_access"}));fetch(service.api.url+"/auth/v1/token",{method:"POST",headers:e,body:n}).then(e=>e.json()).then(e=>t.success(e)).catch(e=>t.error(e))},profile:function(n){return session.refresh({success:function(e){var t=new Headers;t.append("Authorization","Bearer "+e.access_token),t.append("Content-Type","application/x-www-form-urlencoded"),fetch(service.api.url+"/accounts/v1/me/profile",{headers:t}).then(e=>e.json()).then(e=>n.success(e)).catch(e=>n.error(e))}})},setProfile:function(n){return session.refresh({success:function(e){var t=new Headers;t.append("Authorization","Bearer "+e.access_token),t.append("Content-Type","application/json"),fetch(service.api.url+"/accounts/v1/me/profile",{method:"PATCH",headers:t,body:JSON.stringify(n.data)}).then(e=>null).then(e=>n.success(e)).catch(e=>n.error(e))}})},cookies:function(n){return session.refresh({success:function(e){var t=new Headers;t.append("Authorization","Bearer "+e.access_token),t.append("Content-Type","application/x-www-form-urlencoded"),fetch(service.api.url+"/index/v2",{headers:t}).then(e=>e.json()).then(e=>n.success(e)).catch(e=>n.error(e))}})},home:function(n){return session.refresh({success:function(e){var t=new Headers;t.append("Authorization","Bearer "+e.access_token),t.append("Content-Type","application/x-www-form-urlencoded"),fetch(`${service.api.url}/content/v2/discover/${e.id}/home_feed?start=0&n=100&preferred_audio_language=${e.account.audio}&locale=`+e.language,{headers:t}).then(e=>e.json()).then(e=>n.success(e)).catch(e=>n.error(e))}})},continue:function(n){return session.refresh({success:function(e){var t=new Headers;t.append("Authorization","Bearer "+e.access_token),t.append("Content-Type","application/x-www-form-urlencoded"),fetch(`${service.api.url}/content/v2/discover/up_next/${n.data.ids}?locale=${e.language}&preferred_audio_language=`+e.account.audio,{headers:t}).then(e=>e.json()).then(e=>n.success(e)).catch(e=>n.error(e))}})},playheads:function(n){return session.refresh({success:function(e){var t=new Headers;t.append("Authorization","Bearer "+e.access_token),t.append("Content-Type","application/x-www-form-urlencoded"),fetch(`${service.api.url}/content/v2/${e.id}/playheads?content_ids=${n.data.ids}&preferred_audio_language=${e.account.audio}&locale=`+e.language,{headers:t}).then(e=>e.json()).then(e=>n.success(e)).catch(e=>n.error(e))}})},seasons:function(n){return session.cookies({success:function(e){var t=new Headers;t.append("Content-Type","application/x-www-form-urlencoded"),fetch(`${service.api.url}/cms/v2${e.cookies.bucket}/seasons?series_id=${n.data.id}&preferred_audio_language=${e.account.audio}&locale=${e.language}&Signature=${e.cookies.signature}&Policy=${e.cookies.policy}&Key-Pair-Id=`+e.cookies.key_pair_id,{headers:t}).then(e=>e.json()).then(e=>n.success(e)).catch(e=>n.error(e))},error:function(e){n.error(e)}})},episodes:function(n){return session.cookies({success:function(e){var t=new Headers;t.append("Content-Type","application/x-www-form-urlencoded"),fetch(`${service.api.url}/cms/v2${e.cookies.bucket}/episodes?season_id=${n.data.id}&preferred_audio_language=${e.account.audio}&locale=${e.language}&Signature=${e.cookies.signature}&Policy=${e.cookies.policy}&Key-Pair-Id=`+e.cookies.key_pair_id,{headers:t}).then(e=>e.json()).then(e=>n.success(e)).catch(e=>n.error(e))},error:function(e){n.error(e)}})},video_v2:function(n){return session.refresh({success:function(e){var t=new Headers;t.append("Authorization","Bearer "+e.access_token),t.append("Content-Type","application/x-www-form-urlencoded"),fetch(`${service.api.drm}/v1/${n.data.id}/web/firefox/play`,{headers:t}).then(e=>e.json()).then(e=>n.success(e)).catch(e=>n.error(e))}})},video:function(n){return session.cookies({success:function(e){var t=new Headers;t.append("Content-Type","application/x-www-form-urlencoded"),fetch(`${service.api.url}/cms/v2${e.cookies.bucket}/videos/${n.data.id}/streams?Signature=${e.cookies.signature}&Policy=${e.cookies.policy}&Key-Pair-Id=`+e.cookies.key_pair_id,{headers:t}).then(e=>e.json()).then(e=>n.success(e)).catch(e=>n.error(e))},error:function(e){n.error(e)}})},search:function(n){return session.refresh({success:function(e){var t=new Headers;t.append("Authorization","Bearer "+e.access_token),t.append("Content-Type","application/x-www-form-urlencoded"),fetch(`${service.api.url}/content/v2/discover/search?q=${n.data.query}&type=series,movie_listing&n=100&locale=`+e.language,{headers:t}).then(e=>e.json()).then(e=>n.success(e)).catch(e=>n.error(e))}})},history:function(n){return session.refresh({success:function(e){var t=new Headers;t.append("Authorization","Bearer "+e.access_token),t.append("Content-Type","application/x-www-form-urlencoded"),fetch(`${service.api.url}/content/v2/${e.id}/watch-history?page_size=100&preferred_audio_language=${e.account.audio}&locale=`+e.language,{headers:t}).then(e=>e.json()).then(e=>n.success(e)).catch(e=>n.error(e))}})},setHistory:function(n){return session.refresh({success:function(e){var t=new Headers;t.append("Authorization","Bearer "+e.access_token),t.append("Content-Type","application/json"),fetch(`${service.api.url}/content/v2/${e.id}/playheads?preferred_audio_language=${e.account.audio}&locale=`+e.language,{method:"POST",headers:t,body:JSON.stringify(n.data)}).then(e=>e.text()).then(e=>n.success(e)).catch(e=>n.error(e))}})},languages:function(t){fetch(service.api.static+"/config/i18n/v3/"+("subtitle"===t.data.type?"timed_text_languages.json":"audio_languages.json")).then(e=>e.json()).then(e=>t.success(e)).catch(e=>t.error(e))},intro:function(t){fetch(`${service.api.static}/datalab-intro-v2/${t.data.id}.json`).then(e=>e.json()).then(e=>t.success(e)).catch(e=>t.error(e))},categories:function(n){return session.refresh({success:function(e){var t=new Headers;t.append("Authorization","Bearer "+e.access_token),t.append("Content-Type","application/x-www-form-urlencoded"),fetch(service.api.url+"/content/v1/tenant_categories?include_subcategories=true&locale="+e.language,{headers:t}).then(e=>e.json()).then(e=>n.success(e)).catch(e=>n.error(e))}})},getCustomLists:function(n){return session.refresh({success:function(e){var t=new Headers;t.append("Authorization","Bearer "+e.access_token),t.append("Content-Type","application/json"),fetch(`${service.api.url}/content/v2/${e.id}/custom-lists?preferred_audio_language=${e.account.audio}&locale=`+e.language,{headers:t}).then(e=>e.json()).then(e=>n.success(e)).catch(e=>n.error(e))}})},getCustomListItems:function(n){return session.refresh({success:function(e){var t=new Headers;t.append("Authorization","Bearer "+e.access_token),t.append("Content-Type","application/json"),fetch(`${service.api.url}/content/v2/${e.id}/custom-lists/${n.data}?ratings=true&preferred_audio_language=${e.account.audio}&locale=`+e.language,{headers:t}).then(e=>e.json()).then(e=>n.success(e)).catch(e=>n.error(e))}})},getWatchList:function(n){return session.refresh({success:function(e){var t=new Headers;t.append("Authorization","Bearer "+e.access_token),t.append("Content-Type","application/json"),fetch(`${service.api.url}/content/v2/discover/${e.id}/watchlist?order=desc&n=1000&preferred_audio_language=${e.account.audio}&locale=`+e.language,{headers:t}).then(e=>e.json()).then(e=>n.success(e)).catch(e=>n.error(e))}})},inWatchList:function(n){return session.refresh({success:function(e){var t=new Headers;t.append("Authorization","Bearer "+e.access_token),t.append("Content-Type","application/json"),fetch(`${service.api.url}/content/v2/${e.id}/watchlist?content_ids=${n.data}&preferred_audio_language=${e.account.audio}&locale=`+e.language,{headers:t}).then(e=>e.json()).then(e=>n.success(e)).catch(e=>n.error(e))}})},addWatchlist:function(n){return session.refresh({success:function(e){var t=new Headers;t.append("Authorization","Bearer "+e.access_token),t.append("Content-Type","application/json"),fetch(`${service.api.url}/content/v2/${e.id}/watchlist?preferred_audio_language=${e.account.audio}&locale=`+e.language,{method:"POST",headers:t,body:JSON.stringify(n.data)}).then(e=>e.text()).then(e=>n.success(e)).catch(e=>n.error(e))}})},removeWatchlist:function(n){return session.refresh({success:function(e){var t=new Headers;t.append("Authorization","Bearer "+e.access_token),t.append("Content-Type","application/json"),fetch(`${service.api.url}/content/v2/${e.id}/watchlist/${n.data.content_id}?preferred_audio_language=${e.account.audio}&locale=`+e.language,{method:"DELETE",headers:t}).then(e=>e.text()).then(e=>n.success(e)).catch(e=>n.error(e))}})},format:function(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}},window.session={languages:{audios:{},subtitles:{}},storage:{version:NaN,language:NaN,quality:"auto",account:{password:NaN,username:NaN,avatar:"0001-cr-white-orange.png",premium:!1,language:NaN,audio:NaN},cookies:{bucket:NaN,policy:NaN,signature:NaN,key_pair_id:NaN,expires:NaN},id:NaN,country:NaN,token_type:NaN,access_token:NaN,expires_in:NaN,refresh_token:NaN},init:function(){service.languages({data:{type:"audio"},success:function(e){session.languages.audios=e,session.languages.audios["ja-JP"]="Japanese"},error:function(e){console.log(e)}}),service.languages({data:{type:"subtitle"},success:function(e){session.languages.subtitles=e,session.languages.subtitles.Disabled="Disabled"},error:function(e){console.log(e)}});var e=localStorage.getItem("session");if(e)try{e=JSON.parse(e),session.storage=e||session.storage}catch(e){console.log("error parse session.")}session.update()},start:function(t,n,i){service.token({data:{password:n,username:t},success:function(e){return session.storage.expires_in=(new Date).setSeconds((new Date).getSeconds()+e.expires_in),session.storage.id=e.account_id,session.storage.account.username=t,session.storage.account.password=n,session.storage.country=e.country,session.storage.token_type=e.token_type,session.storage.access_token=e.access_token,session.storage.refresh_token=e.refresh_token,i.success(session.update())},error:function(e){return session.clear(),i.error(e)}})},refresh:function(t){session.isExpired()?service.refresh({data:{refresh_token:session.storage.refresh_token},success:function(e){session.storage.expires_in=(new Date).setSeconds((new Date).getSeconds()+e.expires_in),session.storage.id=e.account_id,session.storage.country=e.country,session.storage.token_type=e.token_type,session.storage.access_token=e.access_token,session.storage.refresh_token=e.refresh_token,t.success(session.update())},error:function(e){t.error(e)}}):t.success(session.storage)},cookies:function(t){session.isExpired(!0)?service.cookies({success:function(e){session.storage.cookies.bucket=e.cms.bucket,session.storage.account.premium=session.storage.cookies.bucket.includes("crunchyroll"),session.storage.cookies.policy=e.cms.policy,session.storage.cookies.signature=e.cms.signature,session.storage.cookies.key_pair_id=e.cms.key_pair_id,session.storage.cookies.expires=new Date(e.cms.expires).getTime(),t.success(session.update())},error:function(e){t.error(e)}}):t.success(session.storage)},load_account:function(t){service.profile({success:function(e){session.storage.account.audio=e.preferred_content_audio_language,session.storage.account.language=e.preferred_content_subtitle_language,session.storage.account.avatar=e.avatar,session.storage.account.mature=e.maturity_rating,session.storage.account.username=e.username,session.update(),t.success()},error:t.error}),session.cookies({success:function(e){},error:function(e){}})},valid:function(e){return session.storage&&session.storage.access_token?session.refresh(e):e.error()},isExpired:function(e){e=e?session.storage.cookies.expires:session.storage.expires_in;return!(e&&e>=(new Date).getTime())},update:function(){return localStorage.setItem("session",JSON.stringify(session.storage)),session.storage},clear:function(){session.storage={language:"en-US",quality:"auto",account:{password:NaN,username:NaN,mature:NaN,avatar:"0001-cr-white-orange.png",premium:!1,language:"en-US",audio:""},cookies:{bucket:NaN,policy:NaN,signature:NaN,key_pair_id:NaN,expires:NaN},id:NaN,country:NaN,token_type:NaN,access_token:NaN,expires_in:NaN,refresh_token:NaN},session.update()}},function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(u){"use strict";var i,o=window.Slick||{};i=0,(o=function(e,t){var n=this;n.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:u(e),appendDots:u(e),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return u('<button type="button" />').text(t+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},n.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},u.extend(n,n.initials),n.activeBreakpoint=null,n.animType=null,n.animProp=null,n.breakpoints=[],n.breakpointSettings=[],n.cssTransitions=!1,n.focussed=!1,n.interrupted=!1,n.hidden="hidden",n.paused=!0,n.positionProp=null,n.respondTo=null,n.rowCount=1,n.shouldClick=!0,n.$slider=u(e),n.$slidesCache=null,n.transformType=null,n.transitionType=null,n.visibilityChange="visibilitychange",n.windowWidth=0,n.windowTimer=null,e=u(e).data("slick")||{},n.options=u.extend({},n.defaults,t,e),n.currentSlide=n.options.initialSlide,n.originalSettings=n.options,void 0!==document.mozHidden?(n.hidden="mozHidden",n.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(n.hidden="webkitHidden",n.visibilityChange="webkitvisibilitychange"),n.autoPlay=u.proxy(n.autoPlay,n),n.autoPlayClear=u.proxy(n.autoPlayClear,n),n.autoPlayIterator=u.proxy(n.autoPlayIterator,n),n.changeSlide=u.proxy(n.changeSlide,n),n.clickHandler=u.proxy(n.clickHandler,n),n.selectHandler=u.proxy(n.selectHandler,n),n.setPosition=u.proxy(n.setPosition,n),n.swipeHandler=u.proxy(n.swipeHandler,n),n.dragHandler=u.proxy(n.dragHandler,n),n.keyHandler=u.proxy(n.keyHandler,n),n.instanceUid=i++,n.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,n.registerBreakpoints(),n.init(!0)}).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},o.prototype.addSlide=o.prototype.slickAdd=function(e,t,n){var i=this;if("boolean"==typeof t)n=t,t=null;else if(t<0||t>=i.slideCount)return!1;i.unload(),"number"==typeof t?0===t&&0===i.$slides.length?u(e).appendTo(i.$slideTrack):n?u(e).insertBefore(i.$slides.eq(t)):u(e).insertAfter(i.$slides.eq(t)):!0===n?u(e).prependTo(i.$slideTrack):u(e).appendTo(i.$slideTrack),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slides.each(function(e,t){u(t).attr("data-slick-index",e)}),i.$slidesCache=i.$slides,i.reinit()},o.prototype.animateHeight=function(){var e;1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical&&(e=this.$slides.eq(this.currentSlide).outerHeight(!0),this.$list.animate({height:e},this.options.speed))},o.prototype.animateSlide=function(e,t){var n={},i=this;i.animateHeight(),!0===i.options.rtl&&!1===i.options.vertical&&(e=-e),!1===i.transformsEnabled?!1===i.options.vertical?i.$slideTrack.animate({left:e},i.options.speed,i.options.easing,t):i.$slideTrack.animate({top:e},i.options.speed,i.options.easing,t):!1===i.cssTransitions?(!0===i.options.rtl&&(i.currentLeft=-i.currentLeft),u({animStart:i.currentLeft}).animate({animStart:e},{duration:i.options.speed,easing:i.options.easing,step:function(e){e=Math.ceil(e),!1===i.options.vertical?n[i.animType]="translate("+e+"px, 0px)":n[i.animType]="translate(0px,"+e+"px)",i.$slideTrack.css(n)},complete:function(){t&&t.call()}})):(i.applyTransition(),e=Math.ceil(e),!1===i.options.vertical?n[i.animType]="translate3d("+e+"px, 0px, 0px)":n[i.animType]="translate3d(0px,"+e+"px, 0px)",i.$slideTrack.css(n),t&&setTimeout(function(){i.disableTransition(),t.call()},i.options.speed))},o.prototype.getNavTarget=function(){var e=this.options.asNavFor;return e=e&&null!==e?u(e).not(this.$slider):e},o.prototype.asNavFor=function(t){var e=this.getNavTarget();null!==e&&"object"==typeof e&&e.each(function(){var e=u(this).slick("getSlick");e.unslicked||e.slideHandler(t,!0)})},o.prototype.applyTransition=function(e){var t=this,n={};!1===t.options.fade?n[t.transitionType]=t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:n[t.transitionType]="opacity "+t.options.speed+"ms "+t.options.cssEase,(!1===t.options.fade?t.$slideTrack:t.$slides.eq(e)).css(n)},o.prototype.autoPlay=function(){this.autoPlayClear(),this.slideCount>this.options.slidesToShow&&(this.autoPlayTimer=setInterval(this.autoPlayIterator,this.options.autoplaySpeed))},o.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},o.prototype.autoPlayIterator=function(){var e=this,t=e.currentSlide+e.options.slidesToScroll;e.paused||e.interrupted||e.focussed||(!1===e.options.infinite&&(1===e.direction&&e.currentSlide+1===e.slideCount-1?e.direction=0:0===e.direction&&(t=e.currentSlide-e.options.slidesToScroll,e.currentSlide-1==0)&&(e.direction=1)),e.slideHandler(t))},o.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=u(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=u(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},o.prototype.buildDots=function(){var e,t;if(!0===this.options.dots){for(this.$slider.addClass("slick-dotted"),t=u("<ul />").addClass(this.options.dotsClass),e=0;e<=this.getDotCount();e+=1)t.append(u("<li />").append(this.options.customPaging.call(this,this,e)));this.$dots=t.appendTo(this.options.appendDots),this.$dots.find("li").first().addClass("slick-active")}},o.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){u(t).attr("data-slick-index",e).data("originalStyling",u(t).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?u('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),u("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},o.prototype.buildRows=function(){var e,t,n,i=this,r=document.createDocumentFragment(),o=i.$slider.children();if(1<i.options.rows){for(n=i.options.slidesPerRow*i.options.rows,t=Math.ceil(o.length/n),e=0;e<t;e++){for(var a=document.createElement("div"),s=0;s<i.options.rows;s++){for(var l=document.createElement("div"),u=0;u<i.options.slidesPerRow;u++){var d=e*n+(s*i.options.slidesPerRow+u);o.get(d)&&l.appendChild(o.get(d))}a.appendChild(l)}r.appendChild(a)}i.$slider.empty().append(r),i.$slider.children().children().children().css({width:100/i.options.slidesPerRow+"%",display:"inline-block"})}},o.prototype.checkResponsive=function(e,t){var n,i,r,o=this,a=!1,s=o.$slider.width(),l=window.innerWidth||u(window).width();if("window"===o.respondTo?r=l:"slider"===o.respondTo?r=s:"min"===o.respondTo&&(r=Math.min(l,s)),o.options.responsive&&o.options.responsive.length&&null!==o.options.responsive){for(n in i=null,o.breakpoints)o.breakpoints.hasOwnProperty(n)&&(!1===o.originalSettings.mobileFirst?r<o.breakpoints[n]&&(i=o.breakpoints[n]):r>o.breakpoints[n]&&(i=o.breakpoints[n]));null!==i?null!==o.activeBreakpoint&&i===o.activeBreakpoint&&!t||(o.activeBreakpoint=i,"unslick"===o.breakpointSettings[i]?o.unslick(i):(o.options=u.extend({},o.originalSettings,o.breakpointSettings[i]),!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e)),a=i):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=o.originalSettings,!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e),a=i),e||!1===a||o.$slider.trigger("breakpoint",[o,a])}},o.prototype.changeSlide=function(e,t){var n,i=this,r=u(e.currentTarget);switch(r.is("a")&&e.preventDefault(),r.is("li")||(r=r.closest("li")),n=i.slideCount%i.options.slidesToScroll!=0?0:(i.slideCount-i.currentSlide)%i.options.slidesToScroll,e.data.message){case"previous":o=0==n?i.options.slidesToScroll:i.options.slidesToShow-n,i.slideCount>i.options.slidesToShow&&i.slideHandler(i.currentSlide-o,!1,t);break;case"next":o=0==n?i.options.slidesToScroll:n,i.slideCount>i.options.slidesToShow&&i.slideHandler(i.currentSlide+o,!1,t);break;case"index":var o=0===e.data.index?0:e.data.index||r.index()*i.options.slidesToScroll;i.slideHandler(i.checkNavigable(o),!1,t),r.children().trigger("focus");break;default:return}},o.prototype.checkNavigable=function(e){var t=this.getNavigableIndexes(),n=0;if(e>t[t.length-1])e=t[t.length-1];else for(var i in t){if(e<t[i]){e=n;break}n=t[i]}return e},o.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(u("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",u.proxy(e.interrupt,e,!0)).off("mouseleave.slick",u.proxy(e.interrupt,e,!1)),!0===e.options.accessibility)&&e.$dots.off("keydown.slick",e.keyHandler),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility)&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow)&&e.$nextArrow.off("keydown.slick",e.keyHandler),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),u(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&u(e.$slideTrack).children().off("click.slick",e.selectHandler),u(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),u(window).off("resize.slick.slick-"+e.instanceUid,e.resize),u("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),u(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},o.prototype.cleanUpSlideEvents=function(){this.$list.off("mouseenter.slick",u.proxy(this.interrupt,this,!0)),this.$list.off("mouseleave.slick",u.proxy(this.interrupt,this,!1))},o.prototype.cleanUpRows=function(){var e;1<this.options.rows&&((e=this.$slides.children().children()).removeAttr("style"),this.$slider.empty().append(e))},o.prototype.clickHandler=function(e){!1===this.shouldClick&&(e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault())},o.prototype.destroy=function(e){var t=this;t.autoPlayClear(),t.touchObject={},t.cleanUpEvents(),u(".slick-cloned",t.$slider).detach(),t.$dots&&t.$dots.remove(),t.$prevArrow&&t.$prevArrow.length&&(t.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.prevArrow))&&t.$prevArrow.remove(),t.$nextArrow&&t.$nextArrow.length&&(t.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),t.htmlExpr.test(t.options.nextArrow))&&t.$nextArrow.remove(),t.$slides&&(t.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){u(this).attr("style",u(this).data("originalStyling"))}),t.$slideTrack.children(this.options.slide).detach(),t.$slideTrack.detach(),t.$list.detach(),t.$slider.append(t.$slides)),t.cleanUpRows(),t.$slider.removeClass("slick-slider"),t.$slider.removeClass("slick-initialized"),t.$slider.removeClass("slick-dotted"),t.unslicked=!0,e||t.$slider.trigger("destroy",[t])},o.prototype.disableTransition=function(e){var t={};t[this.transitionType]="",(!1===this.options.fade?this.$slideTrack:this.$slides.eq(e)).css(t)},o.prototype.fadeSlide=function(e,t){var n=this;!1===n.cssTransitions?(n.$slides.eq(e).css({zIndex:n.options.zIndex}),n.$slides.eq(e).animate({opacity:1},n.options.speed,n.options.easing,t)):(n.applyTransition(e),n.$slides.eq(e).css({opacity:1,zIndex:n.options.zIndex}),t&&setTimeout(function(){n.disableTransition(e),t.call()},n.options.speed))},o.prototype.fadeSlideOut=function(e){!1===this.cssTransitions?this.$slides.eq(e).animate({opacity:0,zIndex:this.options.zIndex-2},this.options.speed,this.options.easing):(this.applyTransition(e),this.$slides.eq(e).css({opacity:0,zIndex:this.options.zIndex-2}))},o.prototype.filterSlides=o.prototype.slickFilter=function(e){null!==e&&(this.$slidesCache=this.$slides,this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.filter(e).appendTo(this.$slideTrack),this.reinit())},o.prototype.focusHandler=function(){var n=this;n.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(e){e.stopImmediatePropagation();var t=u(this);setTimeout(function(){n.options.pauseOnFocus&&(n.focussed=t.is(":focus"),n.autoPlay())},0)})},o.prototype.getCurrent=o.prototype.slickCurrentSlide=function(){return this.currentSlide},o.prototype.getDotCount=function(){var e=this,t=0,n=0,i=0;if(!0===e.options.infinite)if(e.slideCount<=e.options.slidesToShow)++i;else for(;t<e.slideCount;)++i,t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else if(!0===e.options.centerMode)i=e.slideCount;else if(e.options.asNavFor)for(;t<e.slideCount;)++i,t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;else i=1+Math.ceil((e.slideCount-e.options.slidesToShow)/e.options.slidesToScroll);return i-1},o.prototype.getLeft=function(e){var t,n,i=this,r=0;return i.slideOffset=0,t=i.$slides.first().outerHeight(!0),!0===i.options.infinite?(i.slideCount>i.options.slidesToShow&&(i.slideOffset=i.slideWidth*i.options.slidesToShow*-1,n=-1,!0===i.options.vertical&&!0===i.options.centerMode&&(2===i.options.slidesToShow?n=-1.5:1===i.options.slidesToShow&&(n=-2)),r=t*i.options.slidesToShow*n),i.slideCount%i.options.slidesToScroll!=0&&e+i.options.slidesToScroll>i.slideCount&&i.slideCount>i.options.slidesToShow&&(r=e>i.slideCount?(i.slideOffset=(i.options.slidesToShow-(e-i.slideCount))*i.slideWidth*-1,(i.options.slidesToShow-(e-i.slideCount))*t*-1):(i.slideOffset=i.slideCount%i.options.slidesToScroll*i.slideWidth*-1,i.slideCount%i.options.slidesToScroll*t*-1))):e+i.options.slidesToShow>i.slideCount&&(i.slideOffset=(e+i.options.slidesToShow-i.slideCount)*i.slideWidth,r=(e+i.options.slidesToShow-i.slideCount)*t),i.slideCount<=i.options.slidesToShow&&(r=i.slideOffset=0),!0===i.options.centerMode&&i.slideCount<=i.options.slidesToShow?i.slideOffset=i.slideWidth*Math.floor(i.options.slidesToShow)/2-i.slideWidth*i.slideCount/2:!0===i.options.centerMode&&!0===i.options.infinite?i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)-i.slideWidth:!0===i.options.centerMode&&(i.slideOffset=0,i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)),n=!1===i.options.vertical?e*i.slideWidth*-1+i.slideOffset:e*t*-1+r,!0===i.options.variableWidth&&(t=i.slideCount<=i.options.slidesToShow||!1===i.options.infinite?i.$slideTrack.children(".slick-slide").eq(e):i.$slideTrack.children(".slick-slide").eq(e+i.options.slidesToShow),n=!0===i.options.rtl?t[0]?-1*(i.$slideTrack.width()-t[0].offsetLeft-t.width()):0:t[0]?-1*t[0].offsetLeft:0,!0===i.options.centerMode)&&(t=i.slideCount<=i.options.slidesToShow||!1===i.options.infinite?i.$slideTrack.children(".slick-slide").eq(e):i.$slideTrack.children(".slick-slide").eq(e+i.options.slidesToShow+1),n=!0===i.options.rtl?t[0]?-1*(i.$slideTrack.width()-t[0].offsetLeft-t.width()):0:t[0]?-1*t[0].offsetLeft:0,n+=(i.$list.width()-t.outerWidth())/2),n},o.prototype.getOption=o.prototype.slickGetOption=function(e){return this.options[e]},o.prototype.getNavigableIndexes=function(){for(var e=this,t=0,n=0,i=[],r=!1===e.options.infinite?e.slideCount:(t=-1*e.options.slidesToScroll,n=-1*e.options.slidesToScroll,2*e.slideCount);t<r;)i.push(t),t=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return i},o.prototype.getSlick=function(){return this},o.prototype.getSlideCount=function(){var n,i=this,r=!0===i.options.centerMode?i.slideWidth*Math.floor(i.options.slidesToShow/2):0;return!0===i.options.swipeToSlide?(i.$slideTrack.find(".slick-slide").each(function(e,t){if(t.offsetLeft-r+u(t).outerWidth()/2>-1*i.swipeLeft)return n=t,!1}),Math.abs(u(n).attr("data-slick-index")-i.currentSlide)||1):i.options.slidesToScroll},o.prototype.goTo=o.prototype.slickGoTo=function(e,t){this.changeSlide({data:{message:"index",index:parseInt(e)}},t)},o.prototype.init=function(e){var t=this;u(t.$slider).hasClass("slick-initialized")||(u(t.$slider).addClass("slick-initialized"),t.buildRows(),t.buildOut(),t.setProps(),t.startLoad(),t.loadSlider(),t.initializeEvents(),t.updateArrows(),t.updateDots(),t.checkResponsive(!0),t.focusHandler()),e&&t.$slider.trigger("init",[t]),!0===t.options.accessibility&&t.initADA(),t.options.autoplay&&(t.paused=!1,t.autoPlay())},o.prototype.initADA=function(){var n=this,i=Math.ceil(n.slideCount/n.options.slidesToShow),r=n.getNavigableIndexes().filter(function(e){return 0<=e&&e<n.slideCount});n.$slides.add(n.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==n.$dots&&(n.$slides.not(n.$slideTrack.find(".slick-cloned")).each(function(e){var t=r.indexOf(e);u(this).attr({role:"tabpanel",id:"slick-slide"+n.instanceUid+e,tabindex:-1}),-1!==t&&u(this).attr({"aria-describedby":"slick-slide-control"+n.instanceUid+t})}),n.$dots.attr("role","tablist").find("li").each(function(e){var t=r[e];u(this).attr({role:"presentation"}),u(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+n.instanceUid+e,"aria-controls":"slick-slide"+n.instanceUid+t,"aria-label":e+1+" of "+i,"aria-selected":null,tabindex:"-1"})}).eq(n.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var e=n.currentSlide,t=e+n.options.slidesToShow;e<t;e++)n.$slides.eq(e).attr("tabindex",0);n.activateADA()},o.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.off("click.slick").on("click.slick",{message:"next"},e.changeSlide),!0===e.options.accessibility)&&(e.$prevArrow.on("keydown.slick",e.keyHandler),e.$nextArrow.on("keydown.slick",e.keyHandler))},o.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&(u("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility)&&e.$dots.on("keydown.slick",e.keyHandler),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&u("li",e.$dots).on("mouseenter.slick",u.proxy(e.interrupt,e,!0)).on("mouseleave.slick",u.proxy(e.interrupt,e,!1))},o.prototype.initSlideEvents=function(){this.options.pauseOnHover&&(this.$list.on("mouseenter.slick",u.proxy(this.interrupt,this,!0)),this.$list.on("mouseleave.slick",u.proxy(this.interrupt,this,!1)))},o.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),u(document).on(e.visibilityChange,u.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&u(e.$slideTrack).children().on("click.slick",e.selectHandler),u(window).on("orientationchange.slick.slick-"+e.instanceUid,u.proxy(e.orientationChange,e)),u(window).on("resize.slick.slick-"+e.instanceUid,u.proxy(e.resize,e)),u("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),u(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),u(e.setPosition)},o.prototype.initUI=function(){!0===this.options.arrows&&this.slideCount>this.options.slidesToShow&&(this.$prevArrow.show(),this.$nextArrow.show()),!0===this.options.dots&&this.slideCount>this.options.slidesToShow&&this.$dots.show()},o.prototype.keyHandler=function(e){e.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===e.keyCode&&!0===this.options.accessibility?this.changeSlide({data:{message:!0===this.options.rtl?"next":"previous"}}):39===e.keyCode&&!0===this.options.accessibility&&this.changeSlide({data:{message:!0===this.options.rtl?"previous":"next"}}))},o.prototype.lazyLoad=function(){function e(e){u("img[data-lazy]",e).each(function(){var e=u(this),t=u(this).attr("data-lazy"),n=u(this).attr("data-srcset"),i=u(this).attr("data-sizes")||o.$slider.attr("data-sizes"),r=document.createElement("img");r.onload=function(){e.animate({opacity:0},100,function(){n&&(e.attr("srcset",n),i)&&e.attr("sizes",i),e.attr("src",t).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),o.$slider.trigger("lazyLoaded",[o,e,t])})},r.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),o.$slider.trigger("lazyLoadError",[o,e,t])},r.src=t})}var t,n,i,o=this;if(!0===o.options.centerMode?i=!0===o.options.infinite?(n=o.currentSlide+(o.options.slidesToShow/2+1))+o.options.slidesToShow+2:(n=Math.max(0,o.currentSlide-(o.options.slidesToShow/2+1)),o.options.slidesToShow/2+1+2+o.currentSlide):(n=o.options.infinite?o.options.slidesToShow+o.currentSlide:o.currentSlide,i=Math.ceil(n+o.options.slidesToShow),!0===o.options.fade&&(0<n&&n--,i<=o.slideCount)&&i++),t=o.$slider.find(".slick-slide").slice(n,i),"anticipated"===o.options.lazyLoad)for(var r=n-1,a=i,s=o.$slider.find(".slick-slide"),l=0;l<o.options.slidesToScroll;l++)r<0&&(r=o.slideCount-1),t=(t=t.add(s.eq(r))).add(s.eq(a)),r--,a++;e(t),o.slideCount<=o.options.slidesToShow?e(o.$slider.find(".slick-slide")):o.currentSlide>=o.slideCount-o.options.slidesToShow?e(o.$slider.find(".slick-cloned").slice(0,o.options.slidesToShow)):0===o.currentSlide&&e(o.$slider.find(".slick-cloned").slice(-1*o.options.slidesToShow))},o.prototype.loadSlider=function(){this.setPosition(),this.$slideTrack.css({opacity:1}),this.$slider.removeClass("slick-loading"),this.initUI(),"progressive"===this.options.lazyLoad&&this.progressiveLazyLoad()},o.prototype.next=o.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},o.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},o.prototype.pause=o.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},o.prototype.play=o.prototype.slickPlay=function(){this.autoPlay(),this.options.autoplay=!0,this.paused=!1,this.focussed=!1,this.interrupted=!1},o.prototype.postSlide=function(e){var t=this;t.unslicked||(t.$slider.trigger("afterChange",[t,e]),t.animating=!1,t.slideCount>t.options.slidesToShow&&t.setPosition(),t.swipeLeft=null,t.options.autoplay&&t.autoPlay(),!0===t.options.accessibility&&(t.initADA(),t.options.focusOnChange)&&u(t.$slides.get(t.currentSlide)).attr("tabindex",0).focus())},o.prototype.prev=o.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},o.prototype.preventDefault=function(e){e.preventDefault()},o.prototype.progressiveLazyLoad=function(e){e=e||1;var t,n,i,r,o=this,a=u("img[data-lazy]",o.$slider);a.length?(t=a.first(),n=t.attr("data-lazy"),i=t.attr("data-srcset"),r=t.attr("data-sizes")||o.$slider.attr("data-sizes"),(a=document.createElement("img")).onload=function(){i&&(t.attr("srcset",i),r)&&t.attr("sizes",r),t.attr("src",n).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===o.options.adaptiveHeight&&o.setPosition(),o.$slider.trigger("lazyLoaded",[o,t,n]),o.progressiveLazyLoad()},a.onerror=function(){e<3?setTimeout(function(){o.progressiveLazyLoad(e+1)},500):(t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),o.$slider.trigger("lazyLoadError",[o,t,n]),o.progressiveLazyLoad())},a.src=n):o.$slider.trigger("allImagesLoaded",[o])},o.prototype.refresh=function(e){var t=this,n=t.slideCount-t.options.slidesToShow;!t.options.infinite&&t.currentSlide>n&&(t.currentSlide=n),t.slideCount<=t.options.slidesToShow&&(t.currentSlide=0),n=t.currentSlide,t.destroy(!0),u.extend(t,t.initials,{currentSlide:n}),t.init(),e||t.changeSlide({data:{message:"index",index:n}},!1)},o.prototype.registerBreakpoints=function(){var e,t,n,i=this,r=i.options.responsive||null;if("array"===u.type(r)&&r.length){for(e in i.respondTo=i.options.respondTo||"window",r)if(n=i.breakpoints.length-1,r.hasOwnProperty(e)){for(t=r[e].breakpoint;0<=n;)i.breakpoints[n]&&i.breakpoints[n]===t&&i.breakpoints.splice(n,1),n--;i.breakpoints.push(t),i.breakpointSettings[t]=r[e].settings}i.breakpoints.sort(function(e,t){return i.options.mobileFirst?e-t:t-e})}},o.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&u(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},o.prototype.resize=function(){var e=this;u(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=u(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},o.prototype.removeSlide=o.prototype.slickRemove=function(e,t,n){var i=this;if(e="boolean"==typeof e?!0===(t=e)?0:i.slideCount-1:!0===t?--e:e,i.slideCount<1||e<0||e>i.slideCount-1)return!1;i.unload(),(!0===n?i.$slideTrack.children():i.$slideTrack.children(this.options.slide).eq(e)).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,i.reinit()},o.prototype.setCSS=function(e){var t,n,i=this,r={};!0===i.options.rtl&&(e=-e),t="left"==i.positionProp?Math.ceil(e)+"px":"0px",n="top"==i.positionProp?Math.ceil(e)+"px":"0px",r[i.positionProp]=e,!1!==i.transformsEnabled&&(!(r={})===i.cssTransitions?r[i.animType]="translate("+t+", "+n+")":r[i.animType]="translate3d("+t+", "+n+", 0px)"),i.$slideTrack.css(r)},o.prototype.setDimensions=function(){var e=this,t=(!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical&&!1===e.options.variableWidth?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):!0===e.options.variableWidth?e.$slideTrack.width(5e3*e.slideCount):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length))),e.$slides.first().outerWidth(!0)-e.$slides.first().width());!1===e.options.variableWidth&&e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},o.prototype.setFade=function(){var n,i=this;i.$slides.each(function(e,t){n=i.slideWidth*e*-1,!0===i.options.rtl?u(t).css({position:"relative",right:n,top:0,zIndex:i.options.zIndex-2,opacity:0}):u(t).css({position:"relative",left:n,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},o.prototype.setHeight=function(){var e;1===this.options.slidesToShow&&!0===this.options.adaptiveHeight&&!1===this.options.vertical&&(e=this.$slides.eq(this.currentSlide).outerHeight(!0),this.$list.css("height",e))},o.prototype.setOption=o.prototype.slickSetOption=function(){var e,t,n,i,r,o=this,a=!1;if("object"===u.type(arguments[0])?(n=arguments[0],a=arguments[1],r="multiple"):"string"===u.type(arguments[0])&&(n=arguments[0],i=arguments[1],a=arguments[2],"responsive"===arguments[0]&&"array"===u.type(arguments[1])?r="responsive":void 0!==arguments[1]&&(r="single")),"single"===r)o.options[n]=i;else if("multiple"===r)u.each(n,function(e,t){o.options[e]=t});else if("responsive"===r)for(t in i)if("array"!==u.type(o.options.responsive))o.options.responsive=[i[t]];else{for(e=o.options.responsive.length-1;0<=e;)o.options.responsive[e].breakpoint===i[t].breakpoint&&o.options.responsive.splice(e,1),e--;o.options.responsive.push(i[t])}a&&(o.unload(),o.reinit())},o.prototype.setPosition=function(){this.setDimensions(),this.setHeight(),!1===this.options.fade?this.setCSS(this.getLeft(this.currentSlide)):this.setFade(),this.$slider.trigger("setPosition",[this])},o.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),void 0===t.WebkitTransition&&void 0===t.MozTransition&&void 0===t.msTransition||!0===e.options.useCSS&&(e.cssTransitions=!0),e.options.fade&&("number"==typeof e.options.zIndex?e.options.zIndex<3&&(e.options.zIndex=3):e.options.zIndex=e.defaults.zIndex),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty)&&void 0===t.webkitPerspective&&(e.animType=!1),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty)&&void 0===t.MozPerspective&&(e.animType=!1),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty)&&void 0===t.webkitPerspective&&(e.animType=!1),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform)&&(e.animType=!1),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=e.options.useTransform&&null!==e.animType&&!1!==e.animType},o.prototype.setSlideClasses=function(e){var t,n,i,r=this,o=r.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true");r.$slides.eq(e).addClass("slick-current"),!0===r.options.centerMode?(n=r.options.slidesToShow%2==0?1:0,i=Math.floor(r.options.slidesToShow/2),!0===r.options.infinite&&((i<=e&&e<=r.slideCount-1-i?r.$slides.slice(e-i+n,e+i+1):(t=r.options.slidesToShow+e,o.slice(t-i+1+n,t+i+2))).addClass("slick-active").attr("aria-hidden","false"),0===e?o.eq(o.length-1-r.options.slidesToShow).addClass("slick-center"):e===r.slideCount-1&&o.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(e).addClass("slick-center")):(0<=e&&e<=r.slideCount-r.options.slidesToShow?r.$slides.slice(e,e+r.options.slidesToShow):o.length<=r.options.slidesToShow?o:(n=r.slideCount%r.options.slidesToShow,t=!0===r.options.infinite?r.options.slidesToShow+e:e,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-e<r.options.slidesToShow?o.slice(t-(r.options.slidesToShow-n),t+n):o.slice(t,t+r.options.slidesToShow))).addClass("slick-active").attr("aria-hidden","false"),"ondemand"!==r.options.lazyLoad&&"anticipated"!==r.options.lazyLoad||r.lazyLoad()},o.prototype.setupInfinite=function(){var e,t,n,i=this;if(!0===i.options.fade&&(i.options.centerMode=!1),!0===i.options.infinite&&!1===i.options.fade&&(t=null,i.slideCount>i.options.slidesToShow)){for(n=!0===i.options.centerMode?i.options.slidesToShow+1:i.options.slidesToShow,e=i.slideCount;e>i.slideCount-n;--e)u(i.$slides[t=e-1]).clone(!0).attr("id","").attr("data-slick-index",t-i.slideCount).prependTo(i.$slideTrack).addClass("slick-cloned");for(e=0;e<n+i.slideCount;e+=1)t=e,u(i.$slides[t]).clone(!0).attr("id","").attr("data-slick-index",t+i.slideCount).appendTo(i.$slideTrack).addClass("slick-cloned");i.$slideTrack.find(".slick-cloned").find("[id]").each(function(){u(this).attr("id","")})}},o.prototype.interrupt=function(e){e||this.autoPlay(),this.interrupted=e},o.prototype.selectHandler=function(e){e=u(e.target).is(".slick-slide")?u(e.target):u(e.target).parents(".slick-slide"),e=(e=parseInt(e.attr("data-slick-index")))||0;this.slideCount<=this.options.slidesToShow?this.slideHandler(e,!1,!0):this.slideHandler(e)},o.prototype.slideHandler=function(e,t,n){var i,r,o,a=this;t=t||!1,!0===a.animating&&!0===a.options.waitForAnimate||!0===a.options.fade&&a.currentSlide===e||(!1===t&&a.asNavFor(e),i=e,t=a.getLeft(i),o=a.getLeft(a.currentSlide),a.currentLeft=null===a.swipeLeft?o:a.swipeLeft,!1===a.options.infinite&&!1===a.options.centerMode&&(e<0||e>a.getDotCount()*a.options.slidesToScroll)||!1===a.options.infinite&&!0===a.options.centerMode&&(e<0||e>a.slideCount-a.options.slidesToScroll)?!1===a.options.fade&&(i=a.currentSlide,!0!==n?a.animateSlide(o,function(){a.postSlide(i)}):a.postSlide(i)):(a.options.autoplay&&clearInterval(a.autoPlayTimer),r=i<0?a.slideCount%a.options.slidesToScroll!=0?a.slideCount-a.slideCount%a.options.slidesToScroll:a.slideCount+i:i>=a.slideCount?a.slideCount%a.options.slidesToScroll!=0?0:i-a.slideCount:i,a.animating=!0,a.$slider.trigger("beforeChange",[a,a.currentSlide,r]),e=a.currentSlide,a.currentSlide=r,a.setSlideClasses(a.currentSlide),a.options.asNavFor&&(o=(o=a.getNavTarget()).slick("getSlick")).slideCount<=o.options.slidesToShow&&o.setSlideClasses(a.currentSlide),a.updateDots(),a.updateArrows(),!0===a.options.fade?(!0!==n?(a.fadeSlideOut(e),a.fadeSlide(r,function(){a.postSlide(r)})):a.postSlide(r),a.animateHeight()):!0!==n?a.animateSlide(t,function(){a.postSlide(r)}):a.postSlide(r)))},o.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},o.prototype.swipeDirection=function(){var e=this.touchObject.startX-this.touchObject.curX,t=this.touchObject.startY-this.touchObject.curY,t=Math.atan2(t,e);return(e=(e=Math.round(180*t/Math.PI))<0?360-Math.abs(e):e)<=45&&0<=e||e<=360&&315<=e?!1===this.options.rtl?"left":"right":135<=e&&e<=225?!1===this.options.rtl?"right":"left":!0===this.options.verticalSwiping?35<=e&&e<=135?"down":"up":"vertical"},o.prototype.swipeEnd=function(e){var t,n,i=this;if(i.dragging=!1,i.swiping=!1,i.scrolling)return i.scrolling=!1;if(i.interrupted=!1,i.shouldClick=!(10<i.touchObject.swipeLength),void 0===i.touchObject.curX)return!1;if(!0===i.touchObject.edgeHit&&i.$slider.trigger("edge",[i,i.swipeDirection()]),i.touchObject.swipeLength>=i.touchObject.minSwipe){switch(n=i.swipeDirection()){case"left":case"down":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide+i.getSlideCount()):i.currentSlide+i.getSlideCount(),i.currentDirection=0;break;case"right":case"up":t=i.options.swipeToSlide?i.checkNavigable(i.currentSlide-i.getSlideCount()):i.currentSlide-i.getSlideCount(),i.currentDirection=1}"vertical"!=n&&(i.slideHandler(t),i.touchObject={},i.$slider.trigger("swipe",[i,n]))}else i.touchObject.startX!==i.touchObject.curX&&(i.slideHandler(i.currentSlide),i.touchObject={})},o.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,!0===t.options.verticalSwiping&&(t.touchObject.minSwipe=t.listHeight/t.options.touchThreshold),e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},o.prototype.swipeMove=function(e){var t,n,i=this,r=void 0!==e.originalEvent?e.originalEvent.touches:null;return!(!i.dragging||i.scrolling||r&&1!==r.length)&&(t=i.getLeft(i.currentSlide),i.touchObject.curX=void 0!==r?r[0].pageX:e.clientX,i.touchObject.curY=void 0!==r?r[0].pageY:e.clientY,i.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(i.touchObject.curX-i.touchObject.startX,2))),r=Math.round(Math.sqrt(Math.pow(i.touchObject.curY-i.touchObject.startY,2))),!i.options.verticalSwiping&&!i.swiping&&4<r?!(i.scrolling=!0):(!0===i.options.verticalSwiping&&(i.touchObject.swipeLength=r),r=i.swipeDirection(),void 0!==e.originalEvent&&4<i.touchObject.swipeLength&&(i.swiping=!0,e.preventDefault()),e=(!1===i.options.rtl?1:-1)*(i.touchObject.curX>i.touchObject.startX?1:-1),!0===i.options.verticalSwiping&&(e=i.touchObject.curY>i.touchObject.startY?1:-1),n=i.touchObject.swipeLength,(i.touchObject.edgeHit=!1)===i.options.infinite&&(0===i.currentSlide&&"right"===r||i.currentSlide>=i.getDotCount()&&"left"===r)&&(n=i.touchObject.swipeLength*i.options.edgeFriction,i.touchObject.edgeHit=!0),!1===i.options.vertical?i.swipeLeft=t+n*e:i.swipeLeft=t+n*(i.$list.height()/i.listWidth)*e,!0===i.options.verticalSwiping&&(i.swipeLeft=t+n*e),!0!==i.options.fade&&!1!==i.options.touchMove&&(!0===i.animating?(i.swipeLeft=null,!1):void i.setCSS(i.swipeLeft))))},o.prototype.swipeStart=function(e){var t,n=this;if(n.interrupted=!0,1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow)return!(n.touchObject={});void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=void 0!==t?t.pageX:e.clientX,n.touchObject.startY=n.touchObject.curY=void 0!==t?t.pageY:e.clientY,n.dragging=!0},o.prototype.unfilterSlides=o.prototype.slickUnfilter=function(){null!==this.$slidesCache&&(this.unload(),this.$slideTrack.children(this.options.slide).detach(),this.$slidesCache.appendTo(this.$slideTrack),this.reinit())},o.prototype.unload=function(){var e=this;u(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},o.prototype.unslick=function(e){this.$slider.trigger("unslick",[this,e]),this.destroy()},o.prototype.updateArrows=function(){var e=this;Math.floor(e.options.slidesToShow/2),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&!e.options.infinite&&(e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):(e.currentSlide>=e.slideCount-e.options.slidesToShow&&!1===e.options.centerMode||e.currentSlide>=e.slideCount-1&&!0===e.options.centerMode)&&(e.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},o.prototype.updateDots=function(){null!==this.$dots&&(this.$dots.find("li").removeClass("slick-active").end(),this.$dots.find("li").eq(Math.floor(this.currentSlide/this.options.slidesToScroll)).addClass("slick-active"))},o.prototype.visibility=function(){this.options.autoplay&&(document[this.hidden]?this.interrupted=!0:this.interrupted=!1)},u.fn.slick=function(){for(var e,t=arguments[0],n=Array.prototype.slice.call(arguments,1),i=this.length,r=0;r<i;r++)if("object"==typeof t||void 0===t?this[r].slick=new o(this[r],t):e=this[r].slick[t].apply(this[r].slick,n),void 0!==e)return e;return this}}),window.translate={lang:"en",init:function(){session.storage.language&&session.storage.language.includes("-")?translate.updateLanguage(session.storage.language):translate.updateLanguage("en-US")},refresh:function(){document.querySelectorAll("[translate]").forEach(e=>e.innerText=translate.go(e.innerText))},go:function(e,t){var n=e.split("."),i=e;try{i=n.reduce((e,t)=>e[t],languages[translate.lang]);i=t?translate.withParams(i,t):i}catch(e){i=n.reduce((e,t)=>e[t],languages.en);i=t?translate.withParams(i,t):i}return i||e},withParams:function(e,n){return Object.keys(n).reduce((e,t)=>e.replace(new RegExp(`{s*${t}s*}`,"g"),n[t]),e)},updateLanguage:function(e){translate.lang=e.split("-")[0],session.storage.language=e,session.update()}},window.main={urls:{src:"server/img"},events:{logout:function(){null!=document.getElementById(menu.id)&&menu.destroy();var e=main.state.replace("-screen","");(void 0===window[e]?(console.log("Failed to find ID of current screen"),menu):(null!=document.getElementById(main.state)&&window[e].destroy(),session.clear(),login)).init()},login:function(){session.valid({success:function(){session.load_account({success:function(){main.events.home()},error:function(e){console.log("load_account",e)}})},error:function(e){console.log(e),loading.destroy(),login.init()}})},home:function(){service.home({success:function(e){mapper.home(e,{success:function(){loading.destroy(),home.init(),menu.init()}})},error:function(e){console.log(e),loading.destroy(),login.init()}})}},mac:null,token:null,state:null,timer:null,init:function(){loading.init(),session.init(),translate.init(),main.events.login(),main.preventClickMessage(),tvKey.IS_KEY_BACK=function(e){return[10009,27,461].includes(e)?e:-1}},preventClickMessage:function(){var e=document.createElement("div");e.className="no-cursor",e.innerHTML=`
    <div id="no-cursor-alert">
      <i class="fa-solid fa-computer-mouse"></i>
      <span></span>
    </div>`,e.addEventListener("click",function(){clearTimeout(main.timer),$("#no-cursor-alert").css("opacity",1),$("#no-cursor-alert span").text(translate.go("generic.alert.cursor")),main.timer=setTimeout(()=>{$("#no-cursor-alert").css("opacity",0)},2e3)}),document.body.appendChild(e)},destroy:function(){player.destroy()},log:function(e){$("#console").html($("#console").html()+(e+"<br/>")),$("#console").scrollTop(3e6)},keyDown:function(e){if(loading.active)tvKey.IS_KEY_BACK(e.keyCode)&&loading.end();else if(e.keyCode==tvKey.KEY_EXIT&&main.state!=exit.id)exit.init();else switch(main.state){case changelog.id:changelog.keyDown(e);break;case loading.id:loading.keyDown(e);break;case exit.id:exit.keyDown(e);break;case login.id:login.keyDown(e);break;case keyboard.id:keyboard.keyDown(e);break;case menu.id:menu.keyDown(e);break;case mylist.id:mylist.keyDown(e);break;case search.id:search.keyDown(e);break;case historyScreen.id:historyScreen.keyDown(e);break;case browse.id:browse.keyDown(e);break;case home.id:home.keyDown(e);break;case home_details.id:home_details.keyDown(e);break;case home_episodes.id:home_episodes.keyDown(e);break;case video.id:video.keyDown(e);break;case settings.id:settings.keyDown(e);break;default:console.log("keyboard action screen not defined.")}}},window.browse={id:"browse-screen",data:{categories:[],main:[]},init:function(i){var t=document.createElement("div");t.id=browse.id,loading.start(),service.categories({success:function(e){browse.data.categories=e.items;var n="";browse.data.categories.forEach((e,t)=>{n+=`
          <li class="item${t===(i||0)?" focus":""}">
            <img src="${e.images.low[0].source}"/>
            ${e.localization.title}
          </li>`}),t.innerHTML=`
        <div class="content">
          <img id="browse-background"/>
          <div id="browse-menu">
            <div class="browse-content">
              <ul class="browse-content-wrapper">
                ${n}
              </ul>
            </div>
          </div>
        </div>`,document.body.appendChild(t),menu.destroy(),loading.end(),browse.move("down"),browse.move("up")},error:function(e){loading.end(),console.log(e)}}),main.state=browse.id},destroy:function(){document.body.removeChild(document.getElementById(browse.id))},keyDown:function(e){switch(e.keyCode){case tvKey.IS_KEY_BACK(e.keyCode):case 27:browse.destroy(),menu.init(),home.restart();break;case tvKey.KEY_UP:browse.move("up");break;case tvKey.KEY_DOWN:browse.move("down");break;case tvKey.KEY_ENTER:case tvKey.KEY_PANEL_ENTER:var t=$(".browse-content .item"),t=browse.data.categories[t.index($(".browse-content .item.focus"))];loading.start(),home.data.main=null,mapper.listByCategories(t.tenant_category,t.sub_categories,{success:function(){var e=$(".browse-content .item").index($(".browse-content .item.focus"));loading.end(),home.fromCategory.state=!0,home.fromCategory.index=e,home.fromCategory.title=browse.data.categories[e].localization.title,home.init(),browse.destroy()}})}},move:function(e){var t=$(".browse-content .item"),n=t.index($(".browse-content .item.focus")),n=(t.removeClass("focus"),e="up"===e?0<n?n-1:n:n<t.length-1?n+1:n,t.eq(e).addClass("focus"),$("#browse-background").attr("src",browse.data.categories[e].images.background[4].source),0);9<t.length&&8<e&&(n=-110*(e-8)),$(".browse-content-wrapper")[0].style.marginTop=n+"px"}},window.changelog={id:"changelog-modal",data:{version:"v1.1.6",changes:[]},init:function(){var e=document.createElement("div");e.id=changelog.id,e.innerHTML=`
      <div class="content">
        <div class="header">v1.1.5 important announcement</div>
        <div class="body">
          <div class="text-big">The Crunchyroll OFFICIAL APP is now available for install in the TV STORE.</div>
          <div class="text-small">Thanks.</div>
        </div>
        <div class="footer">
          <a class="button ${login.id}-option">OK</a>
        </div>
      </div>`,session.storage.version=changelog.data.version,session.update(),document.body.appendChild(e),main.state=changelog.id},destroy:function(){main.state=home.id,document.body.removeChild(document.getElementById(changelog.id))},getChanges:function(e){var t="";return changelog.data.changes.forEach(e=>{t+=`
      <li>
        <div class="change-title">
          ${e.title}
        </div>
        <div class="change-description">
          ${e.description} 
        </div>
      </li>`}),t},keyDown:function(e){switch(e.keyCode){case tvKey.KEY_PANEL_ENTER:case tvKey.KEY_ENTER:case tvKey.IS_KEY_BACK(e.keyCode):changelog.destroy()}}},window.exit={id:"exit-screen",previous:null,selected:!1,logout:!1,init:function(e){var t=document.createElement("div");t.id=exit.id,exit.logout=e,t.innerHTML='<div class="content">  <div class="window">    <div class="text">'+translate.go("exit.message"+(exit.logout?"_logout":""))+'    <div class="buttons">'+`      <div class="button" id="exit-screen-yes">${translate.go("exit.yes")}</div>`+`      <div class="button" id="exit-screen-no">${translate.go("exit.no")}</div>`+"    </div>  </div></div>",document.body.appendChild(t),exit.previous=main.state,main.state=exit.id,exit.move(!1)},destroy:function(){document.body.removeChild(document.getElementById(this.id)),main.state=exit.previous},keyDown:function(e){switch(e.keyCode){case tvKey.IS_KEY_BACK(e.keyCode):case tvKey.KEY_EXIT:exit.destroy();break;case tvKey.KEY_LEFT:exit.move(!0);break;case tvKey.KEY_RIGHT:exit.move(!1);break;case tvKey.KEY_ENTER:case tvKey.KEY_PANEL_ENTER:exit.action(exit.selected)}},move:function(e){exit.selected=e,document.getElementById(exit.id+"-"+(e?"yes":"no")).className="button selected",document.getElementById(exit.id+"-"+(e?"no":"yes")).className="button"},action:function(e){e?(exit.logout&&session.clear(),"undefined"!=typeof tizen&&tizen.application.getCurrentApplication().exit()):exit.destroy()}},window.historyScreen={id:"history-screen",data:[],init:function(){var e=document.createElement("div");e.id=historyScreen.id,e.innerHTML=`
    <div class="content">
      <div class="list-container">
        <div class="list-container-over" id="history-list"></div>
      </div>
      <div class="logo-fixed">
        <img src="https://jhassan8.github.io/crunchyroll-tizen/assets/imgs/logo-big.png"/>
      </div>
    </div>`,document.body.appendChild(e),loading.start(),service.history({success:function(e){var n="";historyScreen.data=mapper.history(e),historyScreen.data.forEach((e,t)=>{n+=`
          <div class="item${0===t?" selected":""}">
            <img src="${e.background}" alt="">
            ${historyScreen.view(e)}
          </div>`}),document.getElementById("history-list").innerHTML=n,loading.end()},error:function(e){loading.end(),console.log(e)}})},destroy:function(){historyScreen.data=[],document.body.removeChild(document.getElementById(historyScreen.id))},view:function(e){return 0!==e.playhead?`<div class="progress" style="width: ${100*e.playhead/e.duration}%" value="${e.duration===e.playhead?translate.go("home.episodes.watched"):e.duration-e.playhead+"m"}"></div>`:""},keyDown:function(e){switch(e.keyCode){case tvKey.IS_KEY_BACK(e.keyCode):menu.open();break;case tvKey.KEY_NEXT:break;case tvKey.KEY_UP:var t=(r=$(".list-container .item")).index($(".list-container-over .item.selected")),n=(r.removeClass("selected"),4<t?t-5:t),i=(r.eq(n).addClass("selected"),Math.ceil((n+1)/5));$(".list-container-over").get(0).style.marginTop=`${4<i?-210*(i-4):0}px`;break;case tvKey.KEY_DOWN:t=(r=$(".list-container-over .item")).index($(".list-container-over .item.selected")),n=(r.removeClass("selected"),t<r.length-5?t+5:t),i=(r.eq(n).addClass("selected"),Math.ceil((n+1)/5));$(".list-container-over").get(0).style.marginTop=`${4<i?-210*(i-4):0}px`;break;case tvKey.KEY_LEFT:0!==(t=(r=$(".list-container-over .item")).index($(".list-container-over .item.selected")))&&t%5!=0?(r.removeClass("selected"),r.eq(t-1).addClass("selected")):menu.open();break;case tvKey.KEY_RIGHT:t=(r=$(".list-container-over .item")).index($(".list-container-over .item.selected")),n=(r.removeClass("selected"),t+1<r.length&&(t+1)%5!=0?t+1:t);r.eq(n).addClass("selected");break;case tvKey.KEY_ENTER:case tvKey.KEY_PANEL_ENTER:var r,t=(r=$(".list-container-over .item")).index($(".list-container-over .item.selected"));home_details.init(historyScreen.data[t],function(e){var t=document.createElement("div");t.id=home.id,t.innerHTML=`
            <div class="content">
              <div class="details full">
                <div class="background">
                  <img src="${e.background}">
                </div>
                <div class="info">
                  <div class="title resize">${e.title}</div>
                  <div class="description resize">${e.description}</div>
                  <div class="buttons">
                    <a class="selected">${translate.go("home.banner.play")}</a>
                    <a>${translate.go("home.banner.info")}</a>
                  </div>
                </div>
              </div>
              <div class="logo-fixed">
                <img src="https://jhassan8.github.io/crunchyroll-tizen/assets/imgs/logo-big.png"/>
              </div>
            </div>`,document.getElementById(historyScreen.id).style.display="none",document.body.appendChild(t)},function(){document.getElementById(historyScreen.id).style.display="block",home.destroy()})}}},window.home_details={id:"home_details-screen",previous:NaN,data:{this:NaN,continue:NaN},callbacks:{init:NaN,destroy:NaN},init:function(e,t,n){home_details.callbacks.init=t,home_details.callbacks.destroy=n,home_details.callbacks.init&&home_details.callbacks.init(e),service.inWatchList({data:e.id,success:function(e){home_details.inWatchList=0<e.data.length,e=home_details.inWatchList?`<i class="fa-solid fa-bookmark"></i>
          <p>${translate.go("home.details.remove")}</p>`:`<i class="fa-regular fa-bookmark"></i>
          <p>${translate.go("home.details.add")}</p>`,document.getElementById("watchlist-status").innerHTML=e},error:function(e){home_details.inWatchList=!1,console.log(e)}});t=document.createElement("div");t.className=`${home_details.id} ${home_details.id}_buttons`,t.innerHTML=`
    <a class="selected">
      <i class="fa-solid fa-play"></i>
      <p>${translate.go("home.details.play",{season:1,episode:1})}</p>
      <span></span>
    </a>
    <a id="watchlist-status">
      <i class="fa-regular fa-bookmark"></i>
      <p>${translate.go("home.details.add")}</p>
    </a>
    <a>
      <i class="fa-solid fa-list"></i>
      <p>${translate.go("home.details.episodes")}</p>
    </a>`,home_details.data.this=e,$(`#${home.id} .details .info`).append(t),"movie"===e.type?($(`.${home_details.id}.${home_details.id}_buttons a`).eq(2).remove(),$(`.${home_details.id}.${home_details.id}_buttons a`).eq(0).addClass(0<e.playhead?"played":"").attr("percent",100*e.playhead/e.duration),n=translate.go("home.details."+(0<e.playhead?"continue":"play"),{season:0,episode:0}),$(`.${home_details.id}.${home_details.id}_buttons a p`).eq(0).text(n),$(`.${home_details.id}.${home_details.id}_buttons a span`).eq(0).width(100*e.playhead/e.duration+"%")):(loading.start(),service.continue({data:{ids:e.id},success:function(e){loading.end(),home_details.data.continue=mapper.continue(e),$(`.${home_details.id}.${home_details.id}_buttons a`).eq(0).addClass(0<home_details.data.continue.played?"played":"").attr("percent",home_details.data.continue.played);e=translate.go("home.details."+(0<home_details.data.continue.played?"continue":"play"),{season:home_details.data.continue.season_number,episode:home_details.data.continue.episode_number});$(`.${home_details.id}.${home_details.id}_buttons a p`).eq(0).text(e),$(`.${home_details.id}.${home_details.id}_buttons a span`).eq(0).width(home_details.data.continue.played+"%")},error:function(e){loading.end(),console.log(e)}})),$(`#${home.id} .details`).addClass("full"),$("body").addClass(""+home_details.id),home_details.previous=main.state,main.state=home_details.id},destroy:function(){$("body").removeClass(""+home_details.id),$(`#${home.id} .details.full`).removeClass("full"),$("."+home_details.id).remove(),home_details.data.continue=NaN,home_details.data.this=NaN,home_details.inWatchList=!1,main.state=home_details.previous,home_details.callbacks.destroy&&home_details.callbacks.destroy()},keyDown:function(e){switch(e.keyCode){case tvKey.IS_KEY_BACK(e.keyCode):home_details.destroy();break;case tvKey.KEY_UP:var t=(n=$(`.${home_details.id}.${home_details.id}_buttons a`)).index($(`.${home_details.id}.${home_details.id}_buttons a.selected`));n.removeClass("selected"),n.eq(0<t?t-1:t).addClass("selected");break;case tvKey.KEY_DOWN:t=(n=$(`.${home_details.id}.${home_details.id}_buttons a`)).index($(`.${home_details.id}.${home_details.id}_buttons a.selected`));n.removeClass("selected"),n.eq(t<n.length-1?t+1:t).addClass("selected");break;case tvKey.KEY_ENTER:case tvKey.KEY_PANEL_ENTER:var n;switch(t=(n=$(`.${home_details.id}.${home_details.id}_buttons a`)).index($(`.${home_details.id}.${home_details.id}_buttons a.selected`))){case 0:video.init(home_details.data.continue);break;case 1:loading.start(),mylist.toggleStatus(home_details.data.this.id,!home_details.inWatchList,{success:function(){var e;home_details.inWatchList=!home_details.inWatchList,e=home_details.inWatchList?`<i class="fa-solid fa-bookmark"></i>
                    <p>${translate.go("home.details.remove")}</p>`:`<i class="fa-regular fa-bookmark"></i>
                    <p>${translate.go("home.details.add")}</p>`,document.getElementById("watchlist-status").innerHTML=e,loading.end()},error:function(e){console.log(e),loading.end()}});break;case 2:home_episodes.init(home_details.data.this);break;case 3:console.log("related")}}}},window.home_episodes={id:"home_episodes-screen",previous:NaN,data:{seasons:NaN,episodes:NaN},init:function(e){var t=document.createElement("div");t.className=`${home_episodes.id} ${home_episodes.id}_content`,t.innerHTML=`
    <div class="option seasons">
      <div class="title resize">${e.title}</div>
      <div class="seasons-list">
        <div id="seasons-list-offset"></div>
      </div>
    </div>
    <div class="option episodes active">
      <div class="title"></div>
      <div class="episodes-list"></div>
    </div>
    `,$("#"+home.id).append(t),loading.start(),service.seasons({data:{id:e.id},success:function(e){loading.end(),home_episodes.data.seasons=mapper.seasons(e);var n="";home_episodes.data.seasons.forEach((e,t)=>{n+=`
          <div class="season${0===t?" selected active":""}">${e.number}. ${e.title}</div>`}),$(".seasons #seasons-list-offset").eq(0).html(n),home_episodes.load(home_episodes.data.seasons[0])},error:function(e){loading.end(),console.log(e)}}),$("body").addClass(""+home_episodes.id),home_episodes.previous=main.state,main.state=home_episodes.id},load:function(e){$(".episodes .title")[0].innerText=e.number+". "+e.title,$(".episodes .episodes-list")[0].slick&&$(".episodes .episodes-list")[0].slick.destroy(),$(".episodes .episodes-list")[0].innerHTML="",loading.start(),service.episodes({data:{id:e.id},success:function(e){mapper.episodes(e,function(e){home_episodes.data.episodes=e;var t="";home_episodes.data.episodes.forEach(e=>{t+=`
            <div class="episode">
              <div class="episode-image">
                <img src="${e.background}">
                ${home_episodes.view(e)}
                ${home_episodes.premium(e)}
              </div>
              <div class="episode-details">
                <div class="episode-title">${e.episode_number}. ${e.title}</div>
                <div class="episode-description">${e.description}</div>
              </div>
            </div>`});for(var n=0;n<4;n++)t+=`
            <div class="episode">
              <div class="episode-image">
                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=">
              </div>
            </div>`;$(".episodes .episodes-list").eq(0).html(t),$(".episodes .episodes-list").slick({vertical:!0,dots:!1,arrows:!1,infinite:!1,slidesToShow:5,slidesToScroll:1,speed:0,waitForAnimate:!1}),$(".episodes .episodes-list")[0].slick.slickGoTo(0),loading.end()})},error:function(e){loading.end(),console.log(e)}})},view:function(e){return 0!==e.playhead?`<div class="progress" style="width: ${100*e.playhead/e.duration}%" value="${e.duration===e.playhead?translate.go("home.episodes.watched"):e.duration-e.playhead+"m"}"></div>`:""},premium:function(e){return e.premium?'<i class="fa-solid fa-crown premium"></i>':""},destroy:function(){$("body").removeClass(""+home_episodes.id),setTimeout(()=>{$("body").removeClass(""+home_episodes.id),$("."+home_episodes.id).remove(),main.state=home_episodes.previous},0)},keyDown:function(e){switch(e.keyCode){case tvKey.IS_KEY_BACK(e.keyCode):home_episodes.destroy();break;case tvKey.KEY_LEFT:var t=(r=$(`.${home_episodes.id}.${home_episodes.id}_content .option`)).index($(`.${home_episodes.id}.${home_episodes.id}_content .option.active`));r.removeClass("active"),r.eq(0<t?t-1:t).addClass("active");break;case tvKey.KEY_RIGHT:var t=(r=$(`.${home_episodes.id}.${home_episodes.id}_content .option`)).index($(`.${home_episodes.id}.${home_episodes.id}_content .option.active`)),n=(r.removeClass("active"),r.eq(t<r.length-1?t+1:t).addClass("active"),t=(r=$(".seasons-list .season")).index($(".seasons-list .season.active")),$(".seasons-list .season").removeClass("selected"),0);8<r.length&&4<t&&(n=t>r.length-4?-72*(r.length-8):-72*(t-4)),r.eq(t).addClass("selected"),document.getElementById("seasons-list-offset").style.marginTop=n+"px";break;case tvKey.KEY_UP:0<(t=(r=$(`.${home_episodes.id}.${home_episodes.id}_content .option`)).index($(`.${home_episodes.id}.${home_episodes.id}_content .option.active`)))?$(".episodes .episodes-list")[0].slick.prev():(t=(r=$(".seasons-list .season")).index($(".seasons-list .season.selected")),r.removeClass("selected"),r.eq(i=0<t?t-1:t).addClass("selected"),n=0,8<r.length&&4<i&&(n=i>r.length-4?-72*(r.length-8):-72*(i-4)),document.getElementById("seasons-list-offset").style.marginTop=n+"px");break;case tvKey.KEY_DOWN:var i;0<(t=(r=$(`.${home_episodes.id}.${home_episodes.id}_content .option`)).index($(`.${home_episodes.id}.${home_episodes.id}_content .option.active`)))?$(".episodes .episodes-list")[0].slick.next():(t=(r=$(".seasons-list .season")).index($(".seasons-list .season.selected")),r.removeClass("selected"),i=t<r.length-1?t+1:t,r.eq(i).addClass("selected"),n=0,8<r.length&&4<i&&(n=i>r.length-4?-72*(r.length-8):-72*(i-4)),document.getElementById("seasons-list-offset").style.marginTop=n+"px");break;case tvKey.KEY_ENTER:case tvKey.KEY_PANEL_ENTER:var r;0<(t=(r=$(`.${home_episodes.id}.${home_episodes.id}_content .option`)).index($(`.${home_episodes.id}.${home_episodes.id}_content .option.active`)))?video.init(home_episodes.data.episodes[$(".episodes .episodes-list")[0].slick.currentSlide]):(t=(r=$(".seasons-list .season")).index($(".seasons-list .season.selected")),r.removeClass("active"),r.eq(t).addClass("active"),home_episodes.load(home_episodes.data.seasons[t]))}}},window.home={id:"home-screen",data:{main:NaN},position:0,fromCategory:{index:NaN,state:!1},init:function(){var e=document.createElement("div"),n=(e.id=home.id,""),e=(home.data.main.lists.forEach((e,t)=>{if(0<e.items.length){n+=`
      <div class="row">
        <div class="row-title">${e.title}</div>
        <div class="row-content ${e.items[0].display}">`,e.items.forEach(e=>{n+=home.createItem(e)});for(t=0;t<9;t++)n+=home.createEmptyItem(e.items[0].display);n+="</div></div>"}}),e.innerHTML=`
    <div class="content">
      ${home.fromCategory.state?`<div class="browse-back"><span></span><p>${home.fromCategory.title}</p></div>`:""}
      <div class="details full">
        <div class="background">
          <img src="${home.data.main.banner.background}">
        </div>
        <div class="info">
          <div class="title resize">${home.data.main.banner.title}</div>
          <div class="description resize">${home.data.main.banner.description}</div>
          <div class="buttons">
            <a class="selected">${translate.go("home.banner.play")}</a>
            <a>${translate.go("home.banner.info")}</a>
          </div>
        </div>
      </div>
      <div class="rows">
        ${n}
      </div>
      <div class="logo-fixed">
        <img src="https://jhassan8.github.io/crunchyroll-tizen/assets/imgs/logo-big.png"/>
      </div>
    </div>`,document.body.appendChild(e),$(".details .info .title")[0]),e=(e.style.fontSize=e.scrollHeight>e.clientHeight?"3.5vh":"5vh",$(".details .info .description")[0]);e.style.fontSize=e.scrollHeight>e.clientHeight?"2vh":"2.5vh",$(`#${home.id} .rows`).slick({vertical:!0,dots:!1,arrows:!1,infinite:!1,slidesToShow:1.5,slidesToScroll:1,speed:150}),$(`#${home.id} .rows .row-content`).not(".episode").slick({dots:!1,arrows:!1,infinite:!1,slidesToShow:10,slidesToScroll:1,speed:150}),$(`#${home.id} .rows .row-content.episode`).slick({dots:!1,arrows:!1,infinite:!1,slidesToShow:5.5,slidesToScroll:1,speed:150}),$(`#${home.id} .rows`)[0].slick.slickGoTo(0),$(`#${home.id} .rows .row-content`)[0].slick.slickGoTo(0),main.state=home.id,changelog.init()},destroy:function(){home.position=0,document.body.removeChild(document.getElementById(home.id))},show_details:function(){var e=0<home.position?home.data.main.lists[home.position-1].items[$(".row-content")[home.position-1].slick.currentSlide]:home.data.main.banner,t=($(".details .background img").attr("src",e.background),$(".details .info .title")[0]),t=(t.innerText=e.title,t.style.fontSize=t.scrollHeight>t.clientHeight?"3.5vh":"5vh",$(".details .info .description")[0]);t.innerText=e.description,t.style.fontSize=t.scrollHeight>t.clientHeight?"2vh":"2.5vh"},keyDown:function(e){switch(e.keyCode){case tvKey.IS_KEY_BACK(e.keyCode):home.fromCategory.state?(home.destroy(),browse.init(home.fromCategory.index)):menu.open();break;case tvKey.KEY_NEXT:break;case tvKey.KEY_UP:$(".row-content").removeClass("selected"),1<home.position?(home.position--,$(".rows")[0].slick.slickGoTo(home.position-1),$(".row-content")[home.position-1].slick.slickGoTo($(".row-content")[home.position-1].slick.getCurrent()),$(".row-content")[home.position-1].className=$(".row-content")[home.position-1].className+" selected"):($(".details").addClass("full"),home.position=0),home.show_details();break;case tvKey.KEY_DOWN:0<home.position?($(".row-content").removeClass("selected"),home.position=home.position<home.data.main.lists.length?home.position+1:home.position,home.position<=home.data.main.lists.length&&($(".rows")[0].slick.slickGoTo(home.position-1),$(".row-content")[home.position-1].slick.slickGoTo($(".row-content")[home.position-1].slick.getCurrent())),$(".row-content")[home.position-1].className=$(".row-content")[home.position-1].className+" selected"):($(".details.full").removeClass("full"),r=$(".row-content")[0],$(".rows")[0].slick.slickGoTo(0),r.slick.slickGoTo(r.slick.getCurrent()),r.className=r.className+" selected",home.position++),home.show_details();break;case tvKey.KEY_LEFT:0<home.position?0===$(".row-content")[home.position-1].slick.currentSlide?home.fromCategory.state?(home.destroy(),browse.init(home.fromCategory.index)):menu.open():($(".row-content")[home.position-1].slick.prev(),home.show_details()):0===(i=(n=$(".details .buttons a")).index($(".details .buttons a.selected")))?home.fromCategory.state?(home.destroy(),browse.init(home.fromCategory.index)):menu.open():(n.removeClass("selected"),n.eq(0<i?i-1:i).addClass("selected"));break;case tvKey.KEY_RIGHT:var t,n,i;0<home.position?(r=home.data.main.lists[home.position-1],(t=$(".row-content")[home.position-1]).slick.currentSlide<r.items.length-1&&(home.fromCategory.state&&r.lazy&&15<r.items.length&&t.slick.currentSlide>r.items.length-10&&(r.lazy=!1,loading.start(),mapper.loadCategoryListAsync(home.data.main.category+","+r.id,r.items.length,20,home.position-1,{success:function(e,t){home.data.main.lists[t].lazy=20===e.items.length,home.addToList(t,mapper.mapItems(e.items)),loading.end()},error:function(e){console.log(e),loading.end()}})),t.slick.next(),home.show_details())):(i=(n=$(".details .buttons a")).index($(".details .buttons a.selected")),n.removeClass("selected"),n.eq(i<n.length-1?i+1:i).addClass("selected"));break;case tvKey.KEY_ENTER:case tvKey.KEY_PANEL_ENTER:var r=0<home.position?home.data.main.lists[home.position-1].items[$(".row-content")[home.position-1].slick.currentSlide]:home.data.main.banner;home_details.init(r)}},restart:function(){home.fromCategory.state=!1,home.fromCategory.index=NaN,loading.start(),home.data.main=null,service.home({success:function(e){mapper.home(e,{success:function(){home.init(),loading.end()}})},error:function(e){loading.end(),console.log(e)}})},addToList:function(e,t){var n=home.data.main.lists[e].items.length,i=$(".row-content")[home.position-1];home.data.main.lists[e].items=home.data.main.lists[e].items.concat(t);for(e=0;e<9;e++)i.slick.slickRemove(n+8-e);t.forEach(e=>i.slick.slickAdd(home.createItem(e)));for(e=0;e<9;e++)i.slick.slickAdd(home.createEmptyItem(t[0].display))},createItem:function(e){var t=e.playhead?`<div class="progress" style="width: ${100*e.playhead/e.duration}%" value="${e.duration-e.playhead}m"></div>`:"";return`
    <div class="item">
      <div class="poster ${e.display}">
        ${"serie"!==e.display?'<img src="'+e.background+'">'+t:'<img src="'+e.poster+'">'}
      </div>
    </div>`},createEmptyItem:function(e){return`
    <div class="item">
      <div class="poster ${e}">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=">
      </div>
    </div>`}},window.keyboard={id:"keyboard-screen",previous:NaN,values:[{keys:[{value:"Q",number:"1",symbol:"1",size:1},{value:"W",number:"2",symbol:"2",size:1},{value:"E",number:"3",symbol:"3",size:1},{value:"R",number:"4",symbol:"4",size:1},{value:"T",number:"5",symbol:"5",size:1},{value:"Y",number:"6",symbol:"6",size:1},{value:"U",number:"7",symbol:"7",size:1},{value:"I",number:"8",symbol:"8",size:1},{value:"O",number:"9",symbol:"9",size:1},{value:"P",number:"0",symbol:"0",size:1}]},{keys:[{value:"A",number:"@",symbol:"|",size:1},{value:"S",number:"#",symbol:"/",size:1},{value:"D",number:"$",symbol:"\\",size:1},{value:"F",number:"_",symbol:"*",size:1},{value:"G",number:"&",symbol:"'",size:1},{value:"H",number:"-",symbol:'"',size:1},{value:"J",number:"+",symbol:"=",size:1},{value:"K",number:"(",symbol:">",size:1},{value:"L",number:")",symbol:"<",size:1}]},{keys:[{value:"",number:"",symbol:"",size:"alpha"},{value:"Z",number:".",symbol:"~",size:1},{value:"X",number:"¿",symbol:"[",size:1},{value:"C",number:"?",symbol:"]",size:1},{value:"V",number:"¡",symbol:"{",size:1},{value:"B",number:"!",symbol:"}",size:1},{value:"N",number:";",symbol:"%",size:1},{value:"M",number:":",symbol:"^",size:1},{value:"Ñ",number:",",symbol:"`",size:1},{value:"",number:"",symbol:"",size:"backspace"}]},{keys:[{value:"1 2 3",number:"A B C",symbol:"A B C",size:2},{value:"",number:"",symbol:"",size:5},{value:"",number:"",symbol:"",size:"ok"}]}],selected:[0,0],input:NaN,send:NaN,alpha:!1,number:!1,init:function(e,t){keyboard.selected=[0,0],keyboard.input=e,keyboard.send=t,keyboard.alpha=!1,keyboard.number=!1;e=document.createElement("div");e.id=keyboard.id,e.innerHTML=keyboard.generate(),document.body.appendChild(e),keyboard.move(keyboard.selected),keyboard.previous=main.state,main.state=keyboard.id},destroy:function(){document.body.removeChild(document.getElementById(keyboard.id)),main.state=keyboard.previous,keyboard.send=NaN},generate:function(){var e,t="";for(e of keyboard.values){t+=`<div class="${keyboard.id}-option row">`;for(var n of e.keys)t+=`
        <div class="col ${keyboard.getSize(n)}">
          ${keyboard.getValue(n)}
        </div>`;t+="</div>"}return t},getValue:function(e){return keyboard.number?keyboard.alpha?e.symbol:e.number:e.value[keyboard.alpha?"toUpperCase":"toLowerCase"]()},getSize:function(e){return"alpha"===e.size?"size-"+(keyboard.number?"symbol":"alpha")+(keyboard.alpha?" active":""):"size-"+e.size},keyDown:function(e){switch(e.keyCode){case tvKey.IS_KEY_BACK(e.keyCode):keyboard.destroy();break;case tvKey.KEY_UP:0<keyboard.selected[0]&&(t={1:8,3:2}[keyboard.selected[0]-1]||9,keyboard.move([keyboard.selected[0]-1,3===keyboard.selected[0]?3*(keyboard.selected[1]+1)-1:keyboard.selected[1]>t?t:keyboard.selected[1]]));break;case tvKey.KEY_DOWN:var t={1:8,3:2}[keyboard.selected[0]+1]||9;keyboard.selected[0]<3&&keyboard.move([keyboard.selected[0]+1,2===keyboard.selected[0]?Math.round(keyboard.selected[1]/4.5):keyboard.selected[1]>t?t:keyboard.selected[1]]);break;case tvKey.KEY_LEFT:var n=0<keyboard.selected[1]?keyboard.selected[1]-1:{1:8,3:2}[keyboard.selected[0]]||9;keyboard.move([keyboard.selected[0],n]);break;case tvKey.KEY_RIGHT:t={1:8,3:2}[keyboard.selected[0]]||9;keyboard.move([keyboard.selected[0],keyboard.selected[1]<t?keyboard.selected[1]+1:0]);break;case tvKey.KEY_ENTER:keyboard.action(keyboard.selected)}},move:function(e){keyboard.selected=e;for(var t=document.getElementsByClassName(keyboard.id+"-option"),n=0;n<t.length;n++)for(var i=t[n].children,r=0;r<i.length;r++)n==e[0]&&r==e[1]?i[r].className=i[r].className+" selected":i[r].className=i[r].className.replace(" selected","")},action:function(e){switch(e[0]+""+e[1]){case"20":keyboard.upperCase();break;case"30":keyboard.change();break;case"31":keyboard.input.value=keyboard.input.value+" ";break;case"32":keyboard.send&&keyboard.send(),keyboard.destroy();break;case"29":keyboard.input.value=keyboard.input.value.slice(0,-1);break;default:keyboard.input.value=keyboard.input.value+document.getElementsByClassName(keyboard.id+"-option")[e[0]].children[e[1]].innerText}},upperCase:function(){keyboard.alpha=!keyboard.alpha,document.getElementById("keyboard-screen").innerHTML=keyboard.generate(),keyboard.move(keyboard.selected)},change:function(){keyboard.number=!keyboard.number,keyboard.alpha=!1,document.getElementById("keyboard-screen").innerHTML=keyboard.generate(),keyboard.move(keyboard.selected)}},window.loading={id:"loading-screen",active:!1,start:function(){var e;document.getElementById(loading.id)||(loading.active=!0,(e=document.createElement("div")).id=loading.id,e.className="flat",e.innerHTML=`
      <div class="content flat">
        <div class="loading"></div>
      </div>`,document.body.appendChild(e)),loading.active=!0},end:function(){document.getElementById(loading.id)&&document.body.removeChild(document.getElementById(this.id)),loading.active=!1},init:function(){var e=document.createElement("div");e.id=loading.id,e.innerHTML=`
    <div class="content">
      <div class="logo">
        <img src="https://jhassan8.github.io/crunchyroll-tizen/assets/imgs/logo.png" alt="">
      </div>
      <div class="loading">
        <span></span>
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>`,document.body.appendChild(e),main.state=loading.id},destroy:function(){document.body.removeChild(document.getElementById(this.id))},keyDown:function(e){switch(e.keyCode){case tvKey.IS_KEY_BACK(e.keyCode):case tvKey.KEY_EXIT:exit.init(!0)}}},window.login={id:"login-screen",selected:0,init:function(){var e=document.createElement("div");e.id=login.id,e.innerHTML=`
  <div class="content">
    <div class="box">
      <div class="logo">
        <img src="https://jhassan8.github.io/crunchyroll-tizen/assets/imgs/logo-big.png" alt="">
      </div>
      <div class="form">
        <div class="input ${login.id}-option">
          <input type="text" tabindex="-1" placeholder="${translate.go("login.username")}">
        </div>
        <div class="input ${login.id}-option">
          <input type="password" tabindex="-1" placeholder="${translate.go("login.password")}">
        </div>
        <a class="button ${login.id}-option" translate>${translate.go("login.enter")}</a>
        <span id="login-error-message"></span>
      </div>
    </div>
  </div>`,document.body.appendChild(e),login.move(login.selected),main.state=login.id},destroy:function(){document.body.removeChild(document.getElementById(this.id))},keyDown:function(e){switch(e.keyCode){case tvKey.IS_KEY_BACK(e.keyCode):exit.init();break;case tvKey.KEY_UP:login.move(0==login.selected?0:login.selected-1);break;case tvKey.KEY_DOWN:login.move(2==login.selected?2:login.selected+1);break;case tvKey.KEY_ENTER:case tvKey.KEY_PANEL_ENTER:login.action(this.selected)}},move:function(e){login.selected=e;for(var t=document.getElementsByClassName(login.id+"-option"),n=0;n<t.length;n++)t[n].className=t[n].className.replace(" focus",""),n==e&&(t[n].className=t[n].className+" focus")},error:function(e){var t=$("#login-error-message");t.text(e),t.show(),setTimeout(function(){t.hide()},3e3)},action:function(e){var t,n,i=document.getElementsByClassName(login.id+"-option");2==e?(t=i[0].firstElementChild.value,n=i[1].firstElementChild.value,!/\S+@\S+\.\S+/.test(t)||n.length<5?login.error(translate.go("login.error.invalid")):(login.destroy(),loading.init(),session.start(t,n,{success:function(){main.events.login()},error:function(){loading.destroy(),login.init()}}))):keyboard.init(i[e].firstElementChild)}},window.menu={id:"menu-screen",options:[{id:"search",label:"menu.search",icon:"fa-solid fa-magnifying-glass",action:"search.init"},{id:"home",label:"menu.home",icon:"fa-solid fa-house",action:"home.restart"},{id:"mylist",label:"menu.list",icon:"fa-solid fa-bookmark",action:"mylist.init"},{id:"historyScreen",label:"menu.history",icon:"fa-solid fa-clock-rotate-left",action:"historyScreen.init"},{id:"browse",label:"menu.browse",icon:"fa-regular fa-rectangle-list",action:"browse.init"},{id:"settings",label:"menu.settings",icon:"fa-solid fa-gear",tool:!0,action:"settings.init"},{id:"logout",label:"menu.logout",icon:"fa-solid fa-sign-out",tool:!0,event:"logout"}],selected:1,previous:NaN,isOpen:!1,init:function(n){var e=document.createElement("div"),i=(e.id=this.id,""),r="";menu.options.forEach((e,t)=>{e.tool?i+=`
        <a class="option ${n&&"settings"===e.id||t===menu.selected?"selected":""}">
          <i class="${e.icon}"></i>
          <p>${translate.go(e.label)}</p>
        </a>`:r+=`
        <a class="option ${n||t!==menu.selected?"":"selected"}">
          <i class="${e.icon}"></i>
          <p>${translate.go(e.label)}</p>
        </a>`}),e.innerHTML=`
    <div class="content">
      <div class="profile ${session.storage.account.premium?"premium":""}">
        <div class="avatar">
          <img src="https://static.crunchyroll.com/assets/avatar/170x170/${session.storage.account.avatar}">
        </div>
        <p>${session.storage.account.username}</p>
        <i class="fa-solid fa-crown"></i>
      </div>
      <div class="options">
        ${r}
      </div>
      <div class="tools">
        ${i}
      </div>
    </div>`,document.body.appendChild(e)},destroy:function(){menu.isOpen&&menu.close(),document.getElementById(this.id)&&document.body.removeChild(document.getElementById(this.id))},open:function(){menu.isOpen=!0,$("body").addClass("open-menu"),$(`#${menu.id} .option.selected`).addClass("focus"),this.previous=main.state,main.state=this.id},close:function(){menu.isOpen=!1,$("body").removeClass("open-menu"),$(`#${menu.id} .option`).removeClass("focus"),main.state=this.previous},move:function(){var n="";(menu.option.root?menu.options:menu.options[menu.option.item].childs).forEach((e,t)=>{n+=`<div class="option ${e.icon}${this.option.selected===t?" selected":""}">${e.text||""}</div>`,this.option.selected===t&&(document.getElementById(this.id+"-title").innerText=e.title)}),document.getElementById(menu.id+"-options").innerHTML=n},keyDown:function(e){switch(e.keyCode){case tvKey.KEY_RIGHT:menu.close();break;case tvKey.IS_KEY_BACK(e.keyCode):exit.init();break;case tvKey.KEY_UP:var t=(n=$(`#${menu.id} .option`)).index($(`#${menu.id} .option.focus`));n.removeClass("focus"),n.eq(0<t?t-1:t).addClass("focus");break;case tvKey.KEY_DOWN:t=(n=$(`#${menu.id} .option`)).index($(`#${menu.id} .option.focus`));n.removeClass("focus"),n.eq(t<n.length-1?t+1:t).addClass("focus");break;case tvKey.KEY_ENTER:case tvKey.KEY_PANEL_ENTER:var n,i,t=(n=$(`#${menu.id} .option`)).index($(`#${menu.id} .option.focus`));menu.options[t].action?(i=n.index($(`#${menu.id} .option.selected`)),n.removeClass("selected"),n.eq(t).addClass("selected"),this.previous=window[menu.options[t].id].id,window[menu.options[i].id].destroy(),test=menu.options[t].action.split("."),window[test[0]][test[1]](),menu.close()):menu.options[t].event&&window.main.events[menu.options[t].event]()}}},window.mylist={id:"mylist-screen",previous:NaN,data:{loadedLists:0,lists:[]},selectedRow:0,init:function(){var t=document.createElement("div");t.id=mylist.id,loading.start(),mylist.loadLists({success:function(){t.innerHTML=`
        <div class="content">
          <div class="details">
            <div class="background">
              <img id="generic-background"/>
            </div>
            <div class="information">
              <div id="generic-title"></div>
              <div id="generic-description"></div>
              <div class="extra-info"></div>
            </div>
          </div>
          <div class="lists">
            <div class="inner-lists">
              ${mylist.generateLists()}
              <div class="list-end">
                <img src="https://jhassan8.github.io/crunchyroll-tizen/assets/imgs/empty_data.png"/>
                <div class="text">${translate.go("lists.empty")}</div>
              </div>
            </div>
          </div>
          <div class="logo-fixed">
            <img src="https://jhassan8.github.io/crunchyroll-tizen/assets/imgs/logo-big.png"/>
          </div>
        </div>`,document.body.appendChild(t),$(`#${mylist.id} .lists .row-content`).slick({dots:!1,arrows:!1,infinite:!1,slidesToShow:6.5,slidesToScroll:1,speed:150}),mylist.details(),loading.end()},error:function(e){console.log(e),t.innerHTML=`
        <div class="content">
          error
          <div class="logo-fixed">
            <img src="https://jhassan8.github.io/crunchyroll-tizen/assets/imgs/logo-big.png"/>
          </div>
        </div>`,document.body.appendChild(t),loading.end()}})},destroy:function(){mylist.data.lists=[],mylist.data.loadedLists=0,mylist.selectedRow=0,document.body.removeChild(document.getElementById(mylist.id))},keyDown:function(e){switch(e.keyCode){case tvKey.KEY_BACK:case tvKey.KEY_ESCAPE:menu.open();break;case tvKey.KEY_UP:var t=$(".row"),n=mylist.selectedRow,i=(t.removeClass("selected"),0<n?n-1:n),r=(t.eq(i).addClass("selected"),mylist.selectedRow=i,0),o=1;t.length>o&&o-1<i&&(r=-231*(i-(o-1))),$(".inner-lists")[0].style.marginTop=r+"px",mylist.details();break;case tvKey.KEY_DOWN:t=$(".row"),n=mylist.selectedRow,i=(t.removeClass("selected"),n<t.length-1?n+1:n),r=(t.eq(i).addClass("selected"),mylist.selectedRow=i,0),o=1;t.length>o&&o-1<i&&(r=-231*(i-(o-1))),$(".inner-lists")[0].style.marginTop=r+"px",mylist.details();break;case tvKey.KEY_LEFT:0===$(".row-content").length||0===$(".row-content")[mylist.selectedRow].slick.currentSlide?menu.open():($(".row-content")[mylist.selectedRow].slick.prev(),mylist.details());break;case tvKey.KEY_RIGHT:$(".row-content")[mylist.selectedRow].slick.currentSlide<mylist.data.lists[mylist.selectedRow].items.length-1&&($(".row-content")[mylist.selectedRow].slick.next(),mylist.details());break;case tvKey.KEY_ENTER:case tvKey.KEY_PANEL_ENTER:n=mylist.data.lists[mylist.selectedRow].items[$(".row-content")[mylist.selectedRow].slick.currentSlide];home_details.init(n,function(e){var t=document.createElement("div");t.id=home.id,t.innerHTML=`
            <div class="content">
              <div class="details full">
                <div class="background">
                  <img src="${e.background}">
                </div>
                <div class="info">
                  <div class="title resize">${e.title}</div>
                  <div class="description resize">${e.description}</div>
                  <div class="buttons">
                    <a class="selected">${translate.go("home.banner.play")}</a>
                    <a>${translate.go("home.banner.info")}</a>
                  </div>
                </div>
              </div>
              <div class="logo-fixed">
                <img src="https://jhassan8.github.io/crunchyroll-tizen/assets/imgs/logo-big.png"/>
              </div>
            </div>`,document.getElementById(mylist.id).style.display="none",document.body.appendChild(t)},function(){document.getElementById(mylist.id).style.display="block",home.destroy()})}},loadLists:function(n){service.getCustomLists({success:function(e){listToFetch=[{order:0,title:"lists.watchlist",method:"getWatchList"}],e.data.forEach((e,t)=>{listToFetch.push({order:t+1,title:e.title,method:"getCustomListItems",data:e.list_id})}),listToFetch.forEach(t=>{service[t.method]({data:t.data,success:function(e){mylist.data.loadedLists++,0<e.data.length&&mylist.data.lists.push({order:t.order,title:t.title,items:mapper.mapItems(e.data)}),mylist.data.loadedLists===listToFetch.length&&(mylist.data.lists.sort(function(e,t){return e.order-t.order}),n.success())},error:function(e){console.log(e)}})})},error:function(e){n.error(e)}})},generateLists:function(){var n="";return mylist.data.lists.forEach((e,t)=>{if(0<e.items.length){n+=`
      <div class="row ${t===mylist.selectedRow?"selected":""}">
        <div class="row-title">${translate.go(e.title)}</div>
        <div class="row-content fixed-error">`,e.items.forEach(e=>{n+=mylist.createItem(e)});for(t=0;t<9;t++)n+=mylist.createEmptyItem();n+="</div></div>"}}),n},createItem:function(e){var t=e.playhead?`<div class="progress" style="width: ${100*e.playhead/e.duration}%" value="${e.duration-e.playhead}m"></div>`:"";return`
    <div class="item">
      <div class="poster">
        <img src="${e.background}"/>
        ${t}
      </div>
    </div>`},createEmptyItem:function(e){return`
    <div class="item">
      <div class="poster">
        <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=">
      </div>
    </div>`},details:function(){try{var e=mylist.data.lists[mylist.selectedRow].items[$(".row-content")[mylist.selectedRow].slick.currentSlide],t=($(".details .background img").attr("src",e.background),$(".details .information #generic-title")[0]),n=(t.innerText=e.title,t.style.fontSize=t.scrollHeight>t.clientHeight?"2.5vh":"4vh",$(".details .information #generic-description")[0]);n.innerText=e.description,n.style.fontSize=n.scrollHeight>n.clientHeight?"1.5vh":"2vh"}catch(e){console.log(e)}},toggleStatus:function(e,t,n){service[t?"addWatchlist":"removeWatchlist"]({data:{content_id:e},success:n.success,error:n.error})}},window.search={id:"search-screen",previous:NaN,input:NaN,position:-1,last_postion:0,items_per_row:9,scroll_data:{item_padding:30,item_height:390,rows:10},data:{result:[]},init:function(){var e=document.createElement("div");e.id=search.id,e.innerHTML=`
      <div class="content">
        <div class="input focus" id="search-screen_input">
          <input type="text" tabindex="-1" placeholder="${translate.go("search.placeholder")}">
        </div>
        <div class="list-container">
          <div class="list-container-over" style="grid-template-columns: repeat(${search.items_per_row}, 1fr);"></div>
        </div>
        <div class="logo-fixed">
          <img src="https://jhassan8.github.io/crunchyroll-tizen/assets/imgs/logo-big.png"/>
        </div>
      </div>`,document.body.appendChild(e),search.input=document.getElementById("search-screen_input").firstElementChild},destroy:function(){search.data.result=[],document.body.removeChild(document.getElementById(search.id))},start:function(){loading.start(),service.search({data:{query:search.input.value},success:function(e){loading.end(),search.data.result=mapper.search(e);var n="";search.data.result.forEach((e,t)=>{n+=`
              <div class="item${0===t?" selected":""}">
                <img src="${e.poster}" alt="">
                <div class="title">${e.title}</div>
              </div>`}),$(".list-container-over").html(n),search.last_postion=0,search.scroll_data.item_height=parseFloat(window.getComputedStyle($(".list-container-over .item").get(0)).height.replace("px","")),search.scroll_data.rows=Math.ceil(search.data.result.length/search.items_per_row)},error:function(e){loading.end(),console.log(e)}})},toggleFocus:function(e){e<0?($("#search-screen_input").addClass("focus"),$(".list-container").removeClass("focus"),search.last_postion=0<=search.position?search.position:search.last_postion,e=-1):(-1==search.position&&($("#search-screen_input").removeClass("focus"),$(".list-container").addClass("focus")),e>=search.data.result.length&&(e=search.data.result.length-1),$(".list-container .item").removeClass("selected"),$(".list-container .item").eq(e).addClass("selected")),search.position=e},scroll:function(){var e;0!=search.data.result.length&&((e=Math.floor(search.position/search.items_per_row))<2?$(".list-container-over").get(0).style.marginTop="0px":e+1>=search.scroll_data.rows||(e-=1,$(".list-container-over").get(0).style.marginTop=`-${e*(search.scroll_data.item_height+search.scroll_data.item_padding)}px`))},keyDown:function(e){switch(e.keyCode){case tvKey.IS_KEY_BACK(e.keyCode):-1===search.position?menu.open():search.toggleFocus(-1);break;case tvKey.KEY_NEXT:break;case tvKey.KEY_UP:search.toggleFocus(search.position-search.items_per_row),search.scroll();break;case tvKey.KEY_DOWN:var t=search.position+search.items_per_row;-1==search.position&&(t=search.last_postion),search.toggleFocus(t),search.scroll();break;case tvKey.KEY_LEFT:search.position%search.items_per_row==0?menu.open():search.toggleFocus(search.position-1);break;case tvKey.KEY_RIGHT:(search.position+1)%search.items_per_row!=0&&search.toggleFocus(search.position+1);break;case tvKey.KEY_ENTER:case tvKey.KEY_PANEL_ENTER:-1===this.position?keyboard.init(search.input,search.start):home_details.init(search.data.result[search.position],function(e){var t=document.createElement("div"),e=(t.id=home.id,t.innerHTML=`
            <div class="content">
              <div class="details full">
                <div class="background">
                  <img src="${e.background}">
                </div>
                <div class="info">
                  <div class="title resize">${e.title}</div>
                  <div class="description resize">${e.description}</div>
                  <div class="buttons">
                    <a class="selected">Play</a>
                    <a>More information</a>
                  </div>
                </div>
              </div>
              <div class="logo-fixed">
                <img src="https://jhassan8.github.io/crunchyroll-tizen/assets/imgs/logo-big.png"/>
              </div>
            </div>`,document.getElementById(search.id).style.display="none",document.body.appendChild(t),$(".details .info .title")[0]),t=(e.style.fontSize=e.scrollHeight>e.clientHeight?"3.5vh":"5vh",$(".details .info .description")[0]);t.style.fontSize=t.scrollHeight>t.clientHeight?"2vh":"2.5vh"},function(){document.getElementById(search.id).style.display="block",home.destroy(),search.toggleFocus(search.position)})}}},window.settings={id:"settings-screen",isDetails:!1,options:[{id:"applicationlang",label:"settings.menu.application_lang",type:"list"},{id:"audiolang",label:"settings.menu.audio_lang",type:"list"},{id:"subtitlelang",label:"settings.menu.subtitle_lang",type:"list"},{id:"videoquality",label:"settings.menu.video_quality",type:"list"},{id:"mature",label:"settings.menu.mature",type:"list"},{id:"about",label:"settings.menu.about",type:"html"}],qualities:{auto:"Auto",240:"240p",360:"360p",480:"480p",720:"720p HD",1080:"1080p HD"},bool:{M2:"NO",M3:"YES"},previous:NaN,init:function(){var e=document.createElement("div");e.id=settings.id,e.innerHTML=`
      <div class="content">
        <div class="container-mid">
          <ul class="options" id="settings-menu">${settings.generateMenu()}</ul>
        </div>
        <div class="container" id="settings-details"></div>
      </div>`,document.body.appendChild(e),settings.details.show(settings.options[0])},destroy:function(){settings.isDetails=!1,document.body.removeChild(document.getElementById(settings.id))},keyDown:function(e){switch(e.keyCode){case tvKey.IS_KEY_BACK(e.keyCode):menu.open();break;case tvKey.KEY_UP:settings.isDetails?(n=(t=$(".options li")).index($(".options li.active")),settings.details[settings.options[n].type].move(-1)):(n=(t=$(".options li")).index($(".options li.selected")),t.removeClass("selected"),t.eq(i=0<n?n-1:n).addClass("selected"),settings.details.show(settings.options[i]));break;case tvKey.KEY_DOWN:settings.isDetails?(n=(t=$(".options li")).index($(".options li.active")),settings.details[settings.options[n].type].move(1)):(n=(t=$(".options li")).index($(".options li.selected")),t.removeClass("selected"),i=n<t.length-1?n+1:n,t.eq(i).addClass("selected"),settings.details.show(settings.options[i]));break;case tvKey.KEY_LEFT:settings.isDetails?(n=(t=$(".options li")).index($(".options li.active")),t.removeClass("active"),t.eq(n).addClass("selected"),settings.details[settings.options[n].type].move(!1),settings.isDetails=!1):menu.open();break;case tvKey.KEY_RIGHT:settings.isDetails||(n=(t=$(".options li")).index($(".options li.selected")),t.removeClass("selected"),t.eq(n).addClass("active"),settings.isDetails=!0,settings.details[settings.options[n].type].move(0));break;case tvKey.KEY_ENTER:case tvKey.KEY_PANEL_ENTER:var t,n,i;settings.isDetails&&(n=(t=$(".options li")).index($(".options li.active")),i=settings.options[n],settings.details[i.type].action(i.id))}},generateMenu:function(e){var n=void 0===e?"selected":"active",i=void 0===e?0:e;return settings.options.map((e,t)=>`<li class="${t===i?n:""}">${translate.go(e.label)}</li>`).join("")},resetLang:function(){var e=$(".options li").index($(".options li.active"));$("#settings-menu").html(settings.generateMenu(e)),menu.destroy(),menu.init(!0)},details:{show:function(e){$("#settings-details").html(settings.details[e.type].create(e.id))},list:{create:function(e){switch(e){case"audiolang":var t=session.languages.audios,n=session.storage.account.audio;break;case"applicationlang":n=(delete(t=JSON.parse(JSON.stringify(session.languages.subtitles)))[""],session.storage.language);break;case"subtitlelang":t=session.languages.subtitles,n=session.storage.account.language;break;case"videoquality":t=settings.qualities,n=session.storage.quality||"auto";break;case"mature":t=settings.bool,n=session.storage.account.mature}return'<ul class="list-active" id="list-details-offset">'+Object.keys(t).map(e=>`<li class="${e===n?"active":""}">${t[e]}</li>`).join("")+"</ul>"},adjust:function(e,t,n){t=6<t&&5<e?t-2<e?-104*(t-6):-104*(e-5):0;document.getElementById(n).style.marginTop=t+"px"},action:function(e){var t=$("#settings-details li"),n=t.index($("#settings-details li.selected"));switch(console.log(e,n),e){case"audiolang":var i=session.languages.audios,r=function(t){service.setProfile({data:{preferred_content_audio_language:t},success:function(e){session.storage.account.audio=t,session.update()},error:function(e){console.log(e)}})};break;case"applicationlang":r=(delete(i=JSON.parse(JSON.stringify(session.languages.subtitles)))[""],function(e){translate.updateLanguage(e),settings.resetLang()});break;case"subtitlelang":i=session.languages.subtitles,r=function(t){service.setProfile({data:{preferred_content_subtitle_language:t},success:function(e){session.storage.account.language=t,session.update()},error:function(e){console.log(e)}})};break;case"videoquality":i=settings.qualities,r=function(e){session.storage.quality=e,session.update()};break;case"mature":i=settings.bool,r=function(t){service.setProfile({data:{maturity_rating:t},success:function(e){session.storage.account.mature=t,session.update()},error:function(e){console.log(e)}})}}r(Object.keys(i)[n]),t.removeClass("active"),t.eq(n).addClass("active")},move:function(e){var t,n=$("#settings-details li");!1===e?n.removeClass("selected"):(t=0<=(t=n.index($("#settings-details li.selected")))?t:n.index($("#settings-details li.active")),n.removeClass("selected"),e=e<0?0<t?t+e:t:t+e<n.length?t+e:t,n.eq(e).addClass("selected"),settings.details.list.adjust(e,n.length,"list-details-offset"))}},html:{create:function(e){return`
        <div style="color: #fff;font-size: 23px;line-height: 51px;text-align: right;padding: 38px 0;position: absolute;right: 0;bottom: 0;">
          <div>Crunchyroll unofficial app.</div>
          <div>Github: https://github.com/jhassan8/crunchyroll-tizen</div>
          <div>Contact: Github or jhassan8@outlook.com</div>
          <div>Version: ${session.storage.version}</div>
        </div>`},move:function(){}}}},window.video={id:"video-screen",previous:null,episode:null,token:null,speed:{options:[.25,.5,.75,1,1.25,1.5,1.75,2],active:1,state:!1},next:{shown:!1,state:!1,time:60,episode:null},option:!1,options:[{icon:"fa-solid fa-forward-step",action:"nextEpisode",param:!0},{icon:"fa-solid fa-play playback-speed",action:"playbackSpeed",param:!0},{icon:"fa-solid fa-message",action:"openLanguages"},{icon:"toggle-aspect fa-solid fa-expand",action:"toggleAspectRatio"}],aspects:["expand","compress","crop-simple"],aspect:0,subtitles:[],subtitle:null,audios:[],audio:null,intro:null,streams:[],timers:{history:{object:null,duration:3e4},next:null,osd:{object:null,duration:4e3}},settings:{open:!1,selected:!1},toggleAspectRatio:function(){video.aspect=video.aspect<video.aspects.length-1?video.aspect+1:0,document.getElementById("videoplayer").className=video.aspects[video.aspect],$(".toggle-aspect")[0].className=`toggle-aspect fa-solid fa-${video.aspects[video.aspect]} selected`},openLanguages:function(){video.hideOSD(),video.settings.open=!0,player.pause(),$("#osd-icon").hide(),$(".player-settings").hide(),video.setAudios(),video.setSubtitles(),$(".settings-slide").addClass("open")},getSettings:function(){return video.options.map(e=>`<i class="${e.icon}"></i>`).join("")},init:function(e){var t=document.createElement("div");t.id=video.id,video.play(e),t.innerHTML=`
    <div class="content">
      <img id="background" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=">
      <video id="videoplayer" style="width:100%; height:100%;"></video>
      <div class="osd" id="osd">
        <div class="player-settings">
          <div id="setting-options">
            ${video.getSettings()}
          </div>
        </div>
        <div class="details">
          <div id="title">${e.serie}</div>
          <div id="subtitle">
            ${e.season_number}x${e.episode_number} - ${e.episode}
          </div>
        </div>
        <div class="progress">
          <div id="time">00:00:00</div>
          <div class="bar">
            <div id="played">
              <div class="preview">
                <img id="preview">
              </div>
            </div>
          </div>
          <div id="total">00:00:00</div>
        </div>
      </div>
      <div id="osd-icon" class="icon-status">
        <div class="icon"></div>
        <div id="osd-icon-data" class="percent"></div>
      </div>
      <div class="next-episode">
        <div class="next-episode-image">
          <img id="next-episode-image">
          <div id="next-episode-count">${video.next.time}</div>
        </div>
      </div>

      <div id="skip-intro">
        <i class="fa-solid fa-forward"></i>
        ${translate.go("video.skip")}
      </div>

      <div class="settings-slide">
        <div id="languages-content">
          <div class="title">${translate.go("video.languages.audios")}</div>
          <ul id="audios"></ul>
          <div class="title">${translate.go("video.languages.subtitles")}</div>
          <ul id="subtitles"></ul>
        </div>
      </div>
    </div>`,document.body.appendChild(t),$("#"+home.id).hide(),video.previous=main.state,main.state=video.id},destroy:function(){video.hideOSD(),player.stop(),clearTimeout(video.timers.osd.object),clearInterval(video.timers.next),clearInterval(video.timers.history.object),main.state=video.previous,document.body.removeChild(document.getElementById(video.id)),$("#"+home.id).show(),video.next.episode=null,video.next.status=!1,video.next.shown=!1,video.episode=null,video.data=null,video.streams=[],video.speed.state=!1,video.speed.active=1},keyDown:function(e){var t,n,i,r,o,a,s,l,u,d=!0;switch(e.keyCode){case tvKey.KEY_STOP:case tvKey.IS_KEY_BACK(e.keyCode):video.settings.open?(d=!1,video.settings.open=!1,$(".settings-slide").removeClass("open"),$("#osd-icon").show(),video.settings.selected=!1,$("#setting-options").removeClass("selected"),$(".player-settings").show(),player.resume()):video.next.status?video.stopNext():video.speed.state?(video.hidePlaySpeed(),video.showOSD()):video.destroy();break;case tvKey.KEY_PLAY:video.settings.open||player.resume();break;case tvKey.KEY_PAUSE:video.settings.open||player.pause();break;case tvKey.KEY_PLAY_PAUSE:video.settings.open||player.playPause();break;case tvKey.KEY_ENTER:case tvKey.KEY_PANEL_ENTER:video.settings.open&&(d=!1,t="audios"===(n=$("#languages-content .option.selected")).parent().attr("id"),n.parent().children(".option.active")[0]!==n[0])&&((i=n.parent().children(".option")).removeClass("active"),n.addClass("active"),t?video.changeAudio(i.index(n[0])):video.changeSubtitle(i.index(n[0]))),video.intro&&video.intro.state?(d=!1,player.forwardTo(video.intro.end)):video.next.status?(clearInterval(video.timers.next),video.playNext()):1==document.getElementById("osd").style.opacity&&(video.option?(n=$("#setting-options i").index($("#setting-options i.selected")),d=!video[video.options[n].action](video.options[n].param)):player.playPause());break;case tvKey.KEY_PREVIOUS:case tvKey.KEY_LEFT:video.option?video.speed.state?(d=!1,video.setSpeed(-1)):(n=(i=$("#setting-options i")).index($("#setting-options i.selected")),i.removeClass("selected"),i.eq(0<n?n-1:n).addClass("selected")):video.settings.open||player.rewind(video.setPlayingTime);break;case tvKey.KEY_RIGHT:case tvKey.KEY_NEXT:video.option?video.speed.state?(d=!1,video.setSpeed(1)):(n=(i=$("#setting-options i")).index($("#setting-options i.selected")),i.removeClass("selected"),i.eq(n<video.options.length-1?n+1:n).addClass("selected")):video.settings.open||player.forward(video.setPlayingTime);break;case tvKey.KEY_UP:video.settings.open?(r=(i=$("#languages-content .option")).index($("#languages-content .option.selected")),i.removeClass("selected"),i.eq(o=0<r?r-1:r).addClass("selected"),s=0,l="audios"===(a=$("#languages-content .option.selected").parent()).attr("id")?4:3,u=a.children().index($("#languages-content .option.selected")),a.children().length>l&&l-1<u&&(s=u>a.children().length-(l-1)?-82*(a.children().length-l):-82*(u-(l-1))),a.children().first()[0].style.marginTop=s+"px"):1!=document.getElementById("osd").style.opacity||video.option||($("#setting-options").children().first().addClass("selected"),video.option=!0);break;case tvKey.KEY_DOWN:video.settings.open?(r=(i=$("#languages-content .option")).index($("#languages-content .option.selected")),i.removeClass("selected"),o=r<i.length-1?r+1:r,i.eq(o).addClass("selected"),s=0,l="audios"===(a=$("#languages-content .option.selected").parent()).attr("id")?4:3,u=a.children().index($("#languages-content .option.selected")),a.children().length>l&&l-1<u&&(s=u>a.children().length-(l-1)?-82*(a.children().length-l):-82*(u-(l-1))),a.children().first()[0].style.marginTop=s+"px"):video.speed.state?(video.hidePlaySpeed(),video.showOSD()):(video.option=!1,$("#setting-options").children().removeClass("selected"))}video.settings.open||video.speed.state||!d||video.showOSD()},end:function(){video.next.status?video.playNext():video.destroy()},play:function(n,i,r){video.episode=n.id,service.video_v2({data:{id:n.id},success:function(t){video.token=t.token,video.stopNext(),video.setSkipIntro(n.id),video.next.shown=!1;try{video.audio=t.audioLocale,video.audios=[{name:video.audio,id:n.id}],t.versions&&(video.audios=t.versions.map(e=>({name:e.audio_locale,id:e.guid}))),r?video.subtitle=r:(video.subtitle=t.hardSubs[session.storage.account.language]?session.storage.account.language:"Disabled",video.subtitle="Disabled"===video.subtitle&&t.hardSubs[session.storage.account.audio]?session.storage.account.audio:video.subtitle),video.subtitles=t.hardSubs?Object.keys(t.hardSubs).map(e=>({name:e,url:t.hardSubs[e].url})):[],video.subtitles.unshift({name:"Disabled",url:t.url});var e=video.subtitles.findIndex(e=>e.name===video.subtitle);player.play({token:t.token,id:n.id},video.subtitles[e].url,n.playhead===n.duration?0:n.playhead,i),video.startHistory(),video.setAudios(),video.setSubtitles()}catch(e){console.log(e)}setTimeout(()=>{player.deleteSession({data:{id:video.episode,token:video.token}})},3e3),video.showOSD()},error:function(e){video.stopNext(),video.next.shown=!1,console.log(e)}})},setSkipIntro:function(e){service.intro({data:{id:e},success:function(e){e.duration&&10<e.duration?video.intro={start:e.startTime+2,end:e.endTime-2,state:!1}:video.intro=null},error:function(e){console.log(e)}})},showSkip:function(e){e>video.intro.end?(video.intro.state=!1,$("#skip-intro").hide()):!video.intro.state&&e>video.intro.start&&e<video.intro.end&&(video.intro.state=!0,$("#skip-intro").show())},setAudios:function(){$("#audios li").remove();var n="";video.audios.forEach((e,t)=>{n+=`<li class="option${e.name===video.audio?" active selected":""}">${session.languages.audios[e.name]}</li>`}),document.getElementById("audios").innerHTML=n},changeAudio:function(e){video.play({id:video.audios[e].id,playhead:player.getPlayed()/60,duration:player.getDuration()},!0),video.setSubtitles()},setSubtitles:function(){$("#subtitles").html("");var t="";video.subtitles.forEach(e=>{t+=`<li class="option${e.name===video.subtitle?" active":""}">${session.languages.subtitles[e.name]}</li>`}),document.getElementById("subtitles").innerHTML=t},changeSubtitle:function(e){video.play({id:video.episode,playhead:player.getPlayed()/60,duration:player.getDuration()},!0,video.subtitles[e].name)},stopNext:function(){clearInterval(video.timers.next),video.next.status=!1,video.next.episode=null,document.getElementById("next-episode-count").innerText=video.next.time,$(".next-episode").hide()},playNext:function(){video.saveHistory(Math.floor(player.getDuration())),video.play(video.next.episode),$(".osd #title").text(video.next.episode.serie),$(".osd #subtitle").text(`${video.next.episode.season_number}x${video.next.episode.episode_number} - `+video.next.episode.episode)},nextEpisode:function(t){video.next.shown=!0;try{service.continue({data:{ids:video.episode},success:function(e){video.next.episode=mapper.continue(e),t?video.playNext():(document.getElementById("next-episode-image").setAttribute("src",video.next.episode.background),$(".next-episode").show(),video.next.status=!0,video.timers.next=setInterval(()=>{var e=document.getElementById("next-episode-count").innerText;1==+e?clearInterval(video.timers.next):document.getElementById("next-episode-count").innerText=e-1},1e3))},error:function(e){console.log(e)}})}catch(e){console.log(e)}},playbackSpeed:function(){var e;return video.speed.state?(video.hidePlaySpeed(),video.showOSD(),!1):(e=`
        <ul id="speed-menu">
          <span></span>
          ${video.speed.options.map(e=>"<li>"+e+"</li>").join("")}
        </ul>
      `,video.speed.state=!0,video.showOSD(!0),$("#setting-options").hide(),$(".player-settings").append(e),video.setSpeed(0),!0)},hidePlaySpeed:function(){$("#speed-menu").remove(),$("#setting-options").show(),video.speed.state=!1},setSpeed:function(e){var t,n,e=video.speed.options.indexOf(video.speed.active)+e;0<=e&&e<video.speed.options.length&&(n=3===e?(t=50,$("#speed-menu").removeClass("to-rigth"),$("#speed-menu").removeClass("to-left"),""):3<e?(t=50+75*(e-3),"to-rigth"):(t=50+75*(3-e),"to-left"),$("#speed-menu").addClass(n),$("#speed-menu span").css("width",t),video.speed.active=video.speed.options[e],player.speed(video.speed.options[e]))},showOSD:function(e){clearTimeout(video.timers.osd.object),document.getElementById("osd").style.opacity=1,e||(video.timers.osd.object=setTimeout(()=>{video.hideOSD()},video.timers.osd.duration))},hideOSD:function(){video.option=!1,$("#setting-options").children().removeClass("selected"),video.timers.osd.object=null,document.getElementById("osd").style.opacity=0},showBTN:function(e,t){var n=document.getElementById("osd-icon");n&&(n.style.opacity=1,n.className="icon-status "+e)},hideBTN:function(){document.getElementById("osd-icon").style.opacity=0},startHistory:function(){clearInterval(video.timers.history.object),video.timers.history.object=setInterval(()=>{video.saveHistory()},video.timers.history.duration)},saveHistory:function(e){service.setHistory({data:{content_id:video.episode,playhead:e||Math.floor(player.getPlayed())},success:function(){},error:function(e){console.log(e)}})},setPlayingTime:function(){var e=(e=player.getPlayed()+player.values.forward_rewind)<0?0:e,t=player.getDuration(),n=100*e/t,i=(video.intro&&video.showSkip(e),!video.next.shown&&player.state===player.states.PLAYING&&e>=t-(video.next.time+2)&&video.nextEpisode(),Math.floor(t%60)),r=Math.floor(t%3600/60),t=(t=Math.floor(t/3600))<10?"0"+t:t,r=r<10?"0"+r:r,i=i<10?"0"+i:i,o=Math.floor(e%60),a=Math.floor(e%3600/60),e=(e=Math.floor(e/3600))<10?"0"+e:e,a=a<10?"0"+a:a,o=o<10?"0"+o:o;document.getElementById("time").innerText=`${e||"00"}:${a||"00"}:`+(o||"00"),document.getElementById("total").innerText=`${t||"00"}:${r||"00"}:`+(i||"00"),document.getElementById("played").style.width=n+"%"}};